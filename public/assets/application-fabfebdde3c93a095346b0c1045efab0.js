if(function(){var t,e,n,o,i,r,s={}.hasOwnProperty;r="undefined"!=typeof exports&&null!==exports?exports:this,e=function(t){this.message=t},e.prototype=new Error,i={prefix:"",default_url_options:{}},t={GROUP:1,CAT:2,SYMBOL:3,OR:4,STAR:5,LITERAL:6,SLASH:7,DOT:8},n={serialize:function(t,e){var n,o,i,a,l,c,u,d;if(null==e&&(e=null),!t)return"";if(!e&&"object"!==this.get_object_type(t))throw new Error("Url parameters should be a javascript hash");if(r.jQuery)return l=r.jQuery.param(t),l?l:"";switch(c=[],this.get_object_type(t)){case"array":for(o=u=0,d=t.length;d>u;o=++u)n=t[o],c.push(this.serialize(n,e+"[]"));break;case"object":for(i in t)s.call(t,i)&&(a=t[i],null!=a&&(null!=e&&(i=""+e+"["+i+"]"),c.push(this.serialize(a,i))));break;default:t&&c.push(""+encodeURIComponent(e.toString())+"="+encodeURIComponent(t.toString()))}return c.length?c.join("&"):""},clean_path:function(t){var e;return t=t.split("://"),e=t.length-1,t[e]=t[e].replace(/\/+/g,"/"),t.join("://")},set_default_url_options:function(t,e){var n,o,r,s,a;for(a=[],n=r=0,s=t.length;s>r;n=++r)o=t[n],!e.hasOwnProperty(o)&&i.default_url_options.hasOwnProperty(o)&&a.push(e[o]=i.default_url_options[o]);return a},extract_anchor:function(t){var e;return e="",t.hasOwnProperty("anchor")&&(e="#"+t.anchor,delete t.anchor),e},extract_trailing_slash:function(t){var e;return e=!1,i.default_url_options.hasOwnProperty("trailing_slash")&&(e=i.default_url_options.trailing_slash),t.hasOwnProperty("trailing_slash")&&(e=t.trailing_slash,delete t.trailing_slash),e},extract_options:function(t,e){var n;return n=e[e.length-1],e.length>t||null!=n&&"object"===this.get_object_type(n)&&!this.look_like_serialized_model(n)?e.pop():{}},look_like_serialized_model:function(t){return"id"in t||"to_param"in t},path_identifier:function(t){var e;return 0===t?"0":t?(e=t,"object"===this.get_object_type(t)&&(e="to_param"in t?t.to_param:"id"in t?t.id:t,"function"===this.get_object_type(e)&&(e=e.call(t))),e.toString()):""},clone:function(t){var e,n,o;if(null==t||"object"!==this.get_object_type(t))return t;n=t.constructor();for(o in t)s.call(t,o)&&(e=t[o],n[o]=e);return n},prepare_parameters:function(t,e,n){var o,i,r,s,a;for(i=this.clone(n)||{},o=s=0,a=t.length;a>s;o=++s)r=t[o],o<e.length&&(i[r]=e[o]);return i},build_path:function(t,e,o,i){var r,s,a,l,c,u,d;if(i=Array.prototype.slice.call(i),s=this.extract_options(t.length,i),i.length>t.length)throw new Error("Too many parameters provided for path");return a=this.prepare_parameters(t,i,s),this.set_default_url_options(e,a),r=this.extract_anchor(a),c=this.extract_trailing_slash(a),l=""+this.get_prefix()+this.visit(o,a),u=n.clean_path(""+l),c===!0&&(u=u.replace(/(.*?)[\/]?$/,"$1/")),(d=this.serialize(a)).length&&(u+="?"+d),u+=r},visit:function(n,o,i){var r,s,a,l,c,u;switch(null==i&&(i=!1),c=n[0],r=n[1],a=n[2],c){case t.GROUP:return this.visit(r,o,!0);case t.STAR:return this.visit_globbing(r,o,!0);case t.LITERAL:case t.SLASH:case t.DOT:return r;case t.CAT:return s=this.visit(r,o,i),l=this.visit(a,o,i),!i||s&&l?""+s+l:"";case t.SYMBOL:if(u=o[r],null!=u)return delete o[r],this.path_identifier(u);if(i)return"";throw new e("Route parameter missing: "+r);default:throw new Error("Unknown Rails node type")}},visit_globbing:function(t,e,n){var o,i,r,s;return r=t[0],o=t[1],i=t[2],o.replace(/^\*/i,"")!==o&&(t[1]=o=o.replace(/^\*/i,"")),s=e[o],null==s?this.visit(t,e,n):(e[o]=function(){switch(this.get_object_type(s)){case"array":return s.join("/");default:return s}}.call(this),this.visit(t,e,n))},get_prefix:function(){var t;return t=i.prefix,""!==t&&(t=t.match("/$")?t:""+t+"/"),t},_classToTypeCache:null,_classToType:function(){var t,e,n,o;if(null!=this._classToTypeCache)return this._classToTypeCache;for(this._classToTypeCache={},o="Boolean Number String Function Array Date RegExp Object Error".split(" "),e=0,n=o.length;n>e;e++)t=o[e],this._classToTypeCache["[object "+t+"]"]=t.toLowerCase();return this._classToTypeCache},get_object_type:function(t){return r.jQuery&&null!=r.jQuery.type?r.jQuery.type(t):null==t?""+t:"object"==typeof t||"function"==typeof t?this._classToType()[Object.prototype.toString.call(t)]||"object":typeof t}},o=function(){var t;return t=function(e,n){var o,i;return i=n?n.split("."):[],i.length?(o=i.shift(),e[o]=e[o]||{},t(e[o],i.join("."))):void 0},t(r,"Routes"),r.Routes={admin_companies_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"companies",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},admin_company_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"companies",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},admin_crop_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"crops",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},admin_crops_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"crops",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},admin_invoice_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"invoices",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},admin_invoices_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"invoices",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},admin_user_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"users",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},admin_users_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"users",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},backup_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"backups",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},backups_path:function(){return n.build_path([],["format"],[2,[2,[7,"/",!1],[6,"backups",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},cae_admin_invoice_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"invoices",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"cae",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},cancel_user_registration_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"cancel",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},comment_company_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"companies",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"comment",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},companies_path:function(){return n.build_path([],["format"],[2,[2,[7,"/",!1],[6,"companies",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},crop_control_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"crop_controls",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},crop_controls_path:function(){return n.build_path([],["format"],[2,[2,[7,"/",!1],[6,"crop_controls",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},destroy_user_session_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"sign_out",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_admin_company_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"companies",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_admin_crop_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"crops",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_admin_invoice_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"invoices",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_admin_user_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"users",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_backup_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"backups",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_crop_control_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"crop_controls",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_store_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"stores",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_user_password_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"password",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},edit_user_registration_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},excel_crop_controls_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"crop_controls",!1]],[7,"/",!1]],[6,"excel",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},get_price_admin_crops_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"crops",!1]],[7,"/",!1]],[6,"get_price",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},list_crop_controls_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"crop_controls",!1]],[7,"/",!1]],[6,"list",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},login_path:function(){return n.build_path([],["format"],[2,[2,[7,"/",!1],[6,"login",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},logout_path:function(){return n.build_path([],["format"],[2,[2,[7,"/",!1],[6,"logout",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_admin_company_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"companies",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_admin_crop_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"crops",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_admin_invoice_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"invoices",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_admin_user_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"users",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_backup_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"backups",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_crop_control_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"crop_controls",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_store_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"stores",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_user_confirmation_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"confirmation",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_user_password_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"password",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_user_registration_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"sign_up",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},new_user_session_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"sign_in",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},pdf_admin_invoice_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[6,"invoices",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"pdf",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_dashboard_path:function(){return n.build_path([],[],[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],arguments)},rails_admin_index_path:function(){return n.build_path(["model_name"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_new_path:function(){return n.build_path(["model_name"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[6,"new",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_export_path:function(){return n.build_path(["model_name"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[6,"export",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_bulk_delete_path:function(){return n.build_path(["model_name"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[6,"bulk_delete",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_history_index_path:function(){return n.build_path(["model_name"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[6,"history",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_bulk_action_path:function(){return n.build_path(["model_name"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[6,"bulk_action",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_show_path:function(){return n.build_path(["model_name","id"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_edit_path:function(){return n.build_path(["model_name","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"edit",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_delete_path:function(){return n.build_path(["model_name","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"delete",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_history_show_path:function(){return n.build_path(["model_name","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"history",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},rails_admin_show_in_app_path:function(){return n.build_path(["model_name","id"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"admin",!1]],[7,"/",!1]],[3,"model_name",!1]],[7,"/",!1]],[3,"id",!1]],[7,"/",!1]],[6,"show_in_app",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},root_path:function(){return n.build_path([],[],[7,"/",!1],arguments)},select_company_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"select-company",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},signup_path:function(){return n.build_path([],["format"],[2,[2,[7,"/",!1],[6,"signup",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},store_path:function(){return n.build_path(["id"],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"stores",!1]],[7,"/",!1]],[3,"id",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},stores_path:function(){return n.build_path([],["format"],[2,[2,[7,"/",!1],[6,"stores",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},summary_crop_controls_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"crop_controls",!1]],[7,"/",!1]],[6,"summary",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_confirmation_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"confirmation",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_omniauth_authorize_path:function(){return n.build_path(["provider"],["format"],[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"auth",!1]],[7,"/",!1]],[3,"provider",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_omniauth_callback_path:function(){return n.build_path(["action"],["format"],[2,[2,[2,[2,[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"auth",!1]],[7,"/",!1]],[3,"action",!1]],[7,"/",!1]],[6,"callback",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_password_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"password",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_registration_path:function(){return n.build_path([],["format"],[2,[2,[7,"/",!1],[6,"users",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)},user_session_path:function(){return n.build_path([],["format"],[2,[2,[2,[2,[7,"/",!1],[6,"users",!1]],[7,"/",!1]],[6,"sign_in",!1]],[1,[2,[8,".",!1],[3,"format",!1]],!1]],arguments)}},r.Routes.options=i,r.Routes},"function"==typeof define&&define.amd?define([],function(){return o()}):o()}.call(this),function(){function t(){try{return a in r&&r[a]}catch(t){return!1}}function e(){try{return l in r&&r[l]&&r[l][r.location.hostname]}catch(t){return!1}}function n(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(o),u.appendChild(o),o.addBehavior("#default#userData"),o.load(a);var n=t.apply(i,e);return u.removeChild(o),n}}var o,i={},r=window,s=r.document,a="localStorage",l="globalStorage",c="__storejs__";if(i.disabled=!1,i.set=function(){},i.get=function(){},i.remove=function(){},i.clear=function(){},i.transact=function(t,e,n){var o=i.get(t);null==n&&(n=e,e=null),"undefined"==typeof o&&(o=e||{}),n(o),i.set(t,o)},i.serialize=function(t){return JSON.stringify(t)},i.deserialize=function(t){return"string"!=typeof t?void 0:JSON.parse(t)},t())o=r[a],i.set=function(t,e){return void 0===e?i.remove(t):void o.setItem(t,i.serialize(e))},i.get=function(t){return i.deserialize(o.getItem(t))},i.remove=function(t){o.removeItem(t)},i.clear=function(){o.clear()};else if(e())o=r[l][r.location.hostname],i.set=function(t,e){return void 0===e?i.remove(t):void(o[t]=i.serialize(e))},i.get=function(t){return i.deserialize(o[t]&&o[t].value)},i.remove=function(t){delete o[t]},i.clear=function(){for(var t in o)delete o[t]};else if(s.documentElement.addBehavior){var u,d;try{d=new ActiveXObject("htmlfile"),d.open(),d.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>'),d.close(),u=d.w.frames[0].document,o=u.createElement("div")}catch(h){o=s.createElement("div"),u=s.body}i.set=n(function(t,e,n){return void 0===n?i.remove(e):(t.setAttribute(e,i.serialize(n)),void t.save(a))}),i.get=n(function(t,e){return i.deserialize(t.getAttribute(e))}),i.remove=n(function(t,e){t.removeAttribute(e),t.save(a)}),i.clear=n(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(a);for(var n,o=0;n=e[o];o++)t.removeAttribute(n.name);t.save(a)})}try{i.set(c,c),i.get(c)!=c&&(i.disabled=!0),i.remove(c)}catch(h){i.disabled=!0}"undefined"!=typeof module?module.exports=i:"function"==typeof define&&define.amd?define(i):this.store=i}(),/*!
 * accounting.js v0.3.2
 * Copyright 2011, Joss Crowcroft
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://josscrowcroft.github.com/accounting.js/
 */
function(t,e){function n(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function o(t){return d?d(t):"[object Array]"===h.call(t)}function i(t){return t&&"[object Object]"===h.call(t)}function r(t,e){var n;t=t||{},e=e||{};for(n in e)e.hasOwnProperty(n)&&null==t[n]&&(t[n]=e[n]);return t}function s(t,e,n){var o,i,r=[];if(!t)return r;if(u&&t.map===u)return t.map(e,n);for(o=0,i=t.length;i>o;o++)r[o]=e.call(n,t[o],o,t);return r}function a(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function l(t){var e=c.settings.currency.format;return"function"==typeof t&&(t=t()),n(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:n(e)?c.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var c={};c.version="0.3.2",c.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var u=Array.prototype.map,d=Array.isArray,h=Object.prototype.toString,p=c.unformat=c.parse=function(t,e){if(o(t))return s(t,function(t){return p(t,e)});if(t=t||0,"number"==typeof t)return t;e=e||c.settings.number.decimal;var n=new RegExp("[^0-9-"+e+"]",["g"]),i=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(n,"").replace(e,"."));return isNaN(i)?0:i},f=c.toFixed=function(t,e){e=a(e,c.settings.number.precision);var n=Math.pow(10,e);return(Math.round(c.unformat(t)*n)/n).toFixed(e)},m=c.formatNumber=function(t,e,n,l){if(o(t))return s(t,function(t){return m(t,e,n,l)});t=p(t);var u=r(i(e)?e:{precision:e,thousand:n,decimal:l},c.settings.number),d=a(u.precision),h=0>t?"-":"",g=parseInt(f(Math.abs(t||0),d),10)+"",v=g.length>3?g.length%3:0;return h+(v?g.substr(0,v)+u.thousand:"")+g.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+u.thousand)+(d?u.decimal+f(Math.abs(t),d).split(".")[1]:"")},g=c.formatMoney=function(t,e,n,u,d,h){if(o(t))return s(t,function(t){return g(t,e,n,u,d,h)});t=p(t);var f=r(i(e)?e:{symbol:e,precision:n,thousand:u,decimal:d,format:h},c.settings.currency),v=l(f.format),y=t>0?v.pos:0>t?v.neg:v.zero;return y.replace("%s",f.symbol).replace("%v",m(Math.abs(t),a(f.precision),f.thousand,f.decimal))};c.formatColumn=function(t,e,u,d,h,f){if(!t)return[];var g=r(i(e)?e:{symbol:e,precision:u,thousand:d,decimal:h,format:f},c.settings.currency),v=l(g.format),y=v.pos.indexOf("%s")<v.pos.indexOf("%v")?!0:!1,w=0,b=s(t,function(t){if(o(t))return c.formatColumn(t,g);t=p(t);var e=t>0?v.pos:0>t?v.neg:v.zero,n=e.replace("%s",g.symbol).replace("%v",m(Math.abs(t),a(g.precision),g.thousand,g.decimal));return n.length>w&&(w=n.length),n});return s(b,function(t){return n(t)&&t.length<w?y?t.replace(g.symbol,g.symbol+new Array(w-t.length+1).join(" ")):new Array(w-t.length+1).join(" ")+t:t})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.accounting=c):"function"==typeof define&&define.amd?define([],function(){return c}):(c.noConflict=function(n){return function(){return t.accounting=n,c.noConflict=e,c}}(t.accounting),t.accounting=c)}(this),/*!
 * jQuery JavaScript Library v1.11.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:42Z
 */
function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=ie.type(t);return"function"===n||ie.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){if(ie.isFunction(e))return ie.grep(t,function(t,o){return!!e.call(t,o,t)!==n});if(e.nodeType)return ie.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(he.test(e))return ie.filter(e,t,n);e=ie.filter(e,t)}return ie.grep(t,function(t){return ie.inArray(t,e)>=0!==n})}function i(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function r(t){var e=be[t]={};return ie.each(t.match(we)||[],function(t,n){e[n]=!0}),e}function s(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(fe.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(s(),ie.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var o="data-"+e.replace(Se,"-$1").toLowerCase();if(n=t.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ke.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(t,e,n)}else n=void 0}return n}function c(t){var e;for(e in t)if(("data"!==e||!ie.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,o){if(ie.acceptData(t)){var i,r,s=ie.expando,a=t.nodeType,l=a?ie.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(o||l[c].data)||void 0!==n||"string"!=typeof e)return c||(c=a?t[s]=G.pop()||ie.guid++:s),l[c]||(l[c]=a?{}:{toJSON:ie.noop}),("object"==typeof e||"function"==typeof e)&&(o?l[c]=ie.extend(l[c],e):l[c].data=ie.extend(l[c].data,e)),r=l[c],o||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[ie.camelCase(e)]=n),"string"==typeof e?(i=r[e],null==i&&(i=r[ie.camelCase(e)])):i=r,i}}function d(t,e,n){if(ie.acceptData(t)){var o,i,r=t.nodeType,s=r?ie.cache:t,a=r?t[ie.expando]:ie.expando;if(s[a]){if(e&&(o=n?s[a]:s[a].data)){ie.isArray(e)?e=e.concat(ie.map(e,ie.camelCase)):e in o?e=[e]:(e=ie.camelCase(e),e=e in o?[e]:e.split(" ")),i=e.length;for(;i--;)delete o[e[i]];if(n?!c(o):!ie.isEmptyObject(o))return}(n||(delete s[a].data,c(s[a])))&&(r?ie.cleanData([t],!0):ne.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(t){}}function m(t){var e=Oe.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,o,i=0,r=typeof t.getElementsByTagName!==xe?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==xe?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],n=t.childNodes||t;null!=(o=n[i]);i++)!e||ie.nodeName(o,e)?r.push(o):ie.merge(r,g(o,e));return void 0===e||e&&ie.nodeName(t,e)?ie.merge([t],r):r}function v(t){Me.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return ie.nodeName(t,"table")&&ie.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function w(t){return t.type=(null!==ie.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=Ue.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function C(t,e){for(var n,o=0;null!=(n=t[o]);o++)ie._data(n,"globalEval",!e||ie._data(e[o],"globalEval"))}function _(t,e){if(1===e.nodeType&&ie.hasData(t)){var n,o,i,r=ie._data(t),s=ie._data(e,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(o=0,i=a[n].length;i>o;o++)ie.event.add(e,n,a[n][o])}s.data&&(s.data=ie.extend({},s.data))}}function x(t,e){var n,o,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ne.noCloneEvent&&e[ie.expando]){i=ie._data(e);for(o in i.events)ie.removeEvent(e,o,i.handle);e.removeAttribute(ie.expando)}"script"===n&&e.text!==t.text?(w(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ne.html5Clone&&t.innerHTML&&!ie.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Me.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function k(e,n){var o,i=ie(n.createElement(e)).appendTo(n.body),r=t.getDefaultComputedStyle&&(o=t.getDefaultComputedStyle(i[0]))?o.display:ie.css(i[0],"display");return i.detach(),r}function S(t){var e=fe,n=Ze[t];return n||(n=k(t,e),"none"!==n&&n||(Qe=(Qe||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Qe[0].contentWindow||Qe[0].contentDocument).document,e.write(),e.close(),n=k(t,e),Qe.detach()),Ze[t]=n),n}function T(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function $(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),o=e,i=pn.length;i--;)if(e=pn[i]+n,e in t)return e;return o}function E(t,e){for(var n,o,i,r=[],s=0,a=t.length;a>s;s++)o=t[s],o.style&&(r[s]=ie._data(o,"olddisplay"),n=o.style.display,e?(r[s]||"none"!==n||(o.style.display=""),""===o.style.display&&Ee(o)&&(r[s]=ie._data(o,"olddisplay",S(o.nodeName)))):(i=Ee(o),(n&&"none"!==n||!i)&&ie._data(o,"olddisplay",i?n:ie.css(o,"display"))));for(s=0;a>s;s++)o=t[s],o.style&&(e&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=e?r[s]||"":"none"));return t}function D(t,e,n){var o=cn.exec(e);return o?Math.max(0,o[1]-(n||0))+(o[2]||"px"):e}function M(t,e,n,o,i){for(var r=n===(o?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=ie.css(t,n+$e[r],!0,i)),o?("content"===n&&(s-=ie.css(t,"padding"+$e[r],!0,i)),"margin"!==n&&(s-=ie.css(t,"border"+$e[r]+"Width",!0,i))):(s+=ie.css(t,"padding"+$e[r],!0,i),"padding"!==n&&(s+=ie.css(t,"border"+$e[r]+"Width",!0,i)));return s}function R(t,e,n){var o=!0,i="width"===e?t.offsetWidth:t.offsetHeight,r=tn(t),s=ne.boxSizing&&"border-box"===ie.css(t,"boxSizing",!1,r);if(0>=i||null==i){if(i=en(t,e,r),(0>i||null==i)&&(i=t.style[e]),on.test(i))return i;o=s&&(ne.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+M(t,e,n||(s?"border":"content"),o,r)+"px"}function N(t,e,n,o,i){return new N.prototype.init(t,e,n,o,i)}function A(){return setTimeout(function(){fn=void 0}),fn=ie.now()}function P(t,e){var n,o={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=$e[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function L(t,e,n){for(var o,i=(bn[e]||[]).concat(bn["*"]),r=0,s=i.length;s>r;r++)if(o=i[r].call(n,e,t))return o}function O(t,e,n){var o,i,r,s,a,l,c,u,d=this,h={},p=t.style,f=t.nodeType&&Ee(t),m=ie._data(t,"fxshow");n.queue||(a=ie._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ie.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=ie.css(t,"display"),u="none"===c?ie._data(t,"olddisplay")||S(t.nodeName):c,"inline"===u&&"none"===ie.css(t,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==S(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(o in e)if(i=e[o],gn.exec(i)){if(delete e[o],r=r||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[o])continue;f=!0}h[o]=m&&m[o]||ie.style(t,o)}else c=void 0;if(ie.isEmptyObject(h))"inline"===("none"===c?S(t.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=ie._data(t,"fxshow",{}),r&&(m.hidden=!f),f?ie(t).show():d.done(function(){ie(t).hide()}),d.done(function(){var e;ie._removeData(t,"fxshow");for(e in h)ie.style(t,e,h[e])});for(o in h)s=L(f?m[o]:0,o,d),o in m||(m[o]=s.start,f&&(s.end=s.start,s.start="width"===o||"height"===o?1:0))}}function I(t,e){var n,o,i,r,s;for(n in t)if(o=ie.camelCase(n),i=e[o],r=t[n],ie.isArray(r)&&(i=r[1],r=t[n]=r[0]),n!==o&&(t[o]=r,delete t[n]),s=ie.cssHooks[o],s&&"expand"in s){r=s.expand(r),delete t[o];for(n in r)n in t||(t[n]=r[n],e[n]=i)}else e[o]=i}function j(t,e,n){var o,i,r=0,s=wn.length,a=ie.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=fn||A(),n=Math.max(0,c.startTime+c.duration-e),o=n/c.duration||0,r=1-o,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r);return a.notifyWith(t,[c,r,n]),1>r&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ie.extend({},e),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:fn||A(),duration:n.duration,tweens:[],createTween:function(e,n){var o=ie.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(o),o},stop:function(e){var n=0,o=e?c.tweens.length:0;if(i)return this;for(i=!0;o>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(I(u,c.opts.specialEasing);s>r;r++)if(o=wn[r].call(c,t,u,c.opts))return o;return ie.map(u,L,c),ie.isFunction(c.opts.start)&&c.opts.start.call(t,c),ie.fx.timer(ie.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var o,i=0,r=e.toLowerCase().match(we)||[];if(ie.isFunction(n))for(;o=r[i++];)"+"===o.charAt(0)?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function V(t,e,n,o){function i(a){var l;return r[a]=!0,ie.each(t[a]||[],function(t,a){var c=a(e,n,o);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),l}var r={},s=t===Wn;return i(e.dataTypes[0])||!r["*"]&&i("*")}function F(t,e){var n,o,i=ie.ajaxSettings.flatOptions||{};for(o in e)void 0!==e[o]&&((i[o]?t:n||(n={}))[o]=e[o]);return n&&ie.extend(!0,t,n),t}function z(t,e,n){for(var o,i,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){l.unshift(s);break}if(l[0]in n)r=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}o||(o=s)}r=r||o}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function B(t,e,n,o){var i,r,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(i in c)if(a=i.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function W(t,e,n,o){var i;if(ie.isArray(e))ie.each(e,function(e,i){n||Gn.test(t)?o(t,i):W(t+"["+("object"==typeof i?e:"")+"]",i,n,o)});else if(n||"object"!==ie.type(e))o(t,e);else for(i in e)W(t+"["+i+"]",e[i],n,o)}function q(){try{return new t.XMLHttpRequest}catch(e){}}function J(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function U(t){return ie.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var G=[],X=G.slice,Y=G.concat,K=G.push,Q=G.indexOf,Z={},te=Z.toString,ee=Z.hasOwnProperty,ne={},oe="1.11.1",ie=function(t,e){return new ie.fn.init(t,e)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ae=/-([\da-z])/gi,le=function(t,e){return e.toUpperCase()};ie.fn=ie.prototype={jquery:oe,constructor:ie,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=ie.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ie.each(this,t,e)},map:function(t){return this.pushStack(ie.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:G.sort,splice:G.splice},ie.extend=ie.fn.extend=function(){var t,e,n,o,i,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ie.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(i=arguments[a]))for(o in i)t=s[o],n=i[o],s!==n&&(c&&n&&(ie.isPlainObject(n)||(e=ie.isArray(n)))?(e?(e=!1,r=t&&ie.isArray(t)?t:[]):r=t&&ie.isPlainObject(t)?t:{},s[o]=ie.extend(c,r,n)):void 0!==n&&(s[o]=n));return s},ie.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ie.type(t)},isArray:Array.isArray||function(t){return"array"===ie.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!ie.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ie.type(t)||t.nodeType||ie.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[te.call(t)]||"object":typeof t},globalEval:function(e){e&&ie.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(se,"ms-").replace(ae,le)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,o){var i,r=0,s=t.length,a=n(t);if(o){if(a)for(;s>r&&(i=e.apply(t[r],o),i!==!1);r++);else for(r in t)if(i=e.apply(t[r],o),i===!1)break}else if(a)for(;s>r&&(i=e.call(t[r],r,t[r]),i!==!1);r++);else for(r in t)if(i=e.call(t[r],r,t[r]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(re,"")},makeArray:function(t,e){var o=e||[];return null!=t&&(n(Object(t))?ie.merge(o,"string"==typeof t?[t]:t):K.call(o,t)),o},inArray:function(t,e,n){var o;if(e){if(Q)return Q.call(e,t,n);for(o=e.length,n=n?0>n?Math.max(0,o+n):n:0;o>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,o=0,i=t.length;n>o;)t[i++]=e[o++];if(n!==n)for(;void 0!==e[o];)t[i++]=e[o++];return t.length=i,t},grep:function(t,e,n){for(var o,i=[],r=0,s=t.length,a=!n;s>r;r++)o=!e(t[r],r),o!==a&&i.push(t[r]);return i},map:function(t,e,o){var i,r=0,s=t.length,a=n(t),l=[];if(a)for(;s>r;r++)i=e(t[r],r,o),null!=i&&l.push(i);else for(r in t)i=e(t[r],r,o),null!=i&&l.push(i);return Y.apply([],l)},guid:1,proxy:function(t,e){var n,o,i;return"string"==typeof e&&(i=t[e],e=t,t=i),ie.isFunction(t)?(n=X.call(arguments,2),o=function(){return t.apply(e||this,n.concat(X.call(arguments)))},o.guid=t.guid=t.guid||ie.guid++,o):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var ce=/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */
function(t){function e(t,e,n,o){var i,r,s,a,l,c,d,p,f,m;if((e?e.ownerDocument||e:V)!==N&&R(e),e=e||N,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(P&&!o){if(i=ye.exec(t))if(s=i[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&j(e,r)&&r.id===s)return n.push(r),n}else{if(i[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&C.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(s)),n}if(C.qsa&&(!L||!L.test(t))){if(p=d=H,f=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(d=e.getAttribute("id"))?p=d.replace(be,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=we.test(t)&&u(e.parentNode)||e,m=c.join(",")}if(m)try{return Z.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{d||e.removeAttribute("id")}}}return $(t.replace(le,"$1"),e,n,o)}function n(){function t(n,o){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=o}var e=[];return t}function o(t){return t[H]=!0,t}function i(t){var e=N.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),o=t.length;o--;)_.attrHandle[n[o]]=e}function s(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return o(function(e){return e=+e,o(function(n,o){for(var i,r=t([],n.length,e),s=r.length;s--;)n[i=r[s]]&&(n[i]=!(o[i]=n[i]))})})}function u(t){return t&&typeof t.getElementsByTagName!==U&&t}function d(){}function h(t){for(var e=0,n=t.length,o="";n>e;e++)o+=t[e].value;return o}function p(t,e,n){var o=e.dir,i=n&&"parentNode"===o,r=z++;return e.first?function(e,n,r){for(;e=e[o];)if(1===e.nodeType||i)return t(e,n,r)}:function(e,n,s){var a,l,c=[F,r];if(s){for(;e=e[o];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[o];)if(1===e.nodeType||i){if(l=e[H]||(e[H]={}),(a=l[o])&&a[0]===F&&a[1]===r)return c[2]=a[2];if(l[o]=c,c[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,o){for(var i=t.length;i--;)if(!t[i](e,n,o))return!1;return!0}:t[0]}function m(t,n,o){for(var i=0,r=n.length;r>i;i++)e(t,n[i],o);return o}function g(t,e,n,o,i){for(var r,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(r=t[a])&&(!n||n(r,o,i))&&(s.push(r),c&&e.push(a));return s}function v(t,e,n,i,r,s){return i&&!i[H]&&(i=v(i)),r&&!r[H]&&(r=v(r,s)),o(function(o,s,a,l){var c,u,d,h=[],p=[],f=s.length,v=o||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!o&&e?v:g(v,h,t,a,l),w=n?r||(o?t:f||i)?[]:s:y;if(n&&n(y,w,a,l),i)for(c=g(w,p),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(w[p[u]]=!(y[p[u]]=d));if(o){if(r||t){if(r){for(c=[],u=w.length;u--;)(d=w[u])&&c.push(y[u]=d);r(null,w=[],c,l)}for(u=w.length;u--;)(d=w[u])&&(c=r?ee.call(o,d):h[u])>-1&&(o[c]=!(s[c]=d))}}else w=g(w===s?w.splice(f,w.length):w),r?r(null,s,w,l):Z.apply(s,w)})}function y(t){for(var e,n,o,i=t.length,r=_.relative[t[0].type],s=r||_.relative[" "],a=r?1:0,l=p(function(t){return t===e},s,!0),c=p(function(t){return ee.call(e,t)>-1},s,!0),u=[function(t,n,o){return!r&&(o||n!==E)||((e=n).nodeType?l(t,n,o):c(t,n,o))}];i>a;a++)if(n=_.relative[t[a].type])u=[p(f(u),n)];else{if(n=_.filter[t[a].type].apply(null,t[a].matches),n[H]){for(o=++a;i>o&&!_.relative[t[o].type];o++);return v(a>1&&f(u),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(le,"$1"),n,o>a&&y(t.slice(a,o)),i>o&&y(t=t.slice(o)),i>o&&h(t))}u.push(n)}return f(u)}function w(t,n){var i=n.length>0,r=t.length>0,s=function(o,s,a,l,c){var u,d,h,p=0,f="0",m=o&&[],v=[],y=E,w=o||r&&_.find.TAG("*",c),b=F+=null==y?1:Math.random()||.1,C=w.length;for(c&&(E=s!==N&&s);f!==C&&null!=(u=w[f]);f++){if(r&&u){for(d=0;h=t[d++];)if(h(u,s,a)){l.push(u);break}c&&(F=b)}i&&((u=!h&&u)&&p--,o&&m.push(u))}if(p+=f,i&&f!==p){for(d=0;h=n[d++];)h(m,v,s,a);if(o){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(l));v=g(v)}Z.apply(l,v),c&&!o&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return c&&(F=b,E=y),m};return i?o(s):s}var b,C,_,x,k,S,T,$,E,D,M,R,N,A,P,L,O,I,j,H="sizzle"+-new Date,V=t.document,F=0,z=0,B=n(),W=n(),q=n(),J=function(t,e){return t===e&&(M=!0),0},U="undefined",G=1<<31,X={}.hasOwnProperty,Y=[],K=Y.pop,Q=Y.push,Z=Y.push,te=Y.slice,ee=Y.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),se="\\["+oe+"*("+ie+")(?:"+oe+"*([*^$|!~]?=)"+oe+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+oe+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",le=new RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),ce=new RegExp("^"+oe+"*,"+oe+"*"),ue=new RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),de=new RegExp("="+oe+"*([^\\]'\"]*?)"+oe+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,be=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),_e=function(t,e,n){var o="0x"+e-65536;return o!==o||n?e:0>o?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)};try{Z.apply(Y=te.call(V.childNodes),V.childNodes),Y[V.childNodes.length].nodeType}catch(xe){Z={apply:Y.length?function(t,e){Q.apply(t,te.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}C=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},R=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:V,o=n.defaultView;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,A=n.documentElement,P=!k(n),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){R()},!1):o.attachEvent&&o.attachEvent("onunload",function(){R()})),C.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=ve.test(n.getElementsByClassName)&&i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),C.getById=i(function(t){return A.appendChild(t).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),C.getById?(_.find.ID=function(t,e){if(typeof e.getElementById!==U&&P){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(Ce,_e);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(Ce,_e);return function(t){var n=typeof t.getAttributeNode!==U&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=C.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==U?e.getElementsByTagName(t):void 0}:function(t,e){var n,o=[],i=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[i++];)1===n.nodeType&&o.push(n);return o}return r},_.find.CLASS=C.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==U&&P?e.getElementsByClassName(t):void 0},O=[],L=[],(C.qsa=ve.test(n.querySelectorAll))&&(i(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&L.push("[*^$]="+oe+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+oe+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||L.push(":checked")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+oe+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(C.matchesSelector=ve.test(I=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(t){C.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),O.push("!=",ae)}),L=L.length&&new RegExp(L.join("|")),O=O.length&&new RegExp(O.join("|")),e=ve.test(A.compareDocumentPosition),j=e||ve.test(A.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},J=e?function(t,e){if(t===e)return M=!0,0;var o=!t.compareDocumentPosition-!e.compareDocumentPosition;return o?o:(o=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&o||!C.sortDetached&&e.compareDocumentPosition(t)===o?t===n||t.ownerDocument===V&&j(V,t)?-1:e===n||e.ownerDocument===V&&j(V,e)?1:D?ee.call(D,t)-ee.call(D,e):0:4&o?-1:1)}:function(t,e){if(t===e)return M=!0,0;var o,i=0,r=t.parentNode,a=e.parentNode,l=[t],c=[e];if(!r||!a)return t===n?-1:e===n?1:r?-1:a?1:D?ee.call(D,t)-ee.call(D,e):0;if(r===a)return s(t,e);for(o=t;o=o.parentNode;)l.unshift(o);for(o=e;o=o.parentNode;)c.unshift(o);for(;l[i]===c[i];)i++;return i?s(l[i],c[i]):l[i]===V?-1:c[i]===V?1:0},n):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&R(t),n=n.replace(de,"='$1']"),!(!C.matchesSelector||!P||O&&O.test(n)||L&&L.test(n)))try{var o=I.call(t,n);if(o||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(i){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&R(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&R(t);var n=_.attrHandle[e.toLowerCase()],o=n&&X.call(_.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==o?o:C.attributes||!P?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],o=0,i=0;if(M=!C.detectDuplicates,D=!C.sortStable&&t.slice(0),t.sort(J),M){for(;e=t[i++];)e===t[i]&&(o=n.push(i));for(;o--;)t.splice(n[o],1)}return D=null,t},x=e.getText=function(t){var e,n="",o=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[o++];)n+=x(e);return n},_=e.selectors={cacheLength:50,createPseudo:o,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ce,_e),t[3]=(t[3]||t[4]||t[5]||"").replace(Ce,_e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return fe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ce,_e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+oe+")"+t+"("+oe+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==U&&t.getAttribute("class")||"")})},ATTR:function(t,n,o){return function(i){var r=e.attr(i,t);return null==r?"!="===n:n?(r+="","="===n?r===o:"!="===n?r!==o:"^="===n?o&&0===r.indexOf(o):"*="===n?o&&r.indexOf(o)>-1:"$="===n?o&&r.slice(-o.length)===o:"~="===n?(" "+r+" ").indexOf(o)>-1:"|="===n?r===o||r.slice(0,o.length+1)===o+"-":!1):!0}},CHILD:function(t,e,n,o,i){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===o&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,p,f,m=r!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(r){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(u=g[H]||(g[H]={}),c=u[t]||[],p=c[0]===F&&c[1],h=c[0]===F&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){u[t]=[F,p,h];break}}else if(y&&(c=(e[H]||(e[H]={}))[t])&&c[0]===F)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[t]=[F,h]),d!==e)););return h-=i,h===o||h%o===0&&h/o>=0}}},PSEUDO:function(t,n){var i,r=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[H]?r(n):r.length>1?(i=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,e){for(var o,i=r(t,n),s=i.length;s--;)o=ee.call(t,i[s]),t[o]=!(e[o]=i[s])}):function(t){return r(t,0,i)}):r}},pseudos:{not:o(function(t){var e=[],n=[],i=T(t.replace(le,"$1"));return i[H]?o(function(t,e,n,o){for(var r,s=i(t,null,o,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,o,r){return e[0]=t,i(e,null,r,n),!n.pop()}}),has:o(function(t){return function(n){return e(t,n).length>0}}),contains:o(function(t){return function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:o(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Ce,_e).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var o=0>n?n+e:n;--o>=0;)t.push(o);return t}),gt:c(function(t,e,n){for(var o=0>n?n+e:n;++o<e;)t.push(o);return t})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=l(b);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,S=e.tokenize=function(t,n){var o,i,r,s,a,l,c,u=W[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=_.preFilter;a;){(!o||(i=ce.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),o=!1,(i=ue.exec(a))&&(o=i.shift(),r.push({value:o,type:i[0].replace(le," ")}),a=a.slice(o.length));for(s in _.filter)!(i=fe[s].exec(a))||c[s]&&!(i=c[s](i))||(o=i.shift(),r.push({value:o,type:s,matches:i}),a=a.slice(o.length));if(!o)break}return n?a.length:a?e.error(t):W(t,l).slice(0)},T=e.compile=function(t,e){var n,o=[],i=[],r=q[t+" "];if(!r){for(e||(e=S(t)),n=e.length;n--;)r=y(e[n]),r[H]?o.push(r):i.push(r);r=q(t,w(i,o)),r.selector=t}return r},$=e.select=function(t,e,n,o){var i,r,s,a,l,c="function"==typeof t&&t,d=!o&&S(t=c.selector||t);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&C.getById&&9===e.nodeType&&P&&_.relative[r[1].type]){if(e=(_.find.ID(s.matches[0].replace(Ce,_e),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(i=fe.needsContext.test(t)?0:r.length;i--&&(s=r[i],!_.relative[a=s.type]);)if((l=_.find[a])&&(o=l(s.matches[0].replace(Ce,_e),we.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(i,1),t=o.length&&h(r),!t)return Z.apply(n,o),n;break}}return(c||T(t,d))(o,e,!P,n,we.test(t)&&u(e.parentNode)||e),n},C.sortStable=H.split("").sort(J).join("")===H,C.detectDuplicates=!!M,R(),C.sortDetached=i(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||r(ne,function(t,e,n){var o;return n?void 0:t[e]===!0?e.toLowerCase():(o=t.getAttributeNode(e))&&o.specified?o.value:null}),e}(t);ie.find=ce,ie.expr=ce.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ce.uniqueSort,ie.text=ce.getText,ie.isXMLDoc=ce.isXML,ie.contains=ce.contains;var ue=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;ie.filter=function(t,e,n){var o=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===o.nodeType?ie.find.matchesSelector(o,t)?[o]:[]:ie.find.matches(t,ie.grep(e,function(t){return 1===t.nodeType}))},ie.fn.extend({find:function(t){var e,n=[],o=this,i=o.length;if("string"!=typeof t)return this.pushStack(ie(t).filter(function(){for(e=0;i>e;e++)if(ie.contains(o[e],this))return!0}));for(e=0;i>e;e++)ie.find(t,o[e],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&ue.test(t)?ie(t):t||[],!1).length}});var pe,fe=t.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(t,e){var n,o;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:me.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||pe).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ie?e[0]:e,ie.merge(this,ie.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:fe,!0)),de.test(n[1])&&ie.isPlainObject(e))for(n in e)ie.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(o=fe.getElementById(n[2]),o&&o.parentNode){if(o.id!==n[2])return pe.find(t);this.length=1,this[0]=o}return this.context=fe,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ie.isFunction(t)?"undefined"!=typeof pe.ready?pe.ready(t):t(ie):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ie.makeArray(t,this))};ge.prototype=ie.fn,pe=ie(fe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(t,e,n){for(var o=[],i=t[e];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&o.push(i),i=i[e];return o},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),ie.fn.extend({has:function(t){var e,n=ie(t,this),o=n.length;return this.filter(function(){for(e=0;o>e;e++)if(ie.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,o=0,i=this.length,r=[],s=ue.test(t)||"string"!=typeof t?ie(t,e||this.context):0;i>o;o++)for(n=this[o];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?ie.unique(r):r)},index:function(t){return t?"string"==typeof t?ie.inArray(this[0],ie(t)):ie.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ie.unique(ie.merge(this.get(),ie(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ie.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ie.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ie.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return ie.dir(t,"nextSibling")},prevAll:function(t){return ie.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ie.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ie.dir(t,"previousSibling",n)},siblings:function(t){return ie.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ie.sibling(t.firstChild)},contents:function(t){return ie.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ie.merge([],t.childNodes)}},function(t,e){ie.fn[t]=function(n,o){var i=ie.map(this,e,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=ie.filter(o,i)),this.length>1&&(ye[t]||(i=ie.unique(i)),ve.test(t)&&(i=i.reverse())),this.pushStack(i)}});var we=/\S+/g,be={};ie.Callbacks=function(t){t="string"==typeof t?be[t]||r(t):ie.extend({},t);var e,n,o,i,s,a,l=[],c=!t.once&&[],u=function(r){for(n=t.memory&&r,o=!0,s=a||0,a=0,i=l.length,e=!0;l&&i>s;s++)if(l[s].apply(r[0],r[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var o=l.length;!function r(e){ie.each(e,function(e,n){var o=ie.type(n);"function"===o?t.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==o&&r(n)})}(arguments),e?i=l.length:n&&(a=o,u(n))}return this},remove:function(){return l&&ie.each(arguments,function(t,n){for(var o;(o=ie.inArray(n,l,o))>-1;)l.splice(o,1),e&&(i>=o&&i--,s>=o&&s--)}),this},has:function(t){return t?ie.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||d.disable(),this},locked:function(){return!c},fireWith:function(t,n){return!l||o&&!c||(n=n||[],n=[t,n.slice?n.slice():n],e?c.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ie.extend({Deferred:function(t){var e=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ie.Deferred(function(n){ie.each(e,function(e,r){var s=ie.isFunction(t[e])&&t[e];i[r[1]](function(){var t=s&&s.apply(this,arguments);t&&ie.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===o?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ie.extend(t,o):o}},i={};return o.pipe=o.then,ie.each(e,function(t,r){var s=r[2],a=r[3];o[r[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?o:this,arguments),this},i[r[0]+"With"]=s.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,o,i=0,r=X.call(arguments),s=r.length,a=1!==s||t&&ie.isFunction(t.promise)?s:0,l=1===a?t:ie.Deferred(),c=function(t,n,o){return function(i){n[t]=this,o[t]=arguments.length>1?X.call(arguments):i,o===e?l.notifyWith(n,o):--a||l.resolveWith(n,o)}};if(s>1)for(e=new Array(s),n=new Array(s),o=new Array(s);s>i;i++)r[i]&&ie.isFunction(r[i].promise)?r[i].promise().done(c(i,o,r)).fail(l.reject).progress(c(i,n,e)):--a;return a||l.resolveWith(o,r),l.promise()}});var Ce;ie.fn.ready=function(t){return ie.ready.promise().done(t),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ie.readyWait++:ie.ready(!0)},ready:function(t){if(t===!0?!--ie.readyWait:!ie.isReady){if(!fe.body)return setTimeout(ie.ready);ie.isReady=!0,t!==!0&&--ie.readyWait>0||(Ce.resolveWith(fe,[ie]),ie.fn.triggerHandler&&(ie(fe).triggerHandler("ready"),ie(fe).off("ready")))}}}),ie.ready.promise=function(e){if(!Ce)if(Ce=ie.Deferred(),"complete"===fe.readyState)setTimeout(ie.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{fe.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&fe.documentElement}catch(o){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(t){return setTimeout(i,50)}s(),ie.ready()}}()}return Ce.promise(e)};var _e,xe="undefined";for(_e in ie(ne))break;ne.ownLast="0"!==_e,ne.inlineBlockNeedsLayout=!1,ie(function(){var t,e,n,o;n=fe.getElementsByTagName("body")[0],n&&n.style&&(e=fe.createElement("div"),o=fe.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),typeof e.style.zoom!==xe&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(o))}),function(){var t=fe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}t=null}(),ie.acceptData=function(t){var e=ie.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e};var ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ie.cache[t[ie.expando]]:t[ie.expando],!!t&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ie.fn.extend({data:function(t,e){var n,o,i,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(i=ie.data(r),1===r.nodeType&&!ie._data(r,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(o=s[n].name,0===o.indexOf("data-")&&(o=ie.camelCase(o.slice(5)),l(r,o,i[o])));ie._data(r,"parsedAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ie.data(this,t)}):arguments.length>1?this.each(function(){ie.data(this,t,e)}):r?l(r,t,ie.data(r,t)):void 0},removeData:function(t){return this.each(function(){ie.removeData(this,t)})}}),ie.extend({queue:function(t,e,n){var o;return t?(e=(e||"fx")+"queue",o=ie._data(t,e),n&&(!o||ie.isArray(n)?o=ie._data(t,e,ie.makeArray(n)):o.push(n)),o||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ie.queue(t,e),o=n.length,i=n.shift(),r=ie._queueHooks(t,e),s=function(){ie.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===e&&n.unshift("inprogress"),delete r.stop,i.call(t,s,r)),!o&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ie._data(t,n)||ie._data(t,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(t,e+"queue"),ie._removeData(t,n)})})}}),ie.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ie.queue(this[0],t):void 0===e?this:this.each(function(){var n=ie.queue(this,t,e);ie._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ie.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ie.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,o=1,i=ie.Deferred(),r=this,s=this.length,a=function(){--o||i.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=ie._data(r[s],t+"queueHooks"),n&&n.empty&&(o++,n.empty.add(a));return a(),i.promise(e)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=["Top","Right","Bottom","Left"],Ee=function(t,e){return t=e||t,"none"===ie.css(t,"display")||!ie.contains(t.ownerDocument,t)},De=ie.access=function(t,e,n,o,i,r,s){var a=0,l=t.length,c=null==n;if("object"===ie.type(n)){i=!0;for(a in n)ie.access(t,e,a,n[a],!0,r,s)}else if(void 0!==o&&(i=!0,ie.isFunction(o)||(s=!0),c&&(s?(e.call(t,o),e=null):(c=e,e=function(t,e,n){return c.call(ie(t),n)})),e))for(;l>a;a++)e(t[a],n,s?o:o.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):l?e(t[0],n):r},Me=/^(?:checkbox|radio)$/i;!function(){var t=fe.createElement("input"),e=fe.createElement("div"),n=fe.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===e.firstChild.nodeType,ne.tbody=!e.getElementsByTagName("tbody").length,ne.htmlSerialize=!!e.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),ne.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ne.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(o){ne.deleteExpando=!1}}}(),function(){var e,n,o=fe.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ne[e+"Bubbles"]=n in t)||(o.setAttribute(n,"t"),ne[e+"Bubbles"]=o.attributes[n].expando===!1);o=null}();var Re=/^(?:input|select|textarea)$/i,Ne=/^key/,Ae=/^(?:mouse|pointer|contextmenu)|click/,Pe=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(t,e,n,o,i){var r,s,a,l,c,u,d,h,p,f,m,g=ie._data(t);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=ie.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof ie===xe||t&&ie.event.triggered===t.type?void 0:ie.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(we)||[""],a=e.length;a--;)r=Le.exec(e[a])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p&&(c=ie.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:f.join(".")},l),(h=s[p])||(h=s[p]=[],h.delegateCount=0,c.setup&&c.setup.call(t,o,f,u)!==!1||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,d):h.push(d),ie.event.global[p]=!0);t=null}},remove:function(t,e,n,o,i){var r,s,a,l,c,u,d,h,p,f,m,g=ie.hasData(t)&&ie._data(t);if(g&&(u=g.events)){for(e=(e||"").match(we)||[""],c=e.length;c--;)if(a=Le.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)s=h[r],!i&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||o&&o!==s.selector&&("**"!==o||!s.selector)||(h.splice(r,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));l&&!h.length&&(d.teardown&&d.teardown.call(t,f,g.handle)!==!1||ie.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)ie.event.remove(t,p+e[c],n,o,!0);ie.isEmptyObject(u)&&(delete g.handle,ie._removeData(t,"events"))}},trigger:function(e,n,o,i){var r,s,a,l,c,u,d,h=[o||fe],p=ee.call(e,"type")?e.type:e,f=ee.call(e,"namespace")?e.namespace.split("."):[];if(a=u=o=o||fe,3!==o.nodeType&&8!==o.nodeType&&!Pe.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,e=e[ie.expando]?e:new ie.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:ie.makeArray(n,[e]),c=ie.event.special[p]||{},i||!c.trigger||c.trigger.apply(o,n)!==!1)){if(!i&&!c.noBubble&&!ie.isWindow(o)){for(l=c.delegateType||p,Pe.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;
u===(o.ownerDocument||fe)&&h.push(u.defaultView||u.parentWindow||t)}for(d=0;(a=h[d++])&&!e.isPropagationStopped();)e.type=d>1?l:c.bindType||p,r=(ie._data(a,"events")||{})[e.type]&&ie._data(a,"handle"),r&&r.apply(a,n),r=s&&a[s],r&&r.apply&&ie.acceptData(a)&&(e.result=r.apply(a,n),e.result===!1&&e.preventDefault());if(e.type=p,!i&&!e.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),n)===!1)&&ie.acceptData(o)&&s&&o[p]&&!ie.isWindow(o)){u=o[s],u&&(o[s]=null),ie.event.triggered=p;try{o[p]()}catch(m){}ie.event.triggered=void 0,u&&(o[s]=u)}return e.result}},dispatch:function(t){t=ie.event.fix(t);var e,n,o,i,r,s=[],a=X.call(arguments),l=(ie._data(this,"events")||{})[t.type]||[],c=ie.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=ie.event.handlers.call(this,t,l),e=0;(i=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,n=((ie.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,o,i,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],r=0;a>r;r++)o=e[r],n=o.selector+" ",void 0===i[n]&&(i[n]=o.needsContext?ie(n,this).index(l)>=0:ie.find(n,this,null,[l]).length),i[n]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ie.expando])return t;var e,n,o,i=t.type,r=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ae.test(i)?this.mouseHooks:Ne.test(i)?this.keyHooks:{}),o=s.props?this.props.concat(s.props):this.props,t=new ie.Event(r),e=o.length;e--;)n=o[e],t[n]=r[n];return t.target||(t.target=r.srcElement||fe),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,o,i,r=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=t.target.ownerDocument||fe,i=o.documentElement,n=o.body,t.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ie.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,o){var i=ie.extend(new ie.Event,n,{type:t,isSimulated:!0,originalEvent:{}});o?ie.event.trigger(i,null,e):ie.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=fe.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var o="on"+e;t.detachEvent&&(typeof t[o]===xe&&(t[o]=null),t.detachEvent(o,n))},ie.Event=function(t,e){return this instanceof ie.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?h:p):this.type=t,e&&ie.extend(this,e),this.timeStamp=t&&t.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(t,e)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ie.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=this,i=t.relatedTarget,r=t.handleObj;return(!i||i!==o&&!ie.contains(o,i))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ie.nodeName(e,"input")||ie.nodeName(e,"button")?e.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ie.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Re.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,t,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(t){var e=t.target;Re.test(e.nodeName)&&!ie._data(e,"changeBubbles")&&(ie.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ie.event.simulate("change",this.parentNode,t,!0)}),ie._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Re.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ie.event.simulate(e,t.target,ie.event.fix(t),!0)};ie.event.special[e]={setup:function(){var o=this.ownerDocument||this,i=ie._data(o,e);i||o.addEventListener(t,n,!0),ie._data(o,e,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this,i=ie._data(o,e)-1;i?ie._data(o,e,i):(o.removeEventListener(t,n,!0),ie._removeData(o,e))}}}),ie.fn.extend({on:function(t,e,n,o,i){var r,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(r in t)this.on(r,e,n,t[r],i);return this}if(null==n&&null==o?(o=e,n=e=void 0):null==o&&("string"==typeof e?(o=n,n=void 0):(o=n,n=e,e=void 0)),o===!1)o=p;else if(!o)return this;return 1===i&&(s=o,o=function(t){return ie().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=ie.guid++)),this.each(function(){ie.event.add(this,t,o,n,e)})},one:function(t,e,n,o){return this.on(t,e,n,o,1)},off:function(t,e,n){var o,i;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,ie(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ie.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ie.event.trigger(t,e,n,!0):void 0}});var Oe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ie=/ jQuery\d+="(?:null|\d+)"/g,je=new RegExp("<(?:"+Oe+")[\\s/>]","i"),He=/^\s+/,Ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fe=/<([\w:]+)/,ze=/<tbody/i,Be=/<|&#?\w+;/,We=/<(?:script|style|link)/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Je=/^$|\/(?:java|ecma)script/i,Ue=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ye=m(fe),Ke=Ye.appendChild(fe.createElement("div"));Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td,ie.extend({clone:function(t,e,n){var o,i,r,s,a,l=ie.contains(t.ownerDocument,t);if(ne.html5Clone||ie.isXMLDoc(t)||!je.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(Ke.innerHTML=t.outerHTML,Ke.removeChild(r=Ke.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ie.isXMLDoc(t)))for(o=g(r),a=g(t),s=0;null!=(i=a[s]);++s)o[s]&&x(i,o[s]);if(e)if(n)for(a=a||g(t),o=o||g(r),s=0;null!=(i=a[s]);s++)_(i,o[s]);else _(t,r);return o=g(r,"script"),o.length>0&&C(o,!l&&g(t,"script")),o=a=i=null,r},buildFragment:function(t,e,n,o){for(var i,r,s,a,l,c,u,d=t.length,h=m(e),p=[],f=0;d>f;f++)if(r=t[f],r||0===r)if("object"===ie.type(r))ie.merge(p,r.nodeType?[r]:r);else if(Be.test(r)){for(a=a||h.appendChild(e.createElement("div")),l=(Fe.exec(r)||["",""])[1].toLowerCase(),u=Xe[l]||Xe._default,a.innerHTML=u[1]+r.replace(Ve,"<$1></$2>")+u[2],i=u[0];i--;)a=a.lastChild;if(!ne.leadingWhitespace&&He.test(r)&&p.push(e.createTextNode(He.exec(r)[0])),!ne.tbody)for(r="table"!==l||ze.test(r)?"<table>"!==u[1]||ze.test(r)?0:a:a.firstChild,i=r&&r.childNodes.length;i--;)ie.nodeName(c=r.childNodes[i],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ie.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else p.push(e.createTextNode(r));for(a&&h.removeChild(a),ne.appendChecked||ie.grep(g(p,"input"),v),f=0;r=p[f++];)if((!o||-1===ie.inArray(r,o))&&(s=ie.contains(r.ownerDocument,r),a=g(h.appendChild(r),"script"),s&&C(a),n))for(i=0;r=a[i++];)Je.test(r.type||"")&&n.push(r);return a=null,h},cleanData:function(t,e){for(var n,o,i,r,s=0,a=ie.expando,l=ie.cache,c=ne.deleteExpando,u=ie.event.special;null!=(n=t[s]);s++)if((e||ie.acceptData(n))&&(i=n[a],r=i&&l[i])){if(r.events)for(o in r.events)u[o]?ie.event.remove(n,o):ie.removeEvent(n,o,r.handle);l[i]&&(delete l[i],c?delete n[a]:typeof n.removeAttribute!==xe?n.removeAttribute(a):n[a]=null,G.push(i))}}}),ie.fn.extend({text:function(t){return De(this,function(t){return void 0===t?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,o=t?ie.filter(t,this):this,i=0;null!=(n=o[i]);i++)e||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(e&&ie.contains(n.ownerDocument,n)&&C(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ie.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ie.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ie.clone(this,t,e)})},html:function(t){return De(this,function(t){var e=this[0]||{},n=0,o=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Ie,""):void 0;if(!("string"!=typeof t||We.test(t)||!ne.htmlSerialize&&je.test(t)||!ne.leadingWhitespace&&He.test(t)||Xe[(Fe.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ve,"<$1></$2>");try{for(;o>n;n++)e=this[n]||{},1===e.nodeType&&(ie.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,ie.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Y.apply([],t);var n,o,i,r,s,a,l=0,c=this.length,u=this,d=c-1,h=t[0],p=ie.isFunction(h);if(p||c>1&&"string"==typeof h&&!ne.checkClone&&qe.test(h))return this.each(function(n){var o=u.eq(n);p&&(t[0]=h.call(this,n,o.html())),o.domManip(t,e)});if(c&&(a=ie.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(r=ie.map(g(a,"script"),w),i=r.length;c>l;l++)o=a,l!==d&&(o=ie.clone(o,!0,!0),i&&ie.merge(r,g(o,"script"))),e.call(this[l],o,l);if(i)for(s=r[r.length-1].ownerDocument,ie.map(r,b),l=0;i>l;l++)o=r[l],Je.test(o.type||"")&&!ie._data(o,"globalEval")&&ie.contains(s,o)&&(o.src?ie._evalUrl&&ie._evalUrl(o.src):ie.globalEval((o.text||o.textContent||o.innerHTML||"").replace(Ge,"")));a=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ie.fn[t]=function(t){for(var n,o=0,i=[],r=ie(t),s=r.length-1;s>=o;o++)n=o===s?this:this.clone(!0),ie(r[o])[e](n),K.apply(i,n.get());return this.pushStack(i)}});var Qe,Ze={};!function(){var t;ne.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,o;return n=fe.getElementsByTagName("body")[0],n&&n.style?(e=fe.createElement("div"),o=fe.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),typeof e.style.zoom!==xe&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(fe.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(o),t):void 0}}();var tn,en,nn=/^margin/,on=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),rn=/^(top|right|bottom|left)$/;t.getComputedStyle?(tn=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},en=function(t,e,n){var o,i,r,s,a=t.style;return n=n||tn(t),s=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==s||ie.contains(t.ownerDocument,t)||(s=ie.style(t,e)),on.test(s)&&nn.test(e)&&(o=a.width,i=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=o,a.minWidth=i,a.maxWidth=r)),void 0===s?s:s+""}):fe.documentElement.currentStyle&&(tn=function(t){return t.currentStyle},en=function(t,e,n){var o,i,r,s,a=t.style;return n=n||tn(t),s=n?n[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),on.test(s)&&!rn.test(e)&&(o=a.left,i=t.runtimeStyle,r=i&&i.left,r&&(i.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=o,r&&(i.left=r)),void 0===s?s:s+""||"auto"}),function(){function e(){var e,n,o,i;n=fe.getElementsByTagName("body")[0],n&&n.style&&(e=fe.createElement("div"),o=fe.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=s=!1,l=!0,t.getComputedStyle&&(r="1%"!==(t.getComputedStyle(e,null)||{}).top,s="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,i=e.appendChild(fe.createElement("div")),i.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=e.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===i[0].offsetHeight,a&&(i[0].style.display="",i[1].style.display="none",a=0===i[0].offsetHeight),n.removeChild(o))}var n,o,i,r,s,a,l;n=fe.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],o=i&&i.style,o&&(o.cssText="float:left;opacity:.5",ne.opacity="0.5"===o.opacity,ne.cssFloat=!!o.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===o.boxSizing||""===o.MozBoxSizing||""===o.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==s&&e(),s},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){return null==l&&e(),l}}))}(),ie.swap=function(t,e,n,o){var i,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];i=n.apply(t,o||[]);for(r in e)t.style[r]=s[r];return i};var sn=/alpha\([^)]*\)/i,an=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+Te+")(.*)$","i"),un=new RegExp("^([+-])=("+Te+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=en(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,r,s,a=ie.camelCase(e),l=t.style;if(e=ie.cssProps[a]||(ie.cssProps[a]=$(l,a)),s=ie.cssHooks[e]||ie.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,o))?i:l[e];if(r=typeof n,"string"===r&&(i=un.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(t,e)),r="number"),null!=n&&n===n&&("number"!==r||ie.cssNumber[a]||(n+="px"),ne.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,o)))))try{l[e]=n}catch(c){}}},css:function(t,e,n,o){var i,r,s,a=ie.camelCase(e);return e=ie.cssProps[a]||(ie.cssProps[a]=$(t.style,a)),s=ie.cssHooks[e]||ie.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=en(t,e,o)),"normal"===r&&e in hn&&(r=hn[e]),""===n||n?(i=parseFloat(r),n===!0||ie.isNumeric(i)?i||0:r):r}}),ie.each(["height","width"],function(t,e){ie.cssHooks[e]={get:function(t,n,o){return n?ln.test(ie.css(t,"display"))&&0===t.offsetWidth?ie.swap(t,dn,function(){return R(t,e,o)}):R(t,e,o):void 0},set:function(t,n,o){var i=o&&tn(t);return D(t,n,o?M(t,e,o,ne.boxSizing&&"border-box"===ie.css(t,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(t,e){return an.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,o=t.currentStyle,i=ie.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=o&&o.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ie.trim(r.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||o&&!o.filter)||(n.filter=sn.test(r)?r.replace(sn,i):r+" "+i)}}),ie.cssHooks.marginRight=T(ne.reliableMarginRight,function(t,e){return e?ie.swap(t,{display:"inline-block"},en,[t,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(t,e){ie.cssHooks[t+e]={expand:function(n){for(var o=0,i={},r="string"==typeof n?n.split(" "):[n];4>o;o++)i[t+$e[o]+e]=r[o]||r[o-2]||r[0];return i}},nn.test(t)||(ie.cssHooks[t+e].set=D)}),ie.fn.extend({css:function(t,e){return De(this,function(t,e,n){var o,i,r={},s=0;if(ie.isArray(e)){for(o=tn(t),i=e.length;i>s;s++)r[e[s]]=ie.css(t,e[s],!1,o);return r}return void 0!==n?ie.style(t,e,n):ie.css(t,e)},t,e,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ee(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=N,N.prototype={constructor:N,init:function(t,e,n,o,i,r){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=r||(ie.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.pos=e=this.options.duration?ie.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ie.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ie.fx.step[t.prop]?ie.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ie.cssProps[t.prop]]||ie.cssHooks[t.prop])?ie.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ie.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ie.fx=N.prototype.init,ie.fx.step={};var fn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),yn=/queueHooks$/,wn=[O],bn={"*":[function(t,e){var n=this.createTween(t,e),o=n.cur(),i=vn.exec(e),r=i&&i[3]||(ie.cssNumber[t]?"":"px"),s=(ie.cssNumber[t]||"px"!==r&&+o)&&vn.exec(ie.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],i=i||[],s=+o||1;do a=a||".5",s/=a,ie.style(n.elem,t,s+r);while(a!==(a=n.cur()/o)&&1!==a&&--l)}return i&&(s=n.start=+s||+o||0,n.unit=r,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(j,{tweener:function(t,e){ie.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,o=0,i=t.length;i>o;o++)n=t[o],bn[n]=bn[n]||[],bn[n].unshift(e)},prefilter:function(t,e){e?wn.unshift(t):wn.push(t)}}),ie.speed=function(t,e,n){var o=t&&"object"==typeof t?ie.extend({},t):{complete:n||!n&&e||ie.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ie.isFunction(e)&&e};return o.duration=ie.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in ie.fx.speeds?ie.fx.speeds[o.duration]:ie.fx.speeds._default,(null==o.queue||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){ie.isFunction(o.old)&&o.old.call(this),o.queue&&ie.dequeue(this,o.queue)},o},ie.fn.extend({fadeTo:function(t,e,n,o){return this.filter(Ee).css("opacity",0).show().end().animate({opacity:e},t,n,o)},animate:function(t,e,n,o){var i=ie.isEmptyObject(t),r=ie.speed(e,n,o),s=function(){var e=j(this,ie.extend({},t),r);(i||ie._data(this,"finish"))&&e.stop(!0)};return s.finish=s,i||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",r=ie.timers,s=ie._data(this);if(i)s[i]&&s[i].stop&&o(s[i]);else for(i in s)s[i]&&s[i].stop&&yn.test(i)&&o(s[i]);for(i=r.length;i--;)r[i].elem!==this||null!=t&&r[i].queue!==t||(r[i].anim.stop(n),e=!1,r.splice(i,1));(e||!n)&&ie.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ie._data(this),o=n[t+"queue"],i=n[t+"queueHooks"],r=ie.timers,s=o?o.length:0;for(n.finish=!0,ie.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(t,e){var n=ie.fn[e];ie.fn[e]=function(t,o,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(P(e,!0),t,o,i)}}),ie.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ie.fn[t]=function(t,n,o){return this.animate(e,t,n,o)}}),ie.timers=[],ie.fx.tick=function(){var t,e=ie.timers,n=0;for(fn=ie.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||ie.fx.stop(),fn=void 0},ie.fx.timer=function(t){ie.timers.push(t),t()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){mn||(mn=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(mn),mn=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(t,e){return t=ie.fx?ie.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var o=setTimeout(e,t);n.stop=function(){clearTimeout(o)}})},function(){var t,e,n,o,i;e=fe.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=e.getElementsByTagName("a")[0],n=fe.createElement("select"),i=n.appendChild(fe.createElement("option")),t=e.getElementsByTagName("input")[0],o.style.cssText="top:1px",ne.getSetAttribute="t"!==e.className,ne.style=/top/.test(o.getAttribute("style")),ne.hrefNormalized="/a"===o.getAttribute("href"),ne.checkOn=!!t.value,ne.optSelected=i.selected,ne.enctype=!!fe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,t=fe.createElement("input"),t.setAttribute("value",""),ne.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ne.radioValue="t"===t.value}();var Cn=/\r/g;ie.fn.extend({val:function(t){var e,n,o,i=this[0];{if(arguments.length)return o=ie.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=o?t.call(this,n,ie(this).val()):t,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(t){return null==t?"":t+""})),e=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Cn,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(t){var e=ie.find.attr(t,"value");return null!=e?e:ie.trim(ie.text(t))}},select:{get:function(t){for(var e,n,o=t.options,i=t.selectedIndex,r="select-one"===t.type||0>i,s=r?null:[],a=r?i+1:o.length,l=0>i?a:r?i:0;a>l;l++)if(n=o[l],!(!n.selected&&l!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(e=ie(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,o,i=t.options,r=ie.makeArray(e),s=i.length;s--;)if(o=i[s],ie.inArray(ie.valHooks.option.get(o),r)>=0)try{o.selected=n=!0}catch(a){o.scrollHeight}else o.selected=!1;return n||(t.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(t,e){return ie.isArray(e)?t.checked=ie.inArray(ie(t).val(),e)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _n,xn,kn=ie.expr.attrHandle,Sn=/^(?:checked|selected)$/i,Tn=ne.getSetAttribute,$n=ne.input;ie.fn.extend({attr:function(t,e){return De(this,ie.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ie.removeAttr(this,t)})}}),ie.extend({attr:function(t,e,n){var o,i,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===xe?ie.prop(t,e,n):(1===r&&ie.isXMLDoc(t)||(e=e.toLowerCase(),o=ie.attrHooks[e]||(ie.expr.match.bool.test(e)?xn:_n)),void 0===n?o&&"get"in o&&null!==(i=o.get(t,e))?i:(i=ie.find.attr(t,e),null==i?void 0:i):null!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void ie.removeAttr(t,e))},removeAttr:function(t,e){var n,o,i=0,r=e&&e.match(we);if(r&&1===t.nodeType)for(;n=r[i++];)o=ie.propFix[n]||n,ie.expr.match.bool.test(n)?$n&&Tn||!Sn.test(n)?t[o]=!1:t[ie.camelCase("default-"+n)]=t[o]=!1:ie.attr(t,n,""),t.removeAttribute(Tn?n:o)},attrHooks:{type:{set:function(t,e){if(!ne.radioValue&&"radio"===e&&ie.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),xn={set:function(t,e,n){return e===!1?ie.removeAttr(t,n):$n&&Tn||!Sn.test(n)?t.setAttribute(!Tn&&ie.propFix[n]||n,n):t[ie.camelCase("default-"+n)]=t[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(t,e){var n=kn[e]||ie.find.attr;kn[e]=$n&&Tn||!Sn.test(e)?function(t,e,o){var i,r;return o||(r=kn[e],kn[e]=i,i=null!=n(t,e,o)?e.toLowerCase():null,kn[e]=r),i}:function(t,e,n){return n?void 0:t[ie.camelCase("default-"+e)]?e.toLowerCase():null}}),$n&&Tn||(ie.attrHooks.value={set:function(t,e,n){return ie.nodeName(t,"input")?void(t.defaultValue=e):_n&&_n.set(t,e,n)}}),Tn||(_n={set:function(t,e,n){var o=t.getAttributeNode(n);return o||t.setAttributeNode(o=t.ownerDocument.createAttribute(n)),o.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},kn.id=kn.name=kn.coords=function(t,e,n){var o;return n?void 0:(o=t.getAttributeNode(e))&&""!==o.value?o.value:null},ie.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:_n.set},ie.attrHooks.contenteditable={set:function(t,e,n){_n.set(t,""===e?!1:e,n)}},ie.each(["width","height"],function(t,e){ie.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var En=/^(?:input|select|textarea|button|object)$/i,Dn=/^(?:a|area)$/i;ie.fn.extend({prop:function(t,e){return De(this,ie.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ie.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var o,i,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return r=1!==s||!ie.isXMLDoc(t),r&&(e=ie.propFix[e]||e,i=ie.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:t[e]=n:i&&"get"in i&&null!==(o=i.get(t,e))?o:t[e]},propHooks:{tabIndex:{get:function(t){var e=ie.find.attr(t,"tabindex");return e?parseInt(e,10):En.test(t.nodeName)||Dn.test(t.nodeName)&&t.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(t,e){ie.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Mn=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(t){var e,n,o,i,r,s,a=0,l=this.length,c="string"==typeof t&&t;if(ie.isFunction(t))return this.each(function(e){ie(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(we)||[];l>a;a++)if(n=this[a],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):" ")){for(r=0;i=e[r++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");s=ie.trim(o),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,o,i,r,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(ie.isFunction(t))return this.each(function(e){ie(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(we)||[];l>a;a++)if(n=this[a],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):"")){for(r=0;i=e[r++];)for(;o.indexOf(" "+i+" ")>=0;)o=o.replace(" "+i+" "," ");s=t?ie.trim(o):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(ie.isFunction(t)?function(n){ie(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,o=0,i=ie(this),r=t.match(we)||[];e=r[o++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===xe||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ie._data(this,"__className__")||"")
})},hasClass:function(t){for(var e=" "+t+" ",n=0,o=this.length;o>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Mn," ").indexOf(e)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ie.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ie.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,o){return this.on(e,t,n,o)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Rn=ie.now(),Nn=/\?/,An=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,o=null,i=ie.trim(e+"");return i&&!ie.trim(i.replace(An,function(t,e,i,r){return n&&e&&(o=0),0===o?t:(n=i||e,o+=!r-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+e)},ie.parseXML=function(e){var n,o;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(o=new DOMParser,n=o.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+e),n};var Pn,Ln,On=/#.*$/,In=/([?&])_=[^&]*/,jn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Hn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vn=/^(?:GET|HEAD)$/,Fn=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bn={},Wn={},qn="*/".concat("*");try{Ln=location.href}catch(Jn){Ln=fe.createElement("a"),Ln.href="",Ln=Ln.href}Pn=zn.exec(Ln.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ln,type:"GET",isLocal:Hn.test(Pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?F(F(t,ie.ajaxSettings),e):F(ie.ajaxSettings,t)},ajaxPrefilter:H(Bn),ajaxTransport:H(Wn),ajax:function(t,e){function n(t,e,n,o){var i,u,v,y,b,_=e;2!==w&&(w=2,a&&clearTimeout(a),c=void 0,s=o||"",C.readyState=t>0?4:0,i=t>=200&&300>t||304===t,n&&(y=z(d,C,n)),y=B(d,y,C,i),i?(d.ifModified&&(b=C.getResponseHeader("Last-Modified"),b&&(ie.lastModified[r]=b),b=C.getResponseHeader("etag"),b&&(ie.etag[r]=b)),204===t||"HEAD"===d.type?_="nocontent":304===t?_="notmodified":(_=y.state,u=y.data,v=y.error,i=!v)):(v=_,(t||!_)&&(_="error",0>t&&(t=0))),C.status=t,C.statusText=(e||_)+"",i?f.resolveWith(h,[u,_,C]):f.rejectWith(h,[C,_,v]),C.statusCode(g),g=void 0,l&&p.trigger(i?"ajaxSuccess":"ajaxError",[C,d,i?u:v]),m.fireWith(h,[C,_]),l&&(p.trigger("ajaxComplete",[C,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var o,i,r,s,a,l,c,u,d=ie.ajaxSetup({},e),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?ie(h):ie.event,f=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},w=0,b="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!u)for(u={};e=jn.exec(s);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)g[e]=[g[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||b;return c&&c.abort(e),n(0,e),this}};if(f.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,d.url=((t||d.url||Ln)+"").replace(On,"").replace(Fn,Pn[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(we)||[""],null==d.crossDomain&&(o=zn.exec(d.url.toLowerCase()),d.crossDomain=!(!o||o[1]===Pn[1]&&o[2]===Pn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Pn[3]||("http:"===Pn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),V(Bn,d,e,C),2===w)return C;l=d.global,l&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Vn.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(Nn.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=In.test(r)?r.replace(In,"$1_="+Rn++):r+(Nn.test(r)?"&":"?")+"_="+Rn++)),d.ifModified&&(ie.lastModified[r]&&C.setRequestHeader("If-Modified-Since",ie.lastModified[r]),ie.etag[r]&&C.setRequestHeader("If-None-Match",ie.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qn+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)C.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(h,C,d)===!1||2===w))return C.abort();b="abort";for(i in{success:1,error:1,complete:1})C[i](d[i]);if(c=V(Wn,d,e,C)){C.readyState=1,l&&p.trigger("ajaxSend",[C,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){C.abort("timeout")},d.timeout));try{w=1,c.send(v,n)}catch(_){if(!(2>w))throw _;n(-1,_)}}else n(-1,"No Transport");return C},getJSON:function(t,e,n){return ie.get(t,e,n,"json")},getScript:function(t,e){return ie.get(t,void 0,e,"script")}}),ie.each(["get","post"],function(t,e){ie[e]=function(t,n,o,i){return ie.isFunction(n)&&(i=i||o,o=n,n=void 0),ie.ajax({url:t,type:e,dataType:i,data:n,success:o})}}),ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ie.fn[e]=function(t){return this.on(e,t)}}),ie._evalUrl=function(t){return ie.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(t){if(ie.isFunction(t))return this.each(function(e){ie(this).wrapAll(t.call(this,e))});if(this[0]){var e=ie(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(ie.isFunction(t)?function(e){ie(this).wrapInner(t.call(this,e))}:function(){var e=ie(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ie.isFunction(t);return this.each(function(n){ie(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ie.css(t,"display"))},ie.expr.filters.visible=function(t){return!ie.expr.filters.hidden(t)};var Un=/%20/g,Gn=/\[\]$/,Xn=/\r?\n/g,Yn=/^(?:submit|button|image|reset|file)$/i,Kn=/^(?:input|select|textarea|keygen)/i;ie.param=function(t,e){var n,o=[],i=function(t,e){e=ie.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(t)||t.jquery&&!ie.isPlainObject(t))ie.each(t,function(){i(this.name,this.value)});else for(n in t)W(n,t[n],e,i);return o.join("&").replace(Un,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ie.prop(this,"elements");return t?ie.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ie(this).is(":disabled")&&Kn.test(this.nodeName)&&!Yn.test(t)&&(this.checked||!Me.test(t))}).map(function(t,e){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(t){return{name:e.name,value:t.replace(Xn,"\r\n")}}):{name:e.name,value:n.replace(Xn,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||J()}:q;var Qn=0,Zn={},to=ie.ajaxSettings.xhr();t.ActiveXObject&&ie(t).on("unload",function(){for(var t in Zn)Zn[t](void 0,!0)}),ne.cors=!!to&&"withCredentials"in to,to=ne.ajax=!!to,to&&ie.ajaxTransport(function(t){if(!t.crossDomain||ne.cors){var e;return{send:function(n,o){var i,r=t.xhr(),s=++Qn;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)r[i]=t.xhrFields[i];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&r.setRequestHeader(i,n[i]+"");r.send(t.hasContent&&t.data||null),e=function(n,i){var a,l,c;if(e&&(i||4===r.readyState))if(delete Zn[s],e=void 0,r.onreadystatechange=ie.noop,i)4!==r.readyState&&r.abort();else{c={},a=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(u){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&o(a,l,c,r.getAllResponseHeaders())},t.async?4===r.readyState?setTimeout(e):r.onreadystatechange=Zn[s]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ie.globalEval(t),t}}}),ie.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ie.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=fe.head||ie("head")[0]||fe.documentElement;return{send:function(o,i){e=fe.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||i(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var eo=[],no=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=eo.pop()||ie.expando+"_"+Rn++;return this[t]=!0,t}}),ie.ajaxPrefilter("json jsonp",function(e,n,o){var i,r,s,a=e.jsonp!==!1&&(no.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&no.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=ie.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(no,"$1"+i):e.jsonp!==!1&&(e.url+=(Nn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||ie.error(i+" was not called"),s[0]},e.dataTypes[0]="json",r=t[i],t[i]=function(){s=arguments},o.always(function(){t[i]=r,e[i]&&(e.jsonpCallback=n.jsonpCallback,eo.push(i)),s&&ie.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),ie.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||fe;var o=de.exec(t),i=!n&&[];return o?[e.createElement(o[1])]:(o=ie.buildFragment([t],e,i),i&&i.length&&ie(i).remove(),ie.merge([],o.childNodes))};var oo=ie.fn.load;ie.fn.load=function(t,e,n){if("string"!=typeof t&&oo)return oo.apply(this,arguments);var o,i,r,s=this,a=t.indexOf(" ");return a>=0&&(o=ie.trim(t.slice(a,t.length)),t=t.slice(0,a)),ie.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ie.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){i=arguments,s.html(o?ie("<div>").append(ie.parseHTML(t)).find(o):t)}).complete(n&&function(t,e){s.each(n,i||[t.responseText,e,t])}),this},ie.expr.filters.animated=function(t){return ie.grep(ie.timers,function(e){return t===e.elem}).length};var io=t.document.documentElement;ie.offset={setOffset:function(t,e,n){var o,i,r,s,a,l,c,u=ie.css(t,"position"),d=ie(t),h={};"static"===u&&(t.style.position="relative"),a=d.offset(),r=ie.css(t,"top"),l=ie.css(t,"left"),c=("absolute"===u||"fixed"===u)&&ie.inArray("auto",[r,l])>-1,c?(o=d.position(),s=o.top,i=o.left):(s=parseFloat(r)||0,i=parseFloat(l)||0),ie.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):d.css(h)}},ie.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ie.offset.setOffset(this,t,e)});var e,n,o={top:0,left:0},i=this[0],r=i&&i.ownerDocument;if(r)return e=r.documentElement,ie.contains(e,i)?(typeof i.getBoundingClientRect!==xe&&(o=i.getBoundingClientRect()),n=U(r),{top:o.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:o.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):o},position:function(){if(this[0]){var t,e,n={top:0,left:0},o=this[0];return"fixed"===ie.css(o,"position")?e=o.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ie.nodeName(t[0],"html")||(n=t.offset()),n.top+=ie.css(t[0],"borderTopWidth",!0),n.left+=ie.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ie.css(o,"marginTop",!0),left:e.left-n.left-ie.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||io;t&&!ie.nodeName(t,"html")&&"static"===ie.css(t,"position");)t=t.offsetParent;return t||io})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ie.fn[t]=function(o){return De(this,function(t,o,i){var r=U(t);return void 0===i?r?e in r?r[e]:r.document.documentElement[o]:t[o]:void(r?r.scrollTo(n?ie(r).scrollLeft():i,n?i:ie(r).scrollTop()):t[o]=i)},t,o,arguments.length,null)}}),ie.each(["top","left"],function(t,e){ie.cssHooks[e]=T(ne.pixelPosition,function(t,n){return n?(n=en(t,e),on.test(n)?ie(t).position()[e]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(t,e){ie.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,o){ie.fn[o]=function(o,i){var r=arguments.length&&(n||"boolean"!=typeof o),s=n||(o===!0||i===!0?"margin":"border");return De(this,function(e,n,o){var i;return ie.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===o?ie.css(e,n,s):ie.style(e,n,o,s)},e,r?o:void 0,r,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var ro=t.jQuery,so=t.$;return ie.noConflict=function(e){return t.$===ie&&(t.$=so),e&&t.jQuery===ie&&(t.jQuery=ro),ie},typeof e===xe&&(t.jQuery=t.$=ie),ie}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,o=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)},fire:function(e,n,o){var i=t.Event(n);return e.trigger(i,o),i.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(o){var i,r,s,a,l,c,u,d;if(n.fire(o,"ajax:before")){if(a=o.data("cross-domain"),l=a===e?null:a,c=o.data("with-credentials")||null,u=o.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,o.is("form")){i=o.attr("method"),r=o.attr("action"),s=o.serializeArray();var h=o.data("ujs:submit-button");h&&(s.push(h),o.data("ujs:submit-button",null))}else o.is(n.inputChangeSelector)?(i=o.data("method"),r=o.data("url"),s=o.serialize(),o.data("params")&&(s=s+"&"+o.data("params"))):o.is(n.buttonClickSelector)?(i=o.data("method")||"get",r=o.data("url"),s=o.serialize(),o.data("params")&&(s=s+"&"+o.data("params"))):(i=o.data("method"),r=n.href(o),s=o.data("params")||null);return d={type:i||"GET",data:s,dataType:u,beforeSend:function(t,i){return i.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(o,"ajax:beforeSend",[t,i])?void o.trigger("ajax:send",t):!1},success:function(t,e,n){o.trigger("ajax:success",[t,e,n])},complete:function(t,e){o.trigger("ajax:complete",[t,e])},error:function(t,e,n){o.trigger("ajax:error",[t,e,n])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),r&&(d.url=r),n.ajax(d)}return!1},handleMethod:function(o){var i=n.href(o),r=o.data("method"),s=o.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+i+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l!==e&&a!==e&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,o;n=t.is("button")?"html":"val",o=t.data("disable-with"),t.data("ujs:enable-with",t[n]()),o!==e&&t[n](o),t.prop("disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,o=t.data("confirm"),i=!1;return o?(n.fire(t,"confirm")&&(i=n.confirm(o),e=n.fire(t,"confirm:complete",[i])),i&&e):!0},blankInputs:function(e,n,o){var i,r,s=t(),a=n||"input,textarea",l=e.find(a);return l.each(function(){if(i=t(this),r=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):i.val(),!r==!o){if(i.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;s=s.add(i)}}),s.length?s:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var o=t.data("disable-with");t.data("ujs:enable-with",t.html()),o!==e&&t.html(o),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(o,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,o){t.crossDomain||n.CSRFProtection(o)}),o.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),o.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(t(this))}),o.delegate(n.linkClickSelector,"click.rails",function(o){var i=t(this),r=i.data("method"),s=i.data("params"),a=o.metaKey||o.ctrlKey;if(!n.allowAction(i))return n.stopEverything(o);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),i.data("remote")!==e){if(a&&(!r||"GET"===r)&&!s)return!0;var l=n.handleRemote(i);return l===!1?n.enableElement(i):l.error(function(){n.enableElement(i)}),!1}return i.data("method")?(n.handleMethod(i),!1):void 0}),o.delegate(n.buttonClickSelector,"click.rails",function(e){var o=t(this);if(!n.allowAction(o))return n.stopEverything(e);o.is(n.buttonDisableSelector)&&n.disableFormElement(o);var i=n.handleRemote(o);return i===!1?n.enableFormElement(o):i.error(function(){n.enableFormElement(o)}),!1}),o.delegate(n.inputChangeSelector,"change.rails",function(e){var o=t(this);return n.allowAction(o)?(n.handleRemote(o),!1):n.stopEverything(e)}),o.delegate(n.formSubmitSelector,"submit.rails",function(o){var i,r,s=t(this),a=s.data("remote")!==e;if(!n.allowAction(s))return n.stopEverything(o);if(s.attr("novalidate")==e&&(i=n.blankInputs(s,n.requiredInputSelector),i&&n.fire(s,"ajax:aborted:required",[i])))return n.stopEverything(o);if(a){if(r=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[r]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),o.delegate(n.formInputClickSelector,"click.rails",function(e){var o=t(this);if(!n.allowAction(o))return n.stopEverything(e);var i=o.attr("name"),r=i?{name:i,value:o.val()}:null;o.closest("form").data("ujs:submit-button",r)}),o.delegate(n.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),o.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(){$(function(){return $.datepicker._attachments=function(t,e){var n,o,i,r,s;return n=this._get(e,"appendText"),r=this._get(e,"isRTL"),e.append&&e.append.remove(),n&&(e.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),t[r?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),s=this._get(e,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),"button"===s||"both"===s?(i=this._get(e,"buttonText"),o=this._get(e,"buttonImage"),e.trigger=$(this._get(e,"buttonImageOnly")?$("<i>").addClass("icon-calendar").addClass(this._triggerClass):$('<button type="button"></button>').addClass(this._triggerClass).html(""===o?i:$("<i>").addClass("icon-calendar"))),t[r?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput===t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1})):void 0}})}.call(this),/**
 * Timeago is a jQuery plugin that makes it easy to support automatically
 * updating fuzzy timestamps (e.g. "4 minutes ago" or "about 1 day ago").
 *
 * @name timeago
 * @version 0.10.0
 * @requires jQuery v1.2.3+
 * @author Ryan McGeary
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://timeago.yarp.com/
 *
 * Copyright (c) 2008-2011, Ryan McGeary (ryanonjavascript -[at]- mcgeary [*dot*] org)
 */
function(t){function e(){var e=n(this);return isNaN(e.datetime)||t(this).text(o(e.datetime)),this}function n(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:r.datetime(e)});var n=t.trim(e.text());n.length>0&&e.attr("title",n)}return e.data("timeago")}function o(t){return r.inWords(i(t))}function i(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return o(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):t.timeago.datetime(e))};var r=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowFuture:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(e){function n(n,i){var r=t.isFunction(n)?n(i,e):n,s=o.numbers&&o.numbers[i]||i;return r.replace(/%d/i,s)}var o=this.settings.strings,i=o.prefixAgo,r=o.suffixAgo;this.settings.allowFuture&&0>e&&(i=o.prefixFromNow,r=o.suffixFromNow);var s=Math.abs(e)/1e3,a=s/60,l=a/60,c=l/24,u=c/365,d=45>s&&n(o.seconds,Math.round(s))||90>s&&n(o.minute,1)||45>a&&n(o.minutes,Math.round(a))||90>a&&n(o.hour,1)||24>l&&n(o.hours,Math.round(l))||48>l&&n(o.day,1)||30>c&&n(o.days,Math.floor(c))||60>c&&n(o.month,1)||365>c&&n(o.months,Math.floor(c/30))||2>u&&n(o.year,1)||n(o.years,Math.floor(u));return t.trim([i,d,r].join(" "))},parse:function(e){var n=t.trim(e);return n=n.replace(/\.\d\d\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(e){var n="time"===t(e).get(0).tagName.toLowerCase(),o=t(e).attr(n?"datetime":"title");return r.parse(o)}}),t.fn.timeago=function(){var t=this;t.each(e);var n=r.settings;return n.refreshMillis>0&&setInterval(function(){t.each(e)},n.refreshMillis),t},document.createElement("abbr"),document.createElement("time")}(jQuery),jQuery.timeago.settings.strings={prefixAgo:"hace",prefixFromNow:"dentro de",suffixAgo:"",suffixFromNow:"",seconds:"menos de un minuto",minute:"un minuto",minutes:"unos %d minutos",hour:"una hora",hours:"%d horas",day:"un d\xeda",days:"%d d\xedas",month:"un mes",months:"%d meses",year:"un a\xf1o",years:"%d a\xf1os"},jQuery(function(t){t.extend({form:function(e,n,o){null==o&&(o="POST"),null==n&&(n={});var i=t("<form>").attr({method:o,action:e}).css({display:"none"}),r=function(e,n){if(t.isArray(n))for(var o=0;o<n.length;o++){var s=n[o];r(e+"[]",s)}else if("object"==typeof n)for(var a in n)n.hasOwnProperty(a)&&r(e+"["+a+"]",n[a]);else null!=n&&i.append(t("<input>").attr({type:"hidden",name:String(e),value:String(n)}))};for(var s in n)n.hasOwnProperty(s)&&r(s,n[s]);return i.appendTo("body")}})}),/* ========================================================================
 * Bootstrap: transition.js v3.2.0
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,o=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(o).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.2.0
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new o(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',o=function(e){t(e).on("click",n,this.close)};o.VERSION="3.2.0",o.prototype.close=function(e){function n(){r.detach().trigger("closed.bs.alert").remove()}var o=t(this),i=o.attr("data-target");i||(i=o.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var r=t(i);e&&e.preventDefault(),r.length||(r=o.hasClass("alert")?o:o.parent()),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,o.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.2.0
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e,o){return this.each(function(){var i=t(this),r=i.data("bs.modal"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);r||i.data("bs.modal",r=new n(this,s)),"string"==typeof e?r[e](o):s.show&&r.show(o)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(150):r()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var o=t(this),i=o.attr("href"),r=t(o.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),o.data());o.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(r,s,this)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.2.0
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){e&&3===e.which||(t(i).remove(),t(r).each(function(){var o=n(t(this)),i={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",i)),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o=n&&t(n);return o&&o.length?o:e.parent()}function o(e){return this.each(function(){var n=t(this),o=n.data("bs.dropdown");o||n.data("bs.dropdown",o=new s(this)),"string"==typeof e&&o[e].call(n)})}var i=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.2.0",s.prototype.toggle=function(o){var i=t(this);if(!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(r.trigger(o=t.Event("show.bs.dropdown",a)),o.isDefaultPrevented())return;i.trigger("focus"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var i=n(o),s=i.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&i.find(r).trigger("focus"),o.trigger("click");var a=" li:not(.divider):visible a",l=i.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r+', [role="menu"], [role="listbox"]',s.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.2.0
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(n,o){var i=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var o=t(this),i=o.data("bs.scrollspy"),r="object"==typeof n&&n;i||o.data("bs.scrollspy",i=new e(this,r)),"string"==typeof n&&i[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var o=this;this.$body.find(this.selector).map(function(){var o=t(this),i=o.data("target")||o.attr("href"),r=/^#./.test(i)&&t(i);return r&&r.length&&r.is(":visible")&&[[r[e]().top+n,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){o.offsets.push(this[0]),o.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),o=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=o)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<=i[0])return s!=(t=r[0])&&this.activate(t);for(t=i.length;t--;)s!=r[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(n).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")};var o=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.2.0
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.tab");i||o.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],r=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(r),!r.isDefaultPrevented()){var s=t(o);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(e,n,o){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var r=n.find("> .active"),s=o&&t.support.transition&&r.hasClass("fade");s?r.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),r.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=o,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.2.0
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.tooltip"),r="object"==typeof e&&e;(i||"destroy"!=e)&&(i||o.data("bs.tooltip",i=new n(this,r)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,o){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),r=i.length;r--;){var s=i[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,o){n[t]!=o&&(e[t]=o)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(s);l&&(s=s.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,d=i[0].offsetHeight;if(l){var h=s,p=this.$element.parent(),f=this.getPosition(p);s="bottom"==s&&c.top+c.height+d-f.scroll>f.height?"top":"top"==s&&c.top-f.scroll-d<0?"bottom":"right"==s&&c.right+u>f.width?"left":"left"==s&&c.left-u<f.left?"right":s,i.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,c,u,d);this.applyPlacement(m,s);var g=function(){o.$element.trigger("shown.bs."+o.type),o.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}},n.prototype.applyPlacement=function(e,n){var o=this.tip(),i=o[0].offsetWidth,r=o[0].offsetHeight,s=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,c=o[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=u.left?2*u.left-i+l:2*u.top-r+c,h=u.left?"left":"top",p=u.left?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(d,o[0][p],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&o.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,o=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],o="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:o?t(window).width():e.outerWidth(),height:o?t(window).height():e.outerHeight()},o?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-n}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,o){var i={top:0,left:0};if(!this.$viewport)return i;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+o;a<s.top?i.top=s.top-a:l>s.top+s.height&&(i.top=s.top+s.height-l)}else{var c=e.left-r,u=e.left+r+n;c<s.left?i.left=s.left-c:u>s.width&&(i.left=s.left+s.width-u)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.2.0
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.popover"),r="object"==typeof e&&e;(i||"destroy"!=e)&&(i||o.data("bs.popover",i=new n(this,r)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.2.0
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.button"),r="object"==typeof e&&e;i||o.data("bs.button",i=new n(this,r)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,o){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,o),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",o=this.$element,i=o.is("input")?"val":"html",r=o.data();e+="Text",null==r.resetText&&o.data("resetText",o[i]()),o[i](null==r[e]?this.options[e]:r[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,o.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,o.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var o=t(n.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),n.preventDefault()})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.2.0
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.collapse"),r=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);!i&&r.toggle&&"show"==e&&(e=!e),i||o.data("bs.collapse",i=new n(this,r)),"string"==typeof e&&i[e]()})}var n=function(e,o){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var o=this.$parent&&this.$parent.find("> .panel > .in");if(o&&o.length){var i=o.data("bs.collapse");if(i&&i.transitioning)return;e.call(o,"hide"),i||o.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var a=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(350)[r](this.$element[0][a])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(350):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var o=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o,i=t(this),r=i.attr("data-target")||n.preventDefault()||(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""),s=t(r),a=s.data("bs.collapse"),l=a?"toggle":i.data(),c=i.attr("data-parent"),u=c&&t(c);a&&a.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(s,l)})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.2.0
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.carousel"),r=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;i||o.data("bs.carousel",i=new n(this,r)),"number"==typeof e?i.to(e):s?i[s]():r.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,o=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),i=n||o[e](),r=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[a]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,o.addClass(s),i.addClass(s),o.one("bsTransitionEnd",function(){i.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(1e3*o.css("transition-duration").slice(0,-1))):(o.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(h)),r&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var o,i=t(this),r=t(i.attr("data-target")||(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),e.call(r,s),a&&r.data("bs.carousel").to(a),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.2.0
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.affix"),r="object"==typeof e&&e;i||o.data("bs.affix",i=new n(this,r)),"string"==typeof e&&i[e]()})}var n=function(e,o){this.options=t.extend({},n.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),o=this.$target.scrollTop(),i=this.$element.offset(),r=this.options.offset,s=r.top,a=r.bottom;"object"!=typeof r&&(a=s=r),"function"==typeof s&&(s=r.top(this.$element)),"function"==typeof a&&(a=r.bottom(this.$element));var l=null!=this.unpin&&o+this.unpin<=i.top?!1:null!=a&&i.top+this.$element.height()>=e-a?"bottom":null!=s&&s>=o?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=t.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-a}))}}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),o=n.data();o.offset=o.offset||{},o.offsetBottom&&(o.offset.bottom=o.offsetBottom),o.offsetTop&&(o.offset.top=o.offsetTop),e.call(n,o)})})}(jQuery),function(t){t(function(){t("div.bootstrap-modal").modal(),t("div.bootstrap-modal").modal("hide").addClass("fade"),t("a.bootstrap-modal-cancel-button").click(function(e){t(e.target).closest("div.modal").modal("hide")})})}(jQuery),function(){jQuery(function(){return $("a[rel=popover]").popover(),$(".tooltip").tooltip(),$("a[rel=tooltip]").tooltip()})}.call(this),function(t){t.fn.drag=function(e,n,o){var i="string"==typeof e?e:"",r=t.isFunction(e)?e:t.isFunction(n)?n:null;return 0!==i.indexOf("drag")&&(i="drag"+i),o=(e==r?n:o)||{},r?this.bind(i,o,r):this.trigger(i)};var e=t.event,n=e.special,o=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var n=t.data(this,o.datakey),i=e.data||{};n.related+=1,t.each(o.defaults,function(t){void 0!==i[t]&&(n[t]=i[t])})},remove:function(){t.data(this,o.datakey).related-=1},setup:function(){if(!t.data(this,o.datakey)){var n=t.extend({related:0},o.defaults);t.data(this,o.datakey,n),e.add(this,"touchstart mousedown",o.init,n),this.attachEvent&&this.attachEvent("ondragstart",o.dontstart)}},teardown:function(){var n=t.data(this,o.datakey)||{};n.related||(t.removeData(this,o.datakey),e.remove(this,"touchstart mousedown",o.init),o.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",o.dontstart))},init:function(i){if(!o.touched){var r,s=i.data;if(!(0!=i.which&&s.which>0&&i.which!=s.which||t(i.target).is(s.not)||s.handle&&!t(i.target).closest(s.handle,i.currentTarget).length||(o.touched="touchstart"==i.type?this:null,s.propagates=1,s.mousedown=this,s.interactions=[o.interaction(this,s)],s.target=i.target,s.pageX=i.pageX,s.pageY=i.pageY,s.dragging=null,r=o.hijack(i,"draginit",s),!s.propagates)))return r=o.flatten(r),r&&r.length&&(s.interactions=[],t.each(r,function(){s.interactions.push(o.interaction(this,s))})),s.propagates=s.interactions.length,s.drop!==!1&&n.drop&&n.drop.handler(i,s),o.textselect(!1),o.touched?e.add(o.touched,"touchmove touchend",o.handler,s):e.add(document,"mousemove mouseup",o.handler,s),!o.touched||s.live?!1:void 0}},interaction:function(e,n){var i=t(e)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:e,callback:new o.callback,droppable:[],offset:i}},handler:function(i){var r=i.data;switch(i.type){case!r.dragging&&"touchmove":i.preventDefault();case!r.dragging&&"mousemove":if(Math.pow(i.pageX-r.pageX,2)+Math.pow(i.pageY-r.pageY,2)<Math.pow(r.distance,2))break;i.target=r.target,o.hijack(i,"dragstart",r),r.propagates&&(r.dragging=!0);case"touchmove":i.preventDefault();case"mousemove":if(r.dragging){if(o.hijack(i,"drag",r),r.propagates){r.drop!==!1&&n.drop&&n.drop.handler(i,r);break}i.type="mouseup"}case"touchend":case"mouseup":default:o.touched?e.remove(o.touched,"touchmove touchend",o.handler):e.remove(document,"mousemove mouseup",o.handler),r.dragging&&(r.drop!==!1&&n.drop&&n.drop.handler(i,r),o.hijack(i,"dragend",r)),o.textselect(!0),r.click===!1&&r.dragging&&t.data(r.mousedown,"suppress.click",(new Date).getTime()+5),r.dragging=o.touched=!1}},hijack:function(n,i,r,s,a){if(r){var l,c,u,d={event:n.originalEvent,type:n.type},h=i.indexOf("drop")?"drag":"drop",p=s||0,f=isNaN(s)?r.interactions.length:s;n.type=i,n.originalEvent=null,r.results=[];do if(c=r.interactions[p]){if("dragend"!==i&&c.cancelled)continue;u=o.properties(n,r,c),c.results=[],t(a||c[h]||r.droppable).each(function(s,a){return u.target=a,n.isPropagationStopped=function(){return!1},l=a?e.dispatch.call(a,n,u):null,l===!1?("drag"==h&&(c.cancelled=!0,r.propagates-=1),"drop"==i&&(c[h][s]=null)):"dropinit"==i&&c.droppable.push(o.element(l)||a),"dragstart"==i&&(c.proxy=t(o.element(l)||c.drag)[0]),c.results.push(l),delete n.result,"dropinit"!==i?l:void 0}),r.results[p]=o.flatten(c.results),"dropinit"==i&&(c.droppable=o.flatten(c.droppable)),"dragstart"!=i||c.cancelled||u.update()}while(++p<f);return n.type=d.type,n.originalEvent=d.event,o.flatten(r.results)}},properties:function(t,e,n){var i=n.callback;return i.drag=n.drag,i.proxy=n.proxy||n.drag,i.startX=e.pageX,i.startY=e.pageY,i.deltaX=t.pageX-e.pageX,i.deltaY=t.pageY-e.pageY,i.originalX=n.offset.left,i.originalY=n.offset.top,i.offsetX=i.originalX+i.deltaX,i.offsetY=i.originalY+i.deltaY,i.drop=o.flatten((n.drop||[]).slice()),i.available=o.flatten((n.droppable||[]).slice()),i},element:function(t){return t&&(t.jquery||1==t.nodeType)?t:void 0},flatten:function(e){return t.map(e,function(e){return e&&e.jquery?t.makeArray(e):e&&e.length?o.flatten(e):e})},textselect:function(e){t(document)[e?"unbind":"bind"]("selectstart",o.dontstart).css("MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}};o.callback.prototype={update:function(){n.drop&&this.available.length&&t.each(this.available,function(t){n.drop.locate(this,t)})}};var i=e.dispatch;e.dispatch=function(e){return t.data(this,"suppress."+e.type)-(new Date).getTime()>0?void t.removeData(this,"suppress."+e.type):i.apply(this,arguments)};var r=e.fixHooks.touchstart=e.fixHooks.touchmove=e.fixHooks.touchend=e.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(e,n){if(n){var o=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||null;o&&t.each(r.props,function(t,n){e[n]=o[n]})}return e}};n.draginit=n.dragstart=n.dragend=o}(jQuery),function(t){t.fn.drop=function(e,n,o){var i="string"==typeof e?e:"",r=t.isFunction(e)?e:t.isFunction(n)?n:null;return 0!==i.indexOf("drop")&&(i="drop"+i),o=(e==r?n:o)||{},r?this.bind(i,o,r):this.trigger(i)},t.drop=function(e){e=e||{},o.multi=e.multi===!0?1/0:e.multi===!1?1:isNaN(e.multi)?o.multi:e.multi,o.delay=e.delay||o.delay,o.tolerance=t.isFunction(e.tolerance)?e.tolerance:null===e.tolerance?null:o.tolerance,o.mode=e.mode||o.mode||"intersect"};var e=t.event,n=e.special,o=t.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(){var e=t.data(this,o.datakey);e.related+=1},remove:function(){t.data(this,o.datakey).related-=1},setup:function(){if(!t.data(this,o.datakey)){var e={related:0,active:[],anyactive:0,winner:0,location:{}};t.data(this,o.datakey,e),o.targets.push(this)}},teardown:function(){var e=t.data(this,o.datakey)||{};if(!e.related){t.removeData(this,o.datakey);var n=this;o.targets=t.grep(o.targets,function(t){return t!==n})}},handler:function(e,i){var r;if(i)switch(e.type){case"mousedown":case"touchstart":r=t(o.targets),"string"==typeof i.drop&&(r=r.filter(i.drop)),r.each(function(){var e=t.data(this,o.datakey);e.active=[],e.anyactive=0,e.winner=0}),i.droppable=r,n.drag.hijack(e,"dropinit",i);break;case"mousemove":case"touchmove":o.event=e,o.timer||o.tolerate(i);break;case"mouseup":case"touchend":o.timer=clearTimeout(o.timer),i.propagates&&(n.drag.hijack(e,"drop",i),n.drag.hijack(e,"dropend",i))}},locate:function(e,n){var i=t.data(e,o.datakey),r=t(e),s=r.offset()||{},a=r.outerHeight(),l=r.outerWidth(),c={elem:e,width:l,height:a,top:s.top,left:s.left,right:s.left+l,bottom:s.top+a};return i&&(i.location=c,i.index=n,i.elem=e),c},contains:function(t,e){return(e[0]||e.left)>=t.left&&(e[0]||e.right)<=t.right&&(e[1]||e.top)>=t.top&&(e[1]||e.bottom)<=t.bottom},modes:{intersect:function(t,e,n){return this.contains(n,[t.pageX,t.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(t,e,n){return Math.max(0,Math.min(n.bottom,e.bottom)-Math.max(n.top,e.top))*Math.max(0,Math.min(n.right,e.right)-Math.max(n.left,e.left))},fit:function(t,e,n){return this.contains(n,e)?1:0},middle:function(t,e,n){return this.contains(n,[e.left+.5*e.width,e.top+.5*e.height])?1:0}},sort:function(t,e){return e.winner-t.winner||t.index-e.index},tolerate:function(e){var i,r,s,a,l,c,u,d,h=0,p=e.interactions.length,f=[o.event.pageX,o.event.pageY],m=o.tolerance||o.modes[o.mode];do if(d=e.interactions[h]){if(!d)return;d.drop=[],l=[],c=d.droppable.length,m&&(s=o.locate(d.proxy)),i=0;do if(u=d.droppable[i]){if(a=t.data(u,o.datakey),r=a.location,!r)continue;a.winner=m?m.call(o,o.event,s,r):o.contains(r,f)?1:0,l.push(a)}while(++i<c);l.sort(o.sort),i=0;do(a=l[i])&&(a.winner&&d.drop.length<o.multi?(a.active[h]||a.anyactive||(n.drag.hijack(o.event,"dropstart",e,h,a.elem)[0]!==!1?(a.active[h]=1,a.anyactive+=1):a.winner=0),a.winner&&d.drop.push(a.elem)):a.active[h]&&1==a.anyactive&&(n.drag.hijack(o.event,"dropend",e,h,a.elem),a.active[h]=0,a.anyactive-=1));while(++i<c)}while(++h<p);o.last&&f[0]==o.last.pageX&&f[1]==o.last.pageY?delete o.timer:o.timer=setTimeout(function(){o.tolerate(e)},o.delay),o.last=o.event}};n.dropinit=n.dropstart=n.dropend=o}(jQuery),function(t){function e(){var t=!1,e=!1;this.stopPropagation=function(){t=!0},this.isPropagationStopped=function(){return t},this.stopImmediatePropagation=function(){e=!0},this.isImmediatePropagationStopped=function(){return e}}function n(){var t=[];this.subscribe=function(e){t.push(e)},this.unsubscribe=function(e){for(var n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},this.notify=function(n,o,i){o=o||new e,i=i||this;for(var r,s=0;s<t.length&&!o.isPropagationStopped()&&!o.isImmediatePropagationStopped();s++)r=t[s].call(i,o,n);return r}}function o(){var t=[];this.subscribe=function(e,n){return t.push({event:e,handler:n}),e.subscribe(n),this},this.unsubscribe=function(e,n){for(var o=t.length;o--;)if(t[o].event===e&&t[o].handler===n)return t.splice(o,1),void e.unsubscribe(n);return this},this.unsubscribeAll=function(){for(var e=t.length;e--;)t[e].event.unsubscribe(t[e].handler);return t=[],this}}function i(t,e,n,o){void 0===n&&void 0===o&&(n=t,o=e),this.fromRow=Math.min(t,n),this.fromCell=Math.min(e,o),this.toRow=Math.max(t,n),this.toCell=Math.max(e,o),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(t,e){return t>=this.fromRow&&t<=this.toRow&&e>=this.fromCell&&e<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function r(){this.__nonDataRow=!0}function s(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function a(){this.__groupTotals=!0,this.group=null}function l(){var t=null;this.isActive=function(e){return e?t===e:null!==t},this.activate=function(e){if(e!==t){if(null!==t)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!e.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!e.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";t=e}},this.deactivate=function(e){if(t!==e)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";t=null},this.commitCurrentEdit=function(){return t?t.commitCurrentEdit():!0},this.cancelCurrentEdit=function(){return t?t.cancelCurrentEdit():!0}}t.extend(!0,window,{Slick:{Event:n,EventData:e,EventHandler:o,Range:i,NonDataRow:r,Group:s,GroupTotals:a,EditorLock:l,GlobalEditorLock:new l}}),s.prototype=new r,s.prototype.equals=function(t){return this.value===t.value&&this.count===t.count&&this.collapsed===t.collapsed},a.prototype=new r}(jQuery),"undefined"==typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"==typeof Slick)throw"slick.core.js not loaded";!function($){function SlickGrid(container,data,columns,options){function init(){if($container=$(container),$container.length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var t=0;t<columns.length;t++){var e=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[e.id]=t,e.minWidth&&e.width<e.minWidth&&(e.width=e.minWidth),e.maxWidth&&e.width>e.maxWidth&&(e.width=e.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$headerScroller=$("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headers=$("<div class='slick-header-columns' style='left:-1000px' />").appendTo($headerScroller),$headers.width(getHeadersWidth()),$headerRowScroller=$("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headerRow=$("<div class='slick-headerrow-columns' />").appendTo($headerRowScroller),$headerRowSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScroller),$topPanelScroller=$("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$topPanel=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewport=$("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo($container),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas=$("<div class='grid-canvas' />").appendTo($viewport),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW=parseFloat($.css($container[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",function(t){return $(t.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.bind("scroll",handleScroll),$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller.bind("scroll",handleHeaderRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave))}function registerPlugin(t){plugins.unshift(t),t.init(self)}function unregisterPlugin(t){for(var e=plugins.length;e>=0;e--)if(plugins[e]===t){plugins[e].destroy&&plugins[e].destroy(),plugins.splice(e,1);break}}function setSelectionModel(t){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=t,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function measureScrollbar(){var t=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),e={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),e}function getHeadersWidth(){for(var t=0,e=0,n=columns.length;n>e;e++){var o=columns[e].width;t+=o}return t+=scrollbarDimensions.width,Math.max(t,viewportW)+1e3}function getCanvasWidth(){for(var t=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,e=0,n=columns.length;n--;)e+=columns[n].width;return options.fullWidthRows?Math.max(e,t):e}function updateCanvasWidth(t){var e=canvasWidth;canvasWidth=getCanvasWidth(),canvasWidth!=e&&($canvas.width(canvasWidth),$headerRow.width(canvasWidth),$headers.width(getHeadersWidth()),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),$headerRowSpacer.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),(canvasWidth!=e||t)&&applyColumnWidths()}function disableSelection(t){t&&t.jquery&&t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=$("<div style='display:none' />").appendTo(document.body);;){var o=2*t;if(n.css("height",o),o>e||n.height()!==o)break;t=o}return n.remove(),t}function bindAncestorScrollEvents(){for(var t=$canvas[0];(t=t.parentNode)!=document.body&&null!=t;)if(t==$viewport[0]||t.scrollWidth!=t.clientWidth||t.scrollHeight!=t.clientHeight){var e=$(t);$boundAncestors=$boundAncestors?$boundAncestors.add(e):e,e.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(t,e,n){if(initialized){var o=getColumnIndex(t);if(null!=o){var i=columns[o],r=$headers.children().eq(o);r&&(void 0!==e&&(columns[o].name=e),void 0!==n&&(columns[o].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:r[0],column:i}),r.attr("title",n||"").children().eq(0).html(e),trigger(self.onHeaderCellRendered,{node:r[0],column:i}))}}}function getHeaderRow(){return $headerRow[0]}function getHeaderRowColumn(t){var e=getColumnIndex(t),n=$headerRow.children().eq(e);return n&&n[0]}function createColumnHeaders(){function t(){$(this).addClass("ui-state-hover")}function e(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:t})}),$headers.empty(),$headers.width(getHeadersWidth()),$headerRow.find(".slick-headerrow-column").each(function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:t})}),$headerRow.empty();for(var n=0;n<columns.length;n++){var o=columns[n],i=$("<div class='ui-state-default slick-header-column' id='"+uid+o.id+"' />").html("<span class='slick-column-name'>"+o.name+"</span>").width(o.width-headerColumnWidthDiff).attr("title",o.toolTip||"").data("column",o).addClass(o.headerCssClass||"").appendTo($headers);if((options.enableColumnReorder||o.sortable)&&i.on("mouseenter",t).on("mouseleave",e),o.sortable&&(i.addClass("slick-header-sortable"),i.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:i[0],column:o}),options.showHeaderRow){var r=$("<div class='ui-state-default slick-headerrow-column l"+n+" r"+n+"'></div>").data("column",o).appendTo($headerRow);trigger(self.onHeaderRowCellRendered,{node:r[0],column:o})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click(function(t){if(t.metaKey=t.metaKey||t.ctrlKey,!$(t.target).hasClass("slick-resizable-handle")){var e=$(t.target).closest(".slick-header-column");if(e.length){var n=e.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var o=null,i=0;i<sortColumns.length;i++)if(sortColumns[i].columnId==n.id){o=sortColumns[i],o.sortAsc=!o.sortAsc;break}t.metaKey&&options.multiColumnSort?o&&sortColumns.splice(i,1):((t.shiftKey||t.metaKey)&&options.multiColumnSort||(sortColumns=[]),o?0==sortColumns.length&&sortColumns.push(o):(o={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(o))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(t){return{sortCol:columns[getColumnIndex(t.columnId)],sortAsc:t.sortAsc}})},t):trigger(self.onSort,{multiColumnSort:!1,sortCol:n,sortAsc:o.sortAsc},t)}}}})}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy"),$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(t,e){$(e.helper).addClass("slick-header-column-active")},beforeStop:function(t,e){$(e.helper).removeClass("slick-header-column-active")},stop:function(t){if(!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel");for(var e=$headers.sortable("toArray"),n=[],o=0;o<e.length;o++)n.push(columns[getColumnIndex(e[o].replace(uid,""))]);setColumns(n),trigger(self.onColumnsReordered,{}),t.stopPropagation(),setupColumnResize()}})}function setupColumnResize(){var t,e,n,o,i,r,s,a,l;i=$headers.children(),i.find(".slick-resizable-handle").remove(),i.each(function(t){columns[t].resizable&&(void 0===a&&(a=t),l=t)}),void 0!==a&&i.each(function(c,u){a>c||options.forceFitColumns&&c>=l||(t=$(u),$("<div class='slick-resizable-handle' />").appendTo(u).bind("dragstart",function(t){if(!getEditorLock().commitCurrentEdit())return!1;o=t.pageX,$(this).parent().addClass("slick-header-column-active");var a=null,l=null;if(i.each(function(t,e){columns[t].previousWidth=$(e).outerWidth()}),options.forceFitColumns)for(a=0,l=0,e=c+1;e<i.length;e++)n=columns[e],n.resizable&&(null!==l&&(n.maxWidth?l+=n.maxWidth-n.previousWidth:l=null),a+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth));var u=0,d=0;for(e=0;c>=e;e++)n=columns[e],n.resizable&&(null!==d&&(n.maxWidth?d+=n.maxWidth-n.previousWidth:d=null),u+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth));null===a&&(a=1e5),null===u&&(u=1e5),null===l&&(l=1e5),null===d&&(d=1e5),s=o+Math.min(a,d),r=o-Math.min(u,l)}).bind("drag",function(t){var a,l,u=Math.min(s,Math.max(r,t.pageX))-o;if(0>u){for(l=u,e=c;e>=0;e--)n=columns[e],n.resizable&&(a=Math.max(n.minWidth||0,absoluteColumnMinWidth),l&&n.previousWidth+l<a?(l+=n.previousWidth-a,n.width=a):(n.width=n.previousWidth+l,l=0));if(options.forceFitColumns)for(l=-u,e=c+1;e<i.length;e++)n=columns[e],n.resizable&&(l&&n.maxWidth&&n.maxWidth-n.previousWidth<l?(l-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+l,l=0))}else{for(l=u,e=c;e>=0;e--)n=columns[e],n.resizable&&(l&&n.maxWidth&&n.maxWidth-n.previousWidth<l?(l-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+l,l=0));if(options.forceFitColumns)for(l=-u,e=c+1;e<i.length;e++)n=columns[e],n.resizable&&(a=Math.max(n.minWidth||0,absoluteColumnMinWidth),l&&n.previousWidth+l<a?(l+=n.previousWidth-a,n.width=a):(n.width=n.previousWidth+l,l=0))}applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(){var t;for($(this).parent().removeClass("slick-header-column-active"),e=0;e<i.length;e++)n=columns[e],t=$(i[e]).outerWidth(),n.previousWidth!==t&&n.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})}))})}function getVBoxDelta(t){var e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],n=0;return $.each(e,function(e,o){n+=parseFloat(t.css(o))||0}),n}function measureCellPaddingAndBorder(){var t,e=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];t=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,$.each(e,function(e,n){headerColumnWidthDiff+=parseFloat(t.css(n))||0}),$.each(n,function(e,n){headerColumnHeightDiff+=parseFloat(t.css(n))||0}),t.remove();var o=$("<div class='slick-row' />").appendTo($canvas);t=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(o),cellWidthDiff=cellHeightDiff=0,$.each(e,function(e,n){cellWidthDiff+=parseFloat(t.css(n))||0}),$.each(n,function(e,n){cellHeightDiff+=parseFloat(t.css(n))||0}),o.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var t=options.rowHeight-cellHeightDiff,e=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+t+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)e.push("."+uid+" .l"+n+" { }"),e.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=e.join(" "):$style[0].appendChild(document.createTextNode(e.join(" ")))}function getColumnCssRules(t){if(!stylesheet){for(var e=document.styleSheets,n=0;n<e.length;n++)if((e[n].ownerNode||e[n].owningElement)==$style[0]){stylesheet=e[n];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];for(var o,i,r=stylesheet.cssRules||stylesheet.rules,n=0;n<r.length;n++){var s=r[n].selectorText;(o=/\.l\d+/.exec(s))?(i=parseInt(o[0].substr(2,o[0].length-2),10),columnCssRulesL[i]=r[n]):(o=/\.r\d+/.exec(s))&&(i=parseInt(o[0].substr(2,o[0].length-2),10),columnCssRulesR[i]=r[n])}}return{left:columnCssRulesL[t],right:columnCssRulesR[t]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var t=plugins.length;t--;)unregisterPlugin(plugins[t]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$canvas.unbind("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}function trigger(t,e,n){return n=n||new Slick.EventData,e=e||{},e.grid=self,t.notify(e,n,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(t){return columnsById[t]}function autosizeColumns(){var t,e,n,o=[],i=0,r=0,s=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(t=0;t<columns.length;t++)e=columns[t],o.push(e.width),r+=e.width,e.resizable&&(i+=e.width-Math.max(e.minWidth,absoluteColumnMinWidth));for(n=r;r>s&&i;){var a=(r-s)/i;for(t=0;t<columns.length&&r>s;t++){e=columns[t];var l=o[t];if(!(!e.resizable||l<=e.minWidth||absoluteColumnMinWidth>=l)){var c=Math.max(e.minWidth,absoluteColumnMinWidth),u=Math.floor(a*(l-c))||1;u=Math.min(u,l-c),r-=u,i-=u,o[t]-=u}}if(n==r)break;n=r}for(n=r;s>r;){var d=s/r;for(t=0;t<columns.length&&s>r;t++)if(e=columns[t],e.resizable&&!(e.maxWidth<=e.width)){var h=Math.min(Math.floor(d*e.width)-e.width,e.maxWidth-e.width||1e6)||1;r+=h,o[t]+=h}if(n==r)break;n=r}var p=!1;for(t=0;t<columns.length;t++)columns[t].rerenderOnResize&&columns[t].width!=o[t]&&(p=!0),columns[t].width=o[t];applyColumnHeaderWidths(),updateCanvasWidth(!0),p&&(invalidateAllRows(),render())}function applyColumnHeaderWidths(){if(initialized){for(var t,e=0,n=$headers.children(),o=n.length;o>e;e++)t=$(n[e]),t.width()!==columns[e].width-headerColumnWidthDiff&&t.width(columns[e].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var t,e,n=0,o=0;o<columns.length;o++)t=columns[o].width,e=getColumnCssRules(o),e.left.style.left=n+"px",e.right.style.right=canvasWidth-n-t+"px",n+=columns[o].width}function setSortColumn(t,e){setSortColumns([{columnId:t,sortAsc:e}])}function setSortColumns(t){sortColumns=t;var e=$headers.children();e.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(t,n){null==n.sortAsc&&(n.sortAsc=!0);var o=getColumnIndex(n.columnId);null!=o&&e.eq(o).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(n.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(t,e){selectedRows=[];for(var n={},o=0;o<e.length;o++)for(var i=e[o].fromRow;i<=e[o].toRow;i++){n[i]||(selectedRows.push(i),n[i]={});for(var r=e[o].fromCell;r<=e[o].toCell;r++)canCellBeSelected(i,r)&&(n[i][columns[r].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,n),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},t)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var t=0,e=0,n=columns.length;n>e;e++)columnPosLeft[e]=t,columnPosRight[e]=t+columns[e].width,t+=columns[e].width}function setColumns(t){columns=t,columnsById={};for(var e=0;e<columns.length;e++){var n=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[n.id]=e,n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(t){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==t.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,t),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(t,e){data=t,invalidateAllRows(),updateRowCount(),e&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataItem(t){return data.getItem?data.getItem(t):data[t]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(t){options.showTopPanel!=t&&(options.showTopPanel=t,t?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))
}function setHeaderRowVisibility(t){options.showHeaderRow!=t&&(options.showHeaderRow=t,t?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(t){return options.rowHeight*t-offset}function getRowFromPosition(t){return Math.floor((t+offset)/options.rowHeight)}function scrollTo(t){t=Math.max(t,0),t=Math.min(t,th-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0));var e=offset;page=Math.min(n-1,Math.floor(t/ph)),offset=Math.round(page*cj);var o=t-offset;if(offset!=e){var i=getVisibleRange(o);cleanupRows(i),updateRowPositions()}prevScrollTop!=o&&(vScrollDir=o+offset>prevScrollTop+e?1:-1,$viewport[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=o,trigger(self.onViewportChanged,{}))}function defaultFormatter(t,e,n){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t),o=n&&n.columns&&(n.columns[e.id]||n.columns[getColumnIndex(e.id)]);return o&&o.formatter||n&&n.formatter||e.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(e)||options.defaultFormatter}function getEditor(t,e){var n=columns[e],o=data.getItemMetadata&&data.getItemMetadata(t),i=o&&o.columns;return i&&i[n.id]&&void 0!==i[n.id].editor?i[n.id].editor:i&&i[e]&&void 0!==i[e].editor?i[e].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(t,e){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(t,e):t[e.field]}function appendRowHtml(t,e,n){var o=getDataItem(e),i=e<getDataLength()&&!o,r="slick-row"+(i?" loading":"")+(e===activeRow?" active":"")+(e%2==1?" odd":" even"),s=data.getItemMetadata&&data.getItemMetadata(e);s&&s.cssClasses&&(r+=" "+s.cssClasses),t.push("<div class='ui-widget-content "+r+"' style='top:"+getRowTop(e)+"px'>");for(var a,l,c=0,u=columns.length;u>c;c++){if(l=columns[c],a=1,s&&s.columns){var d=s.columns[l.id]||s.columns[c];a=d&&d.colspan||1,"*"===a&&(a=u-c)}if(columnPosRight[Math.min(u-1,c+a-1)]>n.leftPx){if(columnPosLeft[c]>n.rightPx)break;appendCellHtml(t,e,c,a)}a>1&&(c+=a-1)}t.push("</div>")}function appendCellHtml(t,e,n,o){var i=columns[n],r=getDataItem(e),s="slick-cell l"+n+" r"+Math.min(columns.length-1,n+o-1)+(i.cssClass?" "+i.cssClass:"");e===activeRow&&n===activeCell&&(s+=" active");for(var a in cellCssClasses)cellCssClasses[a][e]&&cellCssClasses[a][e][i.id]&&(s+=" "+cellCssClasses[a][e][i.id]);if(t.push("<div class='"+s+"'>"),r){var l=getDataItemValueForColumn(r,i);t.push(getFormatter(e,i)(e,n,l,i,r))}t.push("</div>"),rowsCache[e].cellRenderQueue.push(n),rowsCache[e].cellColSpans[n]=o}function cleanupRows(t){for(var e in rowsCache)(e=parseInt(e,10))!==activeRow&&(e<t.top||e>t.bottom)&&removeRowFromCache(e)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var t in rowsCache)removeRowFromCache(t)}function removeRowFromCache(t){var e=rowsCache[t];e&&($canvas[0].removeChild(e.rowNode),delete rowsCache[t],delete postProcessedRows[t],renderedRows--,counter_rows_removed++)}function invalidateRows(t){var e,n;if(t&&t.length)for(vScrollDir=0,e=0,n=t.length;n>e;e++)currentEditor&&activeRow===t[e]&&makeActiveCellNormal(),rowsCache[t[e]]&&removeRowFromCache(t[e])}function invalidateRow(t){invalidateRows([t])}function updateCell(t,e){var n=getCellNode(t,e);if(n){var o=columns[e],i=getDataItem(t);currentEditor&&activeRow===t&&activeCell===e?currentEditor.loadValue(i):(n.innerHTML=i?getFormatter(t,o)(t,e,getDataItemValueForColumn(i,o),o,i):"",invalidatePostProcessingResults(t))}}function updateRow(t){var e=rowsCache[t];if(e){ensureCellNodesInRowsCache(t);for(var n in e.cellNodesByColumnIdx)if(e.cellNodesByColumnIdx.hasOwnProperty(n)){n=0|n;var o=columns[n],i=getDataItem(t),r=e.cellNodesByColumnIdx[n];t===activeRow&&n===activeCell&&currentEditor?currentEditor.loadValue(i):r.innerHTML=i?getFormatter(t,o)(t,n,getDataItemValueForColumn(i,o),o,i):""}invalidatePostProcessingResults(t)}}function getViewportHeight(){return parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-parseFloat($.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0)}function resizeCanvas(){initialized&&(viewportH=options.autoHeight?options.rowHeight*(getDataLength()+(options.enableAddRow?1:0)):getViewportHeight(),numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportW=parseFloat($.css($container[0],"width",!0)),options.autoHeight||$viewport.height(viewportH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),render())}function updateRowCount(){if(initialized){numberOfRows=getDataLength()+(options.enableAddRow?1:0)+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var t=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&numberOfRows*options.rowHeight>viewportH;var e=options.enableAddRow?getDataLength():getDataLength()-1;for(var o in rowsCache)o>=e&&removeRowFromCache(o);activeCellNode&&activeRow>e&&resetActiveCell();var i=h;th=Math.max(options.rowHeight*numberOfRows,viewportH-scrollbarDimensions.height),maxSupportedCssHeight>th?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==i&&($canvas.css("height",h),scrollTop=$viewport[0].scrollTop);var r=th-viewportH>=scrollTop+offset;0==th||0==scrollTop?page=offset=0:scrollTo(r?scrollTop+offset:th-viewportH),h!=i&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&t!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(t,e){return null==t&&(t=scrollTop),null==e&&(e=scrollLeft),{top:getRowFromPosition(t),bottom:getRowFromPosition(t+viewportH)+1,leftPx:e,rightPx:e+viewportW}}function getRenderedRange(t,e){var n=getVisibleRange(t,e),o=Math.round(viewportH/options.rowHeight),i=3;return-1==vScrollDir?(n.top-=o,n.bottom+=i):1==vScrollDir?(n.top-=i,n.bottom+=o):(n.top-=i,n.bottom+=i),n.top=Math.max(0,n.top),n.bottom=Math.min(options.enableAddRow?getDataLength():getDataLength()-1,n.bottom),n.leftPx-=viewportW,n.rightPx+=viewportW,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth,n.rightPx),n}function ensureCellNodesInRowsCache(t){var e=rowsCache[t];if(e&&e.cellRenderQueue.length)for(var n=e.rowNode.lastChild;e.cellRenderQueue.length;){var o=e.cellRenderQueue.pop();e.cellNodesByColumnIdx[o]=n,n=n.previousSibling}}function cleanUpCells(t,e){var n=0,o=rowsCache[e],i=[];for(var r in o.cellNodesByColumnIdx)if(o.cellNodesByColumnIdx.hasOwnProperty(r)){r=0|r;var s=o.cellColSpans[r];(columnPosLeft[r]>t.rightPx||columnPosRight[Math.min(columns.length-1,r+s-1)]<t.leftPx)&&(e!=activeRow||r!=activeCell)&&i.push(r)}for(var a;null!=(a=i.pop());)o.rowNode.removeChild(o.cellNodesByColumnIdx[a]),delete o.cellColSpans[a],delete o.cellNodesByColumnIdx[a],postProcessedRows[e]&&delete postProcessedRows[e][a],n++}function cleanUpAndRenderCells(t){for(var e,n,o,i=[],r=[],s=0,a=t.top;a<=t.bottom;a++)if(e=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(t,a),n=0;var l=data.getItemMetadata&&data.getItemMetadata(a);l=l&&l.columns;for(var c=0,u=columns.length;u>c&&!(columnPosLeft[c]>t.rightPx);c++)if(null==(o=e.cellColSpans[c])){if(o=1,l){var d=l[columns[c].id]||l[c];o=d&&d.colspan||1,"*"===o&&(o=u-c)}columnPosRight[Math.min(u-1,c+o-1)]>t.leftPx&&(appendCellHtml(i,a,c,o),n++),c+=o>1?o-1:0}else c+=o>1?o-1:0;n&&(s+=n,r.push(a))}if(i.length){var h=document.createElement("div");h.innerHTML=i.join("");for(var p,f;null!=(p=r.pop());){e=rowsCache[p];for(var m;null!=(m=e.cellRenderQueue.pop());)f=h.lastChild,e.rowNode.appendChild(f),e.cellNodesByColumnIdx[m]=f}}}function renderRows(t){for(var e=$canvas[0],n=[],o=[],i=!1,r=t.top;r<=t.bottom;r++)rowsCache[r]||(renderedRows++,o.push(r),rowsCache[r]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(n,r,t),activeCellNode&&activeRow===r&&(i=!0),counter_rows_rendered++);if(o.length){var s=document.createElement("div");s.innerHTML=n.join("");for(var r=0,a=o.length;a>r;r++)rowsCache[o[r]].rowNode=e.appendChild(s.firstChild);i&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(t){delete postProcessedRows[t],postProcessFromRow=Math.min(postProcessFromRow,t),postProcessToRow=Math.max(postProcessToRow,t),startPostProcessing()}function updateRowPositions(){for(var t in rowsCache)rowsCache[t].rowNode.style.top=getRowTop(t)+"px"}function render(){if(initialized){var t=getVisibleRange(),e=getRenderedRange();cleanupRows(e),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(e),renderRows(e),postProcessFromRow=t.top,postProcessToRow=Math.min(options.enableAddRow?getDataLength():getDataLength()-1,t.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var t=$headerRowScroller[0].scrollLeft;t!=$viewport[0].scrollLeft&&($viewport[0].scrollLeft=t)}function handleScroll(){scrollTop=$viewport[0].scrollTop,scrollLeft=$viewport[0].scrollLeft;var t=Math.abs(scrollTop-prevScrollTop),e=Math.abs(scrollLeft-prevScrollLeft);if(e&&(prevScrollLeft=scrollLeft,$headerScroller[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScroller[0].scrollLeft=scrollLeft),t)if(vScrollDir=scrollTop>prevScrollTop?1:-1,prevScrollTop=scrollTop,viewportH>t)scrollTo(scrollTop+offset);else{var o=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),offset=Math.round(page*cj),o!=offset&&invalidateAllRows()}(e||t)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){for(;postProcessToRow>=postProcessFromRow;){var t=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,e=rowsCache[t];if(e&&!(t>=getDataLength())){postProcessedRows[t]||(postProcessedRows[t]={}),ensureCellNodesInRowsCache(t);for(var n in e.cellNodesByColumnIdx)if(e.cellNodesByColumnIdx.hasOwnProperty(n)){n=0|n;var o=columns[n];if(o.asyncPostRender&&!postProcessedRows[t][n]){var i=e.cellNodesByColumnIdx[n];i&&o.asyncPostRender(i,t,getDataItem(t),o),postProcessedRows[t][n]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(t,e){var n,o,i,r;for(var s in rowsCache){if(r=e&&e[s],i=t&&t[s],r)for(o in r)i&&r[o]==i[o]||(n=getCellNode(s,getColumnIndex(o)),n&&$(n).removeClass(r[o]));if(i)for(o in i)r&&r[o]==i[o]||(n=getCellNode(s,getColumnIndex(o)),n&&$(n).addClass(i[o]))}}function addCellCssStyles(t,e){if(cellCssClasses[t])throw"addCellCssStyles: cell CSS hash with key '"+t+"' already exists.";cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,null),trigger(self.onCellCssStylesChanged,{key:t,hash:e})}function removeCellCssStyles(t){cellCssClasses[t]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[t]),delete cellCssClasses[t],trigger(self.onCellCssStylesChanged,{key:t,hash:null}))}function setCellCssStyles(t,e){var n=cellCssClasses[t];cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,n),trigger(self.onCellCssStylesChanged,{key:t,hash:e})}function getCellCssStyles(t){return cellCssClasses[t]}function flashCell(t,e,n){function o(t){t&&setTimeout(function(){i.queue(function(){i.toggleClass(options.cellFlashingCssClass).dequeue(),o(t-1)})},n)}if(n=n||100,rowsCache[t]){var i=$(getCellNode(t,e));o(4)}}function handleDragInit(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var o=trigger(self.onDragInit,e,t);return t.isImmediatePropagationStopped()?o:!1}function handleDragStart(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var o=trigger(self.onDragStart,e,t);return t.isImmediatePropagationStopped()?o:!1}function handleDrag(t,e){return trigger(self.onDrag,e,t)}function handleDragEnd(t,e){trigger(self.onDragEnd,e,t)}function handleKeyDown(t){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},t);var e=t.isImmediatePropagationStopped();if(!e)if(t.shiftKey||t.altKey||t.ctrlKey)9!=t.which||!t.shiftKey||t.ctrlKey||t.altKey||(e=navigatePrev());else if(27==t.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 37==t.which?e=navigateLeft():39==t.which?e=navigateRight():38==t.which?e=navigateUp():40==t.which?e=navigateDown():9==t.which?e=navigateNext():13==t.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),e=!0);if(e){t.stopPropagation(),t.preventDefault();try{t.originalEvent.keyCode=0}catch(n){}}}function handleClick(t){currentEditor||t.target!=document.activeElement&&setFocus();var e=getCellFromEvent(t);!e||null!==currentEditor&&activeRow==e.row&&activeCell==e.cell||(trigger(self.onClick,{row:e.row,cell:e.cell},t),t.isImmediatePropagationStopped()||activeCell==e.cell&&activeRow==e.row||!canCellBeActive(e.row,e.cell)||(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit())&&(scrollRowIntoView(e.row,!1),setActiveCellInternal(getCellNode(e.row,e.cell),e.row===getDataLength()||options.autoEdit)))}function handleContextMenu(t){var e=$(t.target).closest(".slick-cell",$canvas);0!==e.length&&(activeCellNode!==e[0]||null===currentEditor)&&trigger(self.onContextMenu,{},t)}function handleDblClick(t){var e=getCellFromEvent(t);!e||null!==currentEditor&&activeRow==e.row&&activeCell==e.cell||(trigger(self.onDblClick,{row:e.row,cell:e.cell},t),t.isImmediatePropagationStopped()||options.editable&&gotoCell(e.row,e.cell,!0))}function handleHeaderMouseEnter(t){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},t)}function handleHeaderMouseLeave(t){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},t)}function handleHeaderContextMenu(t){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");trigger(self.onHeaderContextMenu,{column:n},t)}function handleHeaderClick(t){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");n&&trigger(self.onHeaderClick,{column:n},t)}function handleMouseEnter(t){trigger(self.onMouseEnter,{},t)}function handleMouseLeave(t){trigger(self.onMouseLeave,{},t)}function cellExists(t,e){return!(0>t||t>=getDataLength()||0>e||e>=columns.length)}function getCellFromPoint(t,e){for(var n=getRowFromPosition(e),o=0,i=0,r=0;r<columns.length&&t>i;r++)i+=columns[r].width,o++;return 0>o&&(o=0),{row:n,cell:o-1}}function getCellFromNode(t){var e=/l\d+/.exec(t.className);if(!e)throw"getCellFromNode: cannot get cell - "+t.className;return parseInt(e[0].substr(1,e[0].length-1),10)}function getRowFromNode(t){for(var e in rowsCache)if(rowsCache[e].rowNode===t)return 0|e;return null}function getCellFromEvent(t){var e=$(t.target).closest(".slick-cell",$canvas);if(!e.length)return null;var n=getRowFromNode(e[0].parentNode),o=getCellFromNode(e[0]);return null==n||null==o?null:{row:n,cell:o}}function getCellNodeBox(t,e){if(!cellExists(t,e))return null;for(var n=getRowTop(t),o=n+options.rowHeight-1,i=0,r=0;e>r;r++)i+=columns[r].width;var s=i+columns[e].width;return{top:n,left:i,bottom:o,right:s}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(t,e,n){scrollRowIntoView(t,n);var o=getColspan(t,e),i=columnPosLeft[e],r=columnPosRight[e+(o>1?o-1:0)],s=scrollLeft+viewportW;scrollLeft>i?($viewport.scrollLeft(i),handleScroll(),render()):r>s&&($viewport.scrollLeft(Math.min(i,r-$viewport[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(t,e){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).removeClass("active"));var n=activeCellNode!==t;activeCellNode=t,null!=activeCellNode?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),$(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode).addClass("active"),options.editable&&e&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,n&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(t,e){return t<getDataLength()&&!getDataItem(t)?!1:columns[e].cannotTriggerInsert&&t>=getDataLength()?!1:getEditor(t,e)?!0:!1}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var t=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),t){var e=columns[activeCell],n=getFormatter(activeRow,e);activeCellNode.innerHTML=n(activeRow,activeCell,getDataItemValueForColumn(t,e),e,getDataItem(activeRow)),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(t){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var e=columns[activeCell],n=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:n,column:e})===!1)return void setFocus();getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),t||(activeCellNode.innerHTML=""),currentEditor=new(t||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:e,item:n||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),n&&currentEditor.loadValue(n),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(t){var e={top:t.offsetTop,left:t.offsetLeft,bottom:0,right:0,width:$(t).outerWidth(),height:$(t).outerHeight(),visible:!0};e.bottom=e.top+e.height,e.right=e.left+e.width;for(var n=t.offsetParent;(t=t.parentNode)!=document.body;)e.visible&&t.scrollHeight!=t.offsetHeight&&"visible"!=$(t).css("overflowY")&&(e.visible=e.bottom>t.scrollTop&&e.top<t.scrollTop+t.clientHeight),e.visible&&t.scrollWidth!=t.offsetWidth&&"visible"!=$(t).css("overflowX")&&(e.visible=e.right>t.scrollLeft&&e.left<t.scrollLeft+t.clientWidth),e.left-=t.scrollLeft,e.top-=t.scrollTop,t===n&&(e.left+=t.offsetLeft,e.top+=t.offsetTop,n=t.offsetParent),e.bottom=e.top+e.height,e.right=e.left+e.width;return e}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var t=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(t.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(t)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(t,e){var n=t*options.rowHeight,o=(t+1)*options.rowHeight-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0);(t+1)*options.rowHeight>scrollTop+viewportH+offset?(scrollTo(e?n:o),render()):t*options.rowHeight<scrollTop+offset&&(scrollTo(e?o:n),render())}function scrollRowToTop(t){scrollTo(t*options.rowHeight),render()}function getColspan(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t);if(!n||!n.columns)return 1;var o=n.columns[columns[e].id]||n.columns[e],i=o&&o.colspan;return i="*"===i?columns.length-e:i||1}function findFirstFocusableCell(t){for(var e=0;e<columns.length;){if(canCellBeActive(t,e))return e;e+=getColspan(t,e)}return null}function findLastFocusableCell(t){for(var e=0,n=null;e<columns.length;)canCellBeActive(t,e)&&(n=e),e+=getColspan(t,e);return n}function gotoRight(t,e){if(e>=columns.length)return null;do e+=getColspan(t,e);while(e<columns.length&&!canCellBeActive(t,e));return e<columns.length?{row:t,cell:e,posX:e}:null}function gotoLeft(t,e){if(0>=e)return null;var n=findFirstFocusableCell(t);if(null===n||n>=e)return null;for(var o,i={row:t,cell:n,posX:n};;){if(o=gotoRight(i.row,i.cell,i.posX),!o)return null;if(o.cell>=e)return i;i=o}}function gotoDown(t,e,n){for(var o;;){if(++t>=getDataLength()+(options.enableAddRow?1:0))return null;for(o=e=0;n>=e;)o=e,e+=getColspan(t,e);if(canCellBeActive(t,o))return{row:t,cell:o,posX:n}}}function gotoUp(t,e,n){for(var o;;){if(--t<0)return null;for(o=e=0;n>=e;)o=e,e+=getColspan(t,e);if(canCellBeActive(t,o))return{row:t,cell:o,posX:n}}}function gotoNext(t,e,n){if(null==t&&null==e&&(t=e=n=0,canCellBeActive(t,e)))return{row:t,cell:e,posX:e};var o=gotoRight(t,e,n);if(o)return o;for(var i=null;++t<getDataLength()+(options.enableAddRow?1:0);)if(i=findFirstFocusableCell(t),null!==i)return{row:t,cell:i,posX:i};return null}function gotoPrev(t,e,n){if(null==t&&null==e&&(t=getDataLength()+(options.enableAddRow?1:0)-1,e=n=columns.length-1,canCellBeActive(t,e)))return{row:t,cell:e,posX:e};for(var o,i;!o&&!(o=gotoLeft(t,e,n));){if(--t<0)return null;e=0,i=findLastFocusableCell(t),null!==i&&(o={row:t,cell:i,posX:i})}return o}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(t){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=t&&"next"!=t)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();var e={up:-1,down:1,left:-1,right:1,prev:-1,next:1};tabbingDirection=e[t];var n={up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext},o=n[t],i=o(activeRow,activeCell,activePosX);if(i){var r=i.row==getDataLength();return scrollCellIntoView(i.row,i.cell,!r),setActiveCellInternal(getCellNode(i.row,i.cell),r||options.autoEdit),activePosX=i.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell),activeRow==getDataLength()||options.autoEdit),!1}function getCellNode(t,e){return rowsCache[t]?(ensureCellNodesInRowsCache(t),rowsCache[t].cellNodesByColumnIdx[e]):null}function setActiveCell(t,e){initialized&&(t>getDataLength()||0>t||e>=columns.length||0>e||options.enableCellNavigation&&(scrollCellIntoView(t,e,!1),setActiveCellInternal(getCellNode(t,e),!1)))}function canCellBeActive(t,e){if(!options.enableCellNavigation||t>=getDataLength()+(options.enableAddRow?1:0)||0>t||e>=columns.length||0>e)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&"boolean"==typeof n.focusable)return n.focusable;var o=n&&n.columns;return o&&o[columns[e].id]&&"boolean"==typeof o[columns[e].id].focusable?o[columns[e].id].focusable:o&&o[e]&&"boolean"==typeof o[e].focusable?o[e].focusable:columns[e].focusable}function canCellBeSelected(t,e){if(t>=getDataLength()||0>t||e>=columns.length||0>e)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&"boolean"==typeof n.selectable)return n.selectable;var o=n&&n.columns&&(n.columns[columns[e].id]||n.columns[e]);return o&&"boolean"==typeof o.selectable?o.selectable:columns[e].selectable}function gotoCell(t,e,n){if(initialized&&canCellBeActive(t,e)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(t,e,!1);var o=getCellNode(t,e);setActiveCellInternal(o,n||t===getDataLength()||options.autoEdit),currentEditor||setFocus()}}function commitCurrentEdit(){var t=getDataItem(activeRow),e=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var o={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(t,this.serializedValue),updateRow(this.row)},undo:function(){this.editor.applyValue(t,this.prevSerializedValue),updateRow(this.row)}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(t,e,o)):(o.execute(),makeActiveCellNormal()),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:t})}else{var i={};currentEditor.applyValue(i,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:i,column:e})}return!getEditorLock().isActive()}return $(activeCellNode).addClass("invalid"),$(activeCellNode).stop(!0,!0).effect("highlight",{color:"red"},300),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:e}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(t){for(var e=[],n=columns.length-1,o=0;o<t.length;o++)e.push(new Slick.Range(t[o],0,t[o],n));return e}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(t){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(t))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacer,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,numberOfRows=0,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0;this.debug=function(){var t="";t+="\ncounter_rows_rendered:  "+counter_rows_rendered,t+="\ncounter_rows_removed:  "+counter_rows_removed,t+="\nrenderedRows:  "+renderedRows,t+="\nnumVisibleRows:  "+numVisibleRows,t+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,t+="\nn(umber of pages):  "+n,t+="\n(current) page:  "+page,t+="\npage height (ph):  "+ph,t+="\nvScrollDir:  "+vScrollDir,alert(t)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions,maxSupportedCssHeight}(jQuery),function(t){function e(e){function n(){ye=!0}function o(){ye=!1,ee()}function i(t){be=t}function r(t){se=t}function s(t){t=t||0;for(var e,n=t,o=he.length;o>n;n++){if(e=he[n][de],void 0===e)throw"Each data element must implement a unique 'id' property";fe[e]=n}}function a(){for(var t,e=0,n=he.length;n>e;e++)if(t=he[e][de],void 0===t||fe[t]!==e)throw"Each data element must implement a unique 'id' property"}function l(){return he}function c(t,e){void 0!==e&&(de=e),he=_e=t,fe={},s(),a(),ee()
}function u(t){void 0!=t.pageSize&&(De=t.pageSize,Me=De?Math.min(Me,Math.max(0,Math.ceil(Re/De)-1)):0),void 0!=t.pageNum&&(Me=Math.min(t.pageNum,Math.max(0,Math.ceil(Re/De)-1))),Pe.notify(d(),null,ce),ee()}function d(){var t=De?Math.max(1,Math.ceil(Re/De)):1;return{pageSize:De,pageNum:Me,totalRows:Re,totalPages:t}}function h(t,e){we=e,re=t,ie=null,e===!1&&he.reverse(),he.sort(t),e===!1&&he.reverse(),fe={},s(),ee()}function p(t,e){we=e,ie=t,re=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},e===!1&&he.reverse(),he.sort(),Object.prototype.toString=n,e===!1&&he.reverse(),fe={},s(),ee()}function f(){re?h(re,we):ie&&p(ie,we)}function m(t){ge=t,e.inlineFilters&&(ae=G(),le=X()),ee()}function g(){return Se}function v(n){e.groupItemMetadataProvider||(e.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),Te=[],$e=[],n=n||[],Se=n instanceof Array?n:[n];for(var o=0;o<Se.length;o++){var i=Se[o]=t.extend(!0,{},ke,Se[o]);i.getterIsAFn="function"==typeof i.getter,i.compiledAccumulators=[];for(var r=i.aggregators.length;r--;)i.compiledAccumulators[r]=U(i.aggregators[r]);$e[o]={}}ee()}function y(t,e,n){return null==t?void v([]):void v({getter:t,formatter:e,comparer:n})}function w(t,e){if(!Se.length)throw new Error("At least one grouping must be specified before calling setAggregators().");Se[0].aggregators=t,Se[0].aggregateCollapsed=e,v(Se)}function b(t){return he[t]}function C(t){return fe[t]}function _(){if(!me){me={};for(var t=0,e=pe.length;e>t;t++)me[pe[t][de]]=t}}function x(t){return _(),me[t]}function k(t){return he[fe[t]]}function S(t){var e=[];_();for(var n=0;n<t.length;n++){var o=me[t[n]];null!=o&&(e[e.length]=o)}return e}function T(t){for(var e=[],n=0;n<t.length;n++)t[n]<pe.length&&(e[e.length]=pe[t[n]][de]);return e}function $(t,e){if(void 0===fe[t]||t!==e[de])throw"Invalid or non-matching id";he[fe[t]]=e,ve||(ve={}),ve[t]=!0,ee()}function E(t,e){he.splice(t,0,e),s(t),ee()}function D(t){he.push(t),s(he.length-1),ee()}function M(t){var e=fe[t];if(void 0===e)throw"Invalid id";delete fe[t],he.splice(e,1),s(e),ee()}function R(){return pe.length}function N(t){return pe[t]}function A(t){var n=pe[t];return void 0===n?null:n.__group?e.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?e.groupItemMetadataProvider.getTotalsRowMetadata(n):null}function P(t,e){if(null==t)for(var n=0;n<Se.length;n++)$e[n]={},Se[n].collapsed=e;else $e[t]={},Se[t].collapsed=e;ee()}function L(t){P(t,!0)}function O(t){P(t,!1)}function I(t,e,n){$e[t][e]=Se[t].collapsed^n,ee()}function j(){var t=Array.prototype.slice.call(arguments),e=t[0];1==t.length&&-1!=e.indexOf(Ee)?I(e.split(Ee).length-1,e,!0):I(t.length-1,t.join(Ee),!0)}function H(){var t=Array.prototype.slice.call(arguments),e=t[0];1==t.length&&-1!=e.indexOf(Ee)?I(e.split(Ee).length-1,e,!1):I(t.length-1,t.join(Ee),!1)}function V(){return Te}function F(t,e){for(var n,o,i,r=[],s=[],a=e?e.level+1:0,l=Se[a],c=0,u=l.predefinedValues.length;u>c;c++)o=l.predefinedValues[c],n=s[o],n||(n=new Slick.Group,n.value=o,n.level=a,n.groupingKey=(e?e.groupingKey+Ee:"")+o,r[r.length]=n,s[o]=n);for(var c=0,u=t.length;u>c;c++)i=t[c],o=l.getterIsAFn?l.getter(i):i[l.getter],n=s[o],n||(n=new Slick.Group,n.value=o,n.level=a,n.groupingKey=(e?e.groupingKey+Ee:"")+o,r[r.length]=n,s[o]=n),n.rows[n.count++]=i;if(a<Se.length-1)for(var c=0;c<r.length;c++)n=r[c],n.groups=F(n.rows,n);return r.sort(Se[a].comparer),r}function z(t){for(var e,n=Se[t.level],o=t.level==Se.length,i=new Slick.GroupTotals,r=n.aggregators.length;r--;)e=n.aggregators[r],e.init(),n.compiledAccumulators[r].call(e,!o&&n.aggregateChildGroups?t.groups:t.rows),e.storeResult(i);i.group=t,t.totals=i}function B(t,e){e=e||0;for(var n,o=Se[e],i=t.length;i--;)n=t[i],(!n.collapsed||o.aggregateCollapsed)&&(n.groups&&B(n.groups,e+1),o.aggregators.length&&(o.aggregateEmpty||n.rows.length||n.groups&&n.groups.length)&&z(n))}function W(t,e){e=e||0;for(var n,o=Se[e],i=o.collapsed,r=$e[e],s=t.length;s--;)n=t[s],n.collapsed=i^r[n.groupingKey],n.title=o.formatter?o.formatter(n):n.value,n.groups&&(W(n.groups,e+1),n.rows=[])}function q(t,e){e=e||0;for(var n,o,i=Se[e],r=[],s=0,a=0,l=t.length;l>a;a++){if(o=t[a],r[s++]=o,!o.collapsed){n=o.groups?q(o.groups,e+1):o.rows;for(var c=0,u=n.length;u>c;c++)r[s++]=n[c]}o.totals&&i.displayTotalsRow&&(!o.collapsed||i.aggregateCollapsed)&&(r[s++]=o.totals)}return r}function J(t){var e=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,n=t.toString().match(e);return{params:n[1].split(","),body:n[2]}}function U(t){var e=J(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}function G(){var t=J(ge),e=t.body.replace(/return false[;}]/gi,"{ continue _coreloop; }").replace(/return true[;}]/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }").replace(/return ([^;}]+?);/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e),n=n.replace(/\$item\$/gi,t.params[0]),n=n.replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args",n);return o.displayName=o.name="compiledFilter",o}function X(){var t=J(ge),e=t.body.replace(/return false[;}]/gi,"{ continue _coreloop; }").replace(/return true[;}]/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }").replace(/return ([^;}]+?);/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e),n=n.replace(/\$item\$/gi,t.params[0]),n=n.replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args,_cache",n);return o.displayName=o.name="compiledFilterWithCaching",o}function Y(t,e){for(var n=[],o=0,i=0,r=t.length;r>i;i++)ge(t[i],e)&&(n[o++]=t[i]);return n}function K(t,e,n){for(var o,i=[],r=0,s=0,a=t.length;a>s;s++)o=t[s],n[s]?i[r++]=o:ge(o,e)&&(i[r++]=o,n[s]=!0);return i}function Q(t){if(ge){var n=e.inlineFilters?ae:Y,o=e.inlineFilters?le:K;be.isFilterNarrowing?_e=n(_e,se):be.isFilterExpanding?_e=o(t,se,xe):be.isFilterUnchanged||(_e=n(t,se))}else _e=De?t:t.concat();var i;return De?(_e.length<Me*De&&(Me=Math.floor(_e.length/De)),i=_e.slice(De*Me,De*Me+De)):i=_e,{totalRows:_e.length,rows:i}}function Z(t,e){var n,o,i,r=[],s=0,a=e.length;be&&be.ignoreDiffsBefore&&(s=Math.max(0,Math.min(e.length,be.ignoreDiffsBefore))),be&&be.ignoreDiffsAfter&&(a=Math.min(e.length,Math.max(0,be.ignoreDiffsAfter)));for(var l=s,c=t.length;a>l;l++)l>=c?r[r.length]=l:(n=e[l],o=t[l],(Se.length&&(i=n.__nonDataRow||o.__nonDataRow)&&n.__group!==o.__group||n.__group&&!n.equals(o)||i&&(n.__groupTotals||o.__groupTotals)||n[de]!=o[de]||ve&&ve[n[de]])&&(r[r.length]=l));return r}function te(t){me=null,(be.isFilterNarrowing!=Ce.isFilterNarrowing||be.isFilterExpanding!=Ce.isFilterExpanding)&&(xe=[]);var e=Q(t);Re=e.totalRows;var n=e.rows;Te=[],Se.length&&(Te=F(n),Te.length&&(B(Te),W(Te),n=q(Te)));var o=Z(pe,n);return pe=n,o}function ee(){if(!ye){var t=pe.length,e=Re,n=te(he,ge);De&&Me*De>Re&&(Me=Math.max(0,Math.ceil(Re/De)-1),n=te(he,ge)),ve=null,Ce=be,be={},e!=Re&&Pe.notify(d(),null,ce),t!=pe.length&&Ne.notify({previous:t,current:pe.length},null,ce),n.length>0&&Ae.notify({rows:n},null,ce)}}function ne(t,e){function n(){if(r.length>0){o=!0;var n=i.mapIdsToRows(r);e||(r=i.mapRowsToIds(n)),t.setSelectedRows(n),o=!1}}var o,i=this,r=i.mapRowsToIds(t.getSelectedRows());t.onSelectedRowsChanged.subscribe(function(){o||(r=i.mapRowsToIds(t.getSelectedRows()))}),this.onRowsChanged.subscribe(n),this.onRowCountChanged.subscribe(n)}function oe(t,e){function n(t){i={};for(var e in t){var n=pe[e][de];i[n]=t[e]}}function o(){if(i){r=!0,_();var n={};for(var o in i){var s=me[o];void 0!=s&&(n[s]=i[o])}t.setCellCssStyles(e,n),r=!1}}var i,r;n(t.getCellCssStyles(e)),t.onCellCssStylesChanged.subscribe(function(t,o){r||e==o.key&&o.hash&&n(o.hash)}),this.onRowsChanged.subscribe(o),this.onRowCountChanged.subscribe(o)}var ie,re,se,ae,le,ce=this,ue={groupItemMetadataProvider:null,inlineFilters:!1},de="id",he=[],pe=[],fe={},me=null,ge=null,ve=null,ye=!1,we=!0,be={},Ce={},_e=[],xe=[],ke={getter:null,formatter:null,comparer:function(t,e){return t.value-e.value},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0},Se=[],Te=[],$e=[],Ee=":|:",De=0,Me=0,Re=0,Ne=new Slick.Event,Ae=new Slick.Event,Pe=new Slick.Event;return e=t.extend(!0,{},ue,e),{beginUpdate:n,endUpdate:o,setPagingOptions:u,getPagingInfo:d,getItems:l,setItems:c,setFilter:m,sort:h,fastSort:p,reSort:f,setGrouping:v,getGrouping:g,groupBy:y,setAggregators:w,collapseAllGroups:L,expandAllGroups:O,collapseGroup:j,expandGroup:H,getGroups:V,getIdxById:C,getRowById:x,getItemById:k,getItemByIdx:b,mapRowsToIds:T,mapIdsToRows:S,setRefreshHints:i,setFilterArgs:r,refresh:ee,updateItem:$,insertItem:E,addItem:D,deleteItem:M,syncGridSelection:ne,syncGridCellCssStyles:oe,getLength:R,getItem:N,getItemMetadata:A,onRowCountChanged:Ne,onRowsChanged:Ae,onPagingInfoChanged:Pe}}function n(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null!=e&&""!==e&&0/0!==e&&(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!=this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}}function o(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null!=e&&""!==e&&0/0!==e&&(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}}function i(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null!=e&&""!==e&&0/0!==e&&(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}}function r(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null!=e&&""!==e&&0/0!==e&&(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}}t.extend(!0,window,{Slick:{Data:{DataView:e,Aggregators:{Avg:n,Min:o,Max:i,Sum:r}}}})}(jQuery),function(t){function e(e){var n,o;this.init=function(){n=t("<INPUT type=text class='editor-text' />").appendTo(e.container).bind("keydown.nav",function(e){(e.keyCode===t.ui.keyCode.LEFT||e.keyCode===t.ui.keyCode.RIGHT)&&e.stopImmediatePropagation()}).focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.getValue=function(){return n.val()},this.setValue=function(t){n.val(t)},this.loadValue=function(t){o=t[e.column.field]||"",n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){if(e.column.validator){var t=e.column.validator(n.val());if(!t.valid)return t}return{valid:!0,msg:null}},this.init()}function n(e){var n,o;this.init=function(){n=t("<INPUT type=text class='editor-text' />"),n.bind("keydown.nav",function(e){(e.keyCode===t.ui.keyCode.LEFT||e.keyCode===t.ui.keyCode.RIGHT)&&e.stopImmediatePropagation()}),n.appendTo(e.container),n.focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){o=t[e.column.field],n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){return isNaN(n.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()}function o(e){var n,o,i=!1;this.init=function(){n=t("<INPUT type=text class='editor-text' />"),n.appendTo(e.container),n.focus().select(),n.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){i=!0},onClose:function(){i=!1}}),n.width(n.width()-18)},this.destroy=function(){t.datepicker.dpDiv.stop(!0,!0),n.datepicker("hide"),n.datepicker("destroy"),n.remove()},this.show=function(){i&&t.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){i&&t.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(e){i&&t.datepicker.dpDiv.css("top",e.top+30).css("left",e.left)},this.focus=function(){n.focus()},this.loadValue=function(t){o=t[e.column.field],n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){return{valid:!0,msg:null}},this.init()}function i(e){var n,o;this.init=function(){n=t("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>"),n.appendTo(e.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){n.val((o=t[e.column.field])?"yes":"no"),n.select()},this.serializeValue=function(){return"yes"==n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return n.val()!=o},this.validate=function(){return{valid:!0,msg:null}},this.init()}function r(e){var n,o;this.init=function(){n=t("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>"),n.appendTo(e.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){o=!!t[e.column.field],o?n.attr("checked","checked"):n.removeAttr("checked")},this.serializeValue=function(){return!!n.attr("checked")},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return this.serializeValue()!==o},this.validate=function(){return{valid:!0,msg:null}},this.init()}function s(e){var n,o,i;this.init=function(){n=t("<INPUT type=text class='editor-percentcomplete' />"),n.width(t(e.container).innerWidth()-25),n.appendTo(e.container),o=t("<div class='editor-percentcomplete-picker' />").appendTo(e.container),o.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),o.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),n.focus().select(),o.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:i,slide:function(t,e){n.val(e.value)}}),o.find(".editor-percentcomplete-buttons button").bind("click",function(){n.val(t(this).attr("val")),o.find(".editor-percentcomplete-slider").slider("value",t(this).attr("val"))})},this.destroy=function(){n.remove(),o.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){n.val(i=t[e.column.field]),n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&(parseInt(n.val(),10)||0)!=i},this.validate=function(){return isNaN(parseInt(n.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()}function a(e){var n,o,i,r=this;this.init=function(){var i=t("body");o=t("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(i),n=t("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(o),t("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(o),o.find("button:first").bind("click",this.save),o.find("button:last").bind("click",this.cancel),n.bind("keydown",this.handleKeyDown),r.position(e.position),n.focus().select()},this.handleKeyDown=function(n){n.which==t.ui.keyCode.ENTER&&n.ctrlKey?r.save():n.which==t.ui.keyCode.ESCAPE?(n.preventDefault(),r.cancel()):n.which==t.ui.keyCode.TAB&&n.shiftKey?(n.preventDefault(),e.grid.navigatePrev()):n.which==t.ui.keyCode.TAB&&(n.preventDefault(),e.grid.navigateNext())},this.save=function(){e.commitChanges()},this.cancel=function(){n.val(i),e.cancelChanges()},this.hide=function(){o.hide()},this.show=function(){o.show()},this.position=function(t){o.css("top",t.top-5).css("left",t.left-5)},this.destroy=function(){o.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){n.val(i=t[e.column.field]),n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&n.val()!=i},this.validate=function(){return{valid:!0,msg:null}},this.init()}t.extend(!0,window,{Slick:{Editors:{Text:e,Integer:n,Date:o,YesNoSelect:i,Checkbox:r,PercentComplete:s,LongText:a}}})}(jQuery),function(t){function e(t,e,n){return null==n||""===n?"-":50>n?"<span style='color:red;font-weight:bold;'>"+n+"%</span>":"<span style='color:green'>"+n+"%</span>"}function n(t,e,n){if(null==n||""===n)return"";var o;return o=30>n?"red":70>n?"silver":"green","<span class='percent-complete-bar' style='background:"+o+";width:"+n+"%'></span>"}function o(t,e,n){return n?"Yes":"No"}function i(t,e,n){return n?"<img src='../images/tick.png'>":""}t.extend(!0,window,{Slick:{Formatters:{PercentComplete:e,PercentCompleteBar:n,YesNo:o,Checkmark:i}}})}(jQuery),function(t){function e(e){function n(n){v=t.extend(!0,{},C,e),m=n,b.subscribe(m.onActiveCellChanged,i(h)),b.subscribe(m.onKeyDown,i(p)),b.subscribe(m.onClick,i(f))}function o(){b.unsubscribeAll()}function i(t){return function(){g||(g=!0,t.apply(this,arguments),g=!1)}}function r(t){for(var e=[],n=0;n<t.length;n++)for(var o=t[n].fromRow;o<=t[n].toRow;o++)e.push(o);return e}function s(t){for(var e=[],n=m.getColumns().length-1,o=0;o<t.length;o++)e.push(new Slick.Range(t[o],0,t[o],n));return e}function a(t,e){var n,o=[];for(n=t;e>=n;n++)o.push(n);for(n=e;t>n;n++)o.push(n);return o}function l(){return r(y)}function c(t){u(s(t))}function u(t){y=t,w.onSelectedRangesChanged.notify(y)}function d(){return y}function h(t,e){v.selectActiveRow&&null!=e.row&&u([new Slick.Range(e.row,0,e.row,m.getColumns().length-1)])}function p(t){var e=m.getActiveCell();if(e&&t.shiftKey&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&(38==t.which||40==t.which)){var n=l();n.sort(function(t,e){return t-e}),n.length||(n=[e.row]);var o,i=n[0],r=n[n.length-1];o=40==t.which?e.row<r||i==r?++r:++i:e.row<r?--r:--i,o>=0&&o<m.getDataLength()&&(m.scrollRowIntoView(o),y=s(a(i,r)),u(y)),t.preventDefault(),t.stopPropagation()}}function f(e){var n=m.getCellFromEvent(e);if(!n||!m.canCellBeActive(n.row,n.cell))return!1;var o=r(y),i=t.inArray(n.row,o);if(!(e.ctrlKey||e.shiftKey||e.metaKey))return!1;if(m.getOptions().multiSelect)if(-1===i&&(e.ctrlKey||e.metaKey))o.push(n.row),m.setActiveCell(n.row,n.cell);else if(-1!==i&&(e.ctrlKey||e.metaKey))o=t.grep(o,function(t){return t!==n.row}),m.setActiveCell(n.row,n.cell);else if(o.length&&e.shiftKey){var a=o.pop(),l=Math.min(n.row,a),c=Math.max(n.row,a);o=[];for(var d=l;c>=d;d++)d!==a&&o.push(d);o.push(a),m.setActiveCell(n.row,n.cell)}return y=s(o),u(y),e.stopImmediatePropagation(),!0}var m,g,v,y=[],w=this,b=new Slick.EventHandler,C={selectActiveRow:!0};t.extend(this,{getSelectedRows:l,setSelectedRows:c,getSelectedRanges:d,setSelectedRanges:u,init:n,destroy:o,onSelectedRangesChanged:new Slick.Event})}t.extend(!0,window,{Slick:{RowSelectionModel:e}})}(jQuery),function(t){function e(e,n,o){function i(){e.onPagingInfoChanged.subscribe(function(t,e){h(e)}),d(),h(e.getPagingInfo())}function r(){var t=!Slick.GlobalEditorLock.commitCurrentEdit(),n=e.getPagingInfo(),o=n.totalPages-1;return{canGotoFirst:!t&&0!=n.pageSize&&n.pageNum>0,canGotoLast:!t&&0!=n.pageSize&&n.pageNum!=o,canGotoPrev:!t&&0!=n.pageSize&&n.pageNum>0,canGotoNext:!t&&0!=n.pageSize&&n.pageNum<o,pagingInfo:n}}function s(t){e.setRefreshHints({isFilterUnchanged:!0}),e.setPagingOptions({pageSize:t})}function a(){r().canGotoFirst&&e.setPagingOptions({pageNum:0})}function l(){var t=r();t.canGotoLast&&e.setPagingOptions({pageNum:t.pagingInfo.totalPages-1})}function c(){var t=r();t.canGotoPrev&&e.setPagingOptions({pageNum:t.pagingInfo.pageNum-1})}function u(){var t=r();t.canGotoNext&&e.setPagingOptions({pageNum:t.pagingInfo.pageNum+1})}function d(){o.empty();var e=t("<span class='slick-pager-nav' />").appendTo(o),i=t("<span class='slick-pager-settings' />").appendTo(o);p=t("<span class='slick-pager-status' />").appendTo(o),i.append("<span class='slick-pager-settings-expanded' style='display:none'>Show: <a data=0>All</a><a data='-1'>Auto</a><a data=25>25</a><a data=50>50</a><a data=100>100</a></span>"),i.find("a[data]").click(function(e){var o=t(e.target).attr("data");if(void 0!=o)if(-1==o){var i=n.getViewport();s(i.bottom-i.top)}else s(parseInt(o))});var r="<span class='ui-state-default ui-corner-all ui-icon-container'><span class='ui-icon ",d="' /></span>";t(r+"ui-icon-lightbulb"+d).click(function(){t(".slick-pager-settings-expanded").toggle()}).appendTo(i),t(r+"ui-icon-seek-first"+d).click(a).appendTo(e),t(r+"ui-icon-seek-prev"+d).click(c).appendTo(e),t(r+"ui-icon-seek-next"+d).click(u).appendTo(e),t(r+"ui-icon-seek-end"+d).click(l).appendTo(e),o.find(".ui-icon-container").hover(function(){t(this).toggleClass("ui-state-hover")}),o.children().wrapAll("<div class='slick-pager' />")}function h(t){var e=r();o.find(".slick-pager-nav span").removeClass("ui-state-disabled"),e.canGotoFirst||o.find(".ui-icon-seek-first").addClass("ui-state-disabled"),e.canGotoLast||o.find(".ui-icon-seek-end").addClass("ui-state-disabled"),e.canGotoNext||o.find(".ui-icon-seek-next").addClass("ui-state-disabled"),e.canGotoPrev||o.find(".ui-icon-seek-prev").addClass("ui-state-disabled"),p.text(0==t.pageSize?"Showing all "+t.totalRows+" rows":"Showing page "+(t.pageNum+1)+" of "+t.totalPages)}var p;i()}t.extend(!0,window,{Slick:{Controls:{Pager:e}}})}(jQuery),function(t){function e(e,n,o){function i(){n.onHeaderContextMenu.subscribe(r),n.onColumnsReordered.subscribe(s),o=t.extend({},d,o),c=t("<span class='slick-columnpicker' style='display:none;position:absolute;z-index:20;' />").appendTo(document.body),c.bind("mouseleave",function(){t(this).fadeOut(o.fadeSpeed)}),c.bind("click",a)}function r(i){i.preventDefault(),c.empty(),s(),u=[];for(var r,a,l=0;l<e.length;l++)r=t("<li />").appendTo(c),a=t("<input type='checkbox' />").data("column-id",e[l].id),u.push(a),null!=n.getColumnIndex(e[l].id)&&a.attr("checked","checked"),t("<label />").text(e[l].name).prepend(a).appendTo(r);t("<hr/>").appendTo(c),r=t("<li />").appendTo(c),a=t("<input type='checkbox' />").data("option","autoresize"),t("<label />").text("Force fit columns").prepend(a).appendTo(r),n.getOptions().forceFitColumns&&a.attr("checked","checked"),r=t("<li />").appendTo(c),a=t("<input type='checkbox' />").data("option","syncresize"),t("<label />").text("Synchronous resize").prepend(a).appendTo(r),n.getOptions().syncColumnCellResize&&a.attr("checked","checked"),c.css("top",i.pageY-10).css("left",i.pageX-10).fadeIn(o.fadeSpeed)}function s(){for(var t=n.getColumns().slice(0),o=new Array(e.length),i=0;i<o.length;i++)o[i]=void 0===n.getColumnIndex(e[i].id)?e[i]:t.shift();e=o}function a(o){if("autoresize"==t(o.target).data("option"))return void(o.target.checked?(n.setOptions({forceFitColumns:!0}),n.autosizeColumns()):n.setOptions({forceFitColumns:!1}));if("syncresize"==t(o.target).data("option"))return void n.setOptions(o.target.checked?{syncColumnCellResize:!0}:{syncColumnCellResize:!1});if(t(o.target).is(":checkbox")){var i=[];if(t.each(u,function(n){t(this).is(":checked")&&i.push(e[n])}),!i.length)return void t(o.target).attr("checked","checked");n.setColumns(i)}}function l(){return e}var c,u,d={fadeSpeed:250};return i(),{getAllColumns:l}}t.extend(!0,window,{Slick:{Controls:{ColumnPicker:e}}})}(jQuery),/**
 * Version: 1.0 Alpha-1 
 * Build Date: 13-Nov-2007
 * Copyright (c) 2006-2007, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * License: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 * Website: http://www.datejs.com/ or http://www.coolite.com/datejs/
 */
Date.CultureInfo={name:"es-AR",englishName:"Spanish (Argentina)",nativeName:"Espa\xf1ol (Argentina)",dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],abbreviatedDayNames:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],shortestDayNames:["do","lu","ma","mi","ju","vi","s\xe1"],firstLetterDayNames:["d","l","m","m","j","v","s"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],abbreviatedMonthNames:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],amDesignator:"a.m.",pmDesignator:"p.m.",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"dmy",formatPatterns:{shortDate:"dd/MM/yyyy",longDate:"dddd, dd' de 'MMMM' de 'yyyy",shortTime:"hh:mm tt",longTime:"hh:mm:ss tt",fullDateTime:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"dd MMMM",yearMonth:"MMMM' de 'yyyy"},regexPatterns:{jan:/^ene(ro)?/i,feb:/^feb(rero)?/i,mar:/^mar(zo)?/i,apr:/^abr(il)?/i,may:/^may(o)?/i,jun:/^jun(io)?/i,jul:/^jul(io)?/i,aug:/^ago(sto)?/i,sep:/^sep(tiembre)?/i,oct:/^oct(ubre)?/i,nov:/^nov(iembre)?/i,dec:/^dic(iembre)?/i,sun:/^do(m(ingo)?)?/i,mon:/^lu(n(es)?)?/i,tue:/^ma(r(tes)?)?/i,wed:/^mi(\xe9(rcoles)?)?/i,thu:/^ju(e(ves)?)?/i,fri:/^vi(e(rnes)?)?/i,sat:/^s\xe1(b(ado)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(t){for(var e=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,o=t.toLowerCase(),i=0;i<e.length;i++)if(e[i].toLowerCase()==o||n[i].toLowerCase()==o)return i;return-1},Date.getDayNumberFromName=function(t){for(var e=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,o=(Date.CultureInfo.shortestDayNames,t.toLowerCase()),i=0;i<e.length;i++)if(e[i].toLowerCase()==o||n[i].toLowerCase()==o)return i;return-1},Date.isLeapYear=function(t){return t%4===0&&t%100!==0||t%400===0},Date.getDaysInMonth=function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},Date.getTimezoneOffset=function(t,e){return e?Date.CultureInfo.abbreviatedTimeZoneDST[t.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[t.toUpperCase()]},Date.getTimezoneAbbreviation=function(t,e){var n,o=e?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(n in o)if(o[n]===t)return n;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(t){if(isNaN(this))throw new Error(this);if(t instanceof Date&&!isNaN(t))return this>t?1:t>this?-1:0;throw new TypeError(t)},Date.prototype.equals=function(t){return 0===this.compareTo(t)},Date.prototype.between=function(t,e){var n=this.getTime();return n>=t.getTime()&&n<=e.getTime()},Date.prototype.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},Date.prototype.addSeconds=function(t){return this.addMilliseconds(1e3*t)},Date.prototype.addMinutes=function(t){return this.addMilliseconds(6e4*t)},Date.prototype.addHours=function(t){return this.addMilliseconds(36e5*t)},Date.prototype.addDays=function(t){return this.addMilliseconds(864e5*t)},Date.prototype.addWeeks=function(t){return this.addMilliseconds(6048e5*t)},Date.prototype.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this},Date.prototype.addYears=function(t){return this.addMonths(12*t)},Date.prototype.add=function(t){if("number"==typeof t)return this._orient=t,this;var e=t;return(e.millisecond||e.milliseconds)&&this.addMilliseconds(e.millisecond||e.milliseconds),(e.second||e.seconds)&&this.addSeconds(e.second||e.seconds),(e.minute||e.minutes)&&this.addMinutes(e.minute||e.minutes),(e.hour||e.hours)&&this.addHours(e.hour||e.hours),(e.month||e.months)&&this.addMonths(e.month||e.months),(e.year||e.years)&&this.addYears(e.year||e.years),(e.day||e.days)&&this.addDays(e.day||e.days),this},Date._validate=function(t,e,n,o){if("number"!=typeof t)throw new TypeError(t+" is not a Number.");if(e>t||t>n)throw new RangeError(t+" is not a valid value for "+o+".");return!0},Date.validateMillisecond=function(t){return Date._validate(t,0,999,"milliseconds")},Date.validateSecond=function(t){return Date._validate(t,0,59,"seconds")},Date.validateMinute=function(t){return Date._validate(t,0,59,"minutes")},Date.validateHour=function(t){return Date._validate(t,0,23,"hours")},Date.validateDay=function(t,e,n){return Date._validate(t,1,Date.getDaysInMonth(e,n),"days")},Date.validateMonth=function(t){return Date._validate(t,0,11,"months")},Date.validateYear=function(t){return Date._validate(t,1,9999,"seconds")},Date.prototype.set=function(t){var e=t;return e.millisecond||0===e.millisecond||(e.millisecond=-1),e.second||0===e.second||(e.second=-1),e.minute||0===e.minute||(e.minute=-1),e.hour||0===e.hour||(e.hour=-1),e.day||0===e.day||(e.day=-1),e.month||0===e.month||(e.month=-1),e.year||0===e.year||(e.year=-1),-1!=e.millisecond&&Date.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds()),-1!=e.second&&Date.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds()),-1!=e.minute&&Date.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes()),-1!=e.hour&&Date.validateHour(e.hour)&&this.addHours(e.hour-this.getHours()),-1!==e.month&&Date.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth()),-1!=e.year&&Date.validateYear(e.year)&&this.addYears(e.year-this.getFullYear()),-1!=e.day&&Date.validateDay(e.day,this.getFullYear(),this.getMonth())&&this.addDays(e.day-this.getDate()),e.timezone&&this.setTimezone(e.timezone),e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return t%4===0&&t%100!==0||t%400===0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(t,e){var n=(t-this.getDay()+7*(e||1))%7;return this.addDays(0===n?n+=7*(e||1):n)},Date.prototype.moveToMonth=function(t,e){var n=(t-this.getMonth()+12*(e||1))%12;return this.addMonths(0===n?n+=12*(e||1):n)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(t){var e=this.getFullYear(),n=this.getMonth(),o=this.getDate(),i=t||Date.CultureInfo.firstDayOfWeek,r=8-new Date(e,0,1).getDay();8==r&&(r=1);var s=(Date.UTC(e,n,o,0,0,0)-Date.UTC(e,0,1,0,0,0))/864e5+1,a=Math.floor((s-r+7)/7);if(a===i){e--;var l=8-new Date(e,0,1).getDay();a=2==l||8==l?53:52}return a},Date.prototype.isDST=function(){return console.log("isDST"),"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(t){var e=this.getTimezoneOffset(),n=-6*Number(t)/10;return this.addMinutes(n-e),this},Date.prototype.setTimezone=function(t){return this.setTimezoneOffset(Date.getTimezoneOffset(t))},Date.prototype.getUTCOffset=function(){var t,e=-10*this.getTimezoneOffset()/6;return 0>e?(t=(e-1e4).toString(),t[0]+t.substr(2)):(t=(e+1e4).toString(),"+"+t.substr(1))},Date.prototype.getDayName=function(t){return t?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(t){return t?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(t){var e=this,n=function(t){return 1==t.toString().length?"0"+t:t};return t?t.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(t){switch(t){case"hh":return n(e.getHours()<13?e.getHours():e.getHours()-12);case"h":return e.getHours()<13?e.getHours():e.getHours()-12;case"HH":return n(e.getHours());case"H":return e.getHours();case"mm":return n(e.getMinutes());case"m":return e.getMinutes();case"ss":return n(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return e.getFullYear();case"yy":return e.getFullYear().toString().substring(2,4);case"dddd":return e.getDayName();case"ddd":return e.getDayName(!0);case"dd":return n(e.getDate());case"d":return e.getDate().toString();case"MMMM":return e.getMonthName();case"MMM":return e.getMonthName(!0);case"MM":return n(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return e.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return e.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var t={};return t[this._dateElement]=this,Date.now().add(t)},Number.prototype.ago=function(){var t={};return t[this._dateElement]=-1*this,Date.now().add(t)},function(){for(var t,e=Date.prototype,n=Number.prototype,o="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),i="january february march april may june july august september october november december".split(/\s/),r="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),s=function(t){return function(){return this._is?(this._is=!1,this.getDay()==t):this.moveToDayOfWeek(t,this._orient)}},a=0;a<o.length;a++)e[o[a]]=e[o[a].substring(0,3)]=s(a);for(var l=function(t){return function(){return this._is?(this._is=!1,this.getMonth()===t):this.moveToMonth(t,this._orient)}},c=0;c<i.length;c++)e[i[c]]=e[i[c].substring(0,3)]=l(c);for(var u=function(t){return function(){return"s"!=t.substring(t.length-1)&&(t+="s"),this["add"+t](this._orient)}},d=function(t){return function(){return this._dateElement=t,this}},h=0;h<r.length;h++)t=r[h].toLowerCase(),e[t]=e[t+"s"]=u(r[h]),n[t]=n[t+"s"]=d(t)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(t){this.message="Parse error at '"+t.substring(0,10)+" ...'"}};for(var t=Date.Parsing,e=t.Operators={rtoken:function(e){return function(n){var o=n.match(e);if(o)return[o[0],n.substring(o[0].length)];throw new t.Exception(n)}},token:function(){return function(t){return e.rtoken(new RegExp("^s*"+t+"s*"))(t)}},stoken:function(t){return e.rtoken(new RegExp("^"+t))},until:function(t){return function(e){for(var n=[],o=null;e.length;){try{o=t.call(this,e)}catch(i){n.push(o[0]),e=o[1];continue}break}return[n,e]}},many:function(t){return function(e){for(var n=[],o=null;e.length;){try{o=t.call(this,e)}catch(i){return[n,e]}n.push(o[0]),e=o[1]}return[n,e]}},optional:function(t){return function(e){var n=null;try{n=t.call(this,e)}catch(o){return[null,e]}return[n[0],n[1]]}},not:function(e){return function(n){try{e.call(this,n)}catch(o){return[null,n]}throw new t.Exception(n)}},ignore:function(t){return t?function(e){var n=null;return n=t.call(this,e),[null,n[1]]}:null},product:function(){for(var t=arguments[0],n=Array.prototype.slice.call(arguments,1),o=[],i=0;i<t.length;i++)o.push(e.each(t[i],n));return o},cache:function(e){var n={},o=null;return function(i){try{o=n[i]=n[i]||e.call(this,i)}catch(r){o=n[i]=r}if(o instanceof t.Exception)throw o;return o}},any:function(){var e=arguments;return function(n){for(var o=null,i=0;i<e.length;i++)if(null!=e[i]){try{o=e[i].call(this,n)}catch(r){o=null}if(o)return o}throw new t.Exception(n)}},each:function(){var e=arguments;return function(n){for(var o=[],i=null,r=0;r<e.length;r++)if(null!=e[r]){try{i=e[r].call(this,n)}catch(s){throw new t.Exception(n)}o.push(i[0]),n=i[1]}return[o,n]}},all:function(){var t=arguments,e=e;return e.each(e.optional(t))},sequence:function(n,o,i){return o=o||e.rtoken(/^\s*/),i=i||null,1==n.length?n[0]:function(e){for(var r=null,s=null,a=[],l=0;l<n.length;l++){try{r=n[l].call(this,e)}catch(c){break}a.push(r[0]);try{s=o.call(this,r[1])}catch(u){s=null;break}e=s[1]}if(!r)throw new t.Exception(e);if(s)throw new t.Exception(s[1]);if(i)try{r=i.call(this,r[1])}catch(d){throw new t.Exception(r[1])}return[a,r?r[1]:e]}},between:function(t,n,o){o=o||t;var i=e.each(e.ignore(t),n,e.ignore(o));return function(t){var e=i.call(this,t);return[[e[0][0],r[0][2]],e[1]]}},list:function(t,n,o){return n=n||e.rtoken(/^\s*/),o=o||null,t instanceof Array?e.each(e.product(t.slice(0,-1),e.ignore(n)),t.slice(-1),e.ignore(o)):e.each(e.many(e.each(t,e.ignore(n))),px,e.ignore(o))},set:function(n,o,i){return o=o||e.rtoken(/^\s*/),i=i||null,function(r){for(var s=null,a=null,l=null,c=null,u=[[],r],d=!1,h=0;h<n.length;h++){l=null,a=null,s=null,d=1==n.length;try{s=n[h].call(this,r)}catch(p){continue}if(c=[[s[0]],s[1]],s[1].length>0&&!d)try{l=o.call(this,s[1])}catch(f){d=!0}else d=!0;if(d||0!==l[1].length||(d=!0),!d){for(var m=[],g=0;g<n.length;g++)h!=g&&m.push(n[g]);a=e.set(m,o).call(this,l[1]),a[0].length>0&&(c[0]=c[0].concat(a[0]),c[1]=a[1])}if(c[1].length<u[1].length&&(u=c),0===u[1].length)break}if(0===u[0].length)return u;if(i){try{l=i.call(this,u[1])}catch(v){throw new t.Exception(u[1])}u[1]=l[1]}return u}},forward:function(t,e){return function(n){return t[e].call(this,n)}},replace:function(t,e){return function(n){var o=t.call(this,n);return[e,o[1]]}},process:function(t,e){return function(n){var o=t.call(this,n);return[e.call(this,o[0]),o[1]]}},min:function(e,n){return function(o){var i=n.call(this,o);if(i[0].length<e)throw new t.Exception(o);return i}}},n=function(t){return function(){var e=null,n=[];if(arguments.length>1?e=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(e=arguments[0]),!e)return t.apply(null,arguments);for(var o=0,i=e.shift();o<i.length;o++)return e.unshift(i[o]),n.push(t.apply(null,e)),e.shift(),n}},o="optional not ignore cache".split(/\s/),i=0;i<o.length;i++)e[o[i]]=n(e[o[i]]);for(var s=function(t){return function(){return arguments[0]instanceof Array?t.apply(null,arguments[0]):t.apply(null,arguments)}},a="each any all".split(/\s/),l=0;l<a.length;l++)e[a[l]]=s(e[a[l]])}(),function(){var t=function(e){for(var n=[],o=0;o<e.length;o++)e[o]instanceof Array?n=n.concat(t(e[o])):e[o]&&n.push(e[o]);return n};Date.Grammar={},Date.Translator={hour:function(t){return function(){this.hour=Number(t)}},minute:function(t){return function(){this.minute=Number(t)}},second:function(t){return function(){this.second=Number(t)}},meridian:function(t){return function(){this.meridian=t.slice(0,1).toLowerCase()}},timezone:function(t){return function(){var e=t.replace(/[^\d\+\-]/g,"");e.length?this.timezoneOffset=Number(e):this.timezone=t.toLowerCase()}},day:function(t){var e=t[0];return function(){this.day=Number(e.match(/\d+/)[0])}},month:function(t){return function(){this.month=3==t.length?Date.getMonthNumberFromName(t):Number(t)-1}},year:function(t){return function(){var e=Number(t);this.year=t.length>2?e:e+(e+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(t){return function(){switch(t){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];var e=new Date;this.year=e.getFullYear(),this.month=e.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var n=0;n<t.length;n++)t[n]&&t[n].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var o=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?o.set({timezone:this.timezone}):this.timezoneOffset&&o.set({timezoneOffset:this.timezoneOffset}),o},finish:function(e){if(e=e instanceof Array?t(e):[e],0===e.length)return null;for(var n=0;n<e.length;n++)"function"==typeof e[n]&&e[n].call(this);if(this.now)return new Date;var o=Date.today(),i=!(null==this.days&&!this.orient&&!this.operator);if(i){var r,s,a;return a="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",r=Date.getDayNumberFromName(this.weekday)-o.getDay(),s=7,this.days=r?(r+a*s)%s:a*s),this.month&&(this.unit="month",r=this.month-o.getMonth(),s=12,this.months=r?(r+a*s)%s:a*s,this.month=null),this.unit||(this.unit="day"),(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*a),o.add(this)}return this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=o.addDays(Date.getDayNumberFromName(this.weekday)-o.getDay()).getDate()),this.month&&!this.day&&(this.day=1),o.set(this)}};var e,n=Date.Parsing.Operators,o=Date.Grammar,i=Date.Translator;o.datePartDelimiter=n.rtoken(/^([\s\-\.\,\/\x27]+)/),o.timePartDelimiter=n.stoken(":"),o.whiteSpace=n.rtoken(/^\s*/),o.generalDelimiter=n.rtoken(/^(([\s\,]|at|on)+)/);var r={};o.ctoken=function(t){var e=r[t];if(!e){for(var o=Date.CultureInfo.regexPatterns,i=t.split(/\s+/),s=[],a=0;a<i.length;a++)s.push(n.replace(n.rtoken(o[i[a]]),i[a]));e=r[t]=n.any.apply(null,s)}return e},o.ctoken2=function(t){return n.rtoken(Date.CultureInfo.regexPatterns[t])},o.h=n.cache(n.process(n.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),i.hour)),o.hh=n.cache(n.process(n.rtoken(/^(0[0-9]|1[0-2])/),i.hour)),o.H=n.cache(n.process(n.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),i.hour)),o.HH=n.cache(n.process(n.rtoken(/^([0-1][0-9]|2[0-3])/),i.hour)),o.m=n.cache(n.process(n.rtoken(/^([0-5][0-9]|[0-9])/),i.minute)),o.mm=n.cache(n.process(n.rtoken(/^[0-5][0-9]/),i.minute)),o.s=n.cache(n.process(n.rtoken(/^([0-5][0-9]|[0-9])/),i.second)),o.ss=n.cache(n.process(n.rtoken(/^[0-5][0-9]/),i.second)),o.hms=n.cache(n.sequence([o.H,o.mm,o.ss],o.timePartDelimiter)),o.t=n.cache(n.process(o.ctoken2("shortMeridian"),i.meridian)),o.tt=n.cache(n.process(o.ctoken2("longMeridian"),i.meridian)),o.z=n.cache(n.process(n.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),i.timezone)),o.zz=n.cache(n.process(n.rtoken(/^(\+|\-)\s*\d\d\d\d/),i.timezone)),o.zzz=n.cache(n.process(o.ctoken2("timezone"),i.timezone)),o.timeSuffix=n.each(n.ignore(o.whiteSpace),n.set([o.tt,o.zzz])),o.time=n.each(n.optional(n.ignore(n.stoken("T"))),o.hms,o.timeSuffix),o.d=n.cache(n.process(n.each(n.rtoken(/^([0-2]\d|3[0-1]|\d)/),n.optional(o.ctoken2("ordinalSuffix"))),i.day)),o.dd=n.cache(n.process(n.each(n.rtoken(/^([0-2]\d|3[0-1])/),n.optional(o.ctoken2("ordinalSuffix"))),i.day)),o.ddd=o.dddd=n.cache(n.process(o.ctoken("sun mon tue wed thu fri sat"),function(t){return function(){this.weekday=t}})),o.M=n.cache(n.process(n.rtoken(/^(1[0-2]|0\d|\d)/),i.month)),o.MM=n.cache(n.process(n.rtoken(/^(1[0-2]|0\d)/),i.month)),o.MMM=o.MMMM=n.cache(n.process(o.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),i.month)),o.y=n.cache(n.process(n.rtoken(/^(\d\d?)/),i.year)),o.yy=n.cache(n.process(n.rtoken(/^(\d\d)/),i.year)),o.yyy=n.cache(n.process(n.rtoken(/^(\d\d?\d?\d?)/),i.year)),o.yyyy=n.cache(n.process(n.rtoken(/^(\d\d\d\d)/),i.year)),e=function(){return n.each(n.any.apply(null,arguments),n.not(o.ctoken2("timeContext")))},o.day=e(o.d,o.dd),o.month=e(o.M,o.MMM),o.year=e(o.yyyy,o.yy),o.orientation=n.process(o.ctoken("past future"),function(t){return function(){this.orient=t}}),o.operator=n.process(o.ctoken("add subtract"),function(t){return function(){this.operator=t}}),o.rday=n.process(o.ctoken("yesterday tomorrow today now"),i.rday),o.unit=n.process(o.ctoken("minute hour day week month year"),function(t){return function(){this.unit=t}}),o.value=n.process(n.rtoken(/^\d\d?(st|nd|rd|th)?/),function(t){return function(){this.value=t.replace(/\D/g,"")}}),o.expression=n.set([o.rday,o.operator,o.value,o.unit,o.orientation,o.ddd,o.MMM]),e=function(){return n.set(arguments,o.datePartDelimiter)},o.mdy=e(o.ddd,o.month,o.day,o.year),o.ymd=e(o.ddd,o.year,o.month,o.day),o.dmy=e(o.ddd,o.day,o.month,o.year),o.date=function(t){return(o[Date.CultureInfo.dateElementOrder]||o.mdy).call(this,t)},o.format=n.process(n.many(n.any(n.process(n.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(o[t])return o[t];throw Date.Parsing.Exception(t)}),n.process(n.rtoken(/^[^dMyhHmstz]+/),function(t){return n.ignore(n.stoken(t))}))),function(t){return n.process(n.each.apply(null,t),i.finishExact)});var s={},a=function(t){return s[t]=s[t]||o.format(t)[0]};o.formats=function(t){if(t instanceof Array){for(var e=[],o=0;o<t.length;o++)e.push(a(t[o]));return n.any.apply(null,e)}return a(t)},o._formats=o.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),o._start=n.process(n.set([o.date,o.time,o.expression],o.generalDelimiter,o.whiteSpace),i.finish),o.start=function(t){try{var e=o._formats.call({},t);if(0===e[1].length)return e}catch(n){}return o._start.call({},t)}}(),Date._parse=Date.parse,Date.parse=function(t){var e=null;if(!t)return null;try{e=Date.Grammar.start.call({},t)}catch(n){return null}return 0===e[1].length?e[0]:null},Date.getParseFunction=function(t){var e=Date.Grammar.formats(t);return function(t){var n=null;try{n=e.call({},t)}catch(o){return null}return 0===n[1].length?n[0]:null}},Date.parseExact=function(t,e){return Date.getParseFunction(e)(t)},function(){var t=this,e=t._,n={},o=Array.prototype,i=Object.prototype,r=Function.prototype,s=o.slice,a=o.unshift,l=i.toString,c=i.hasOwnProperty,u=o.forEach,d=o.map,h=o.reduce,p=o.reduceRight,f=o.filter,m=o.every,g=o.some,v=o.indexOf,y=o.lastIndexOf,w=Array.isArray,b=Object.keys,C=r.bind,_=function(t){return new $(t)};"undefined"!=typeof module&&module.exports?(module.exports=_,_._=_):t._=_,_.VERSION="1.1.6";var x=_.each=_.forEach=function(t,e,o){if(null!=t)if(u&&t.forEach===u)t.forEach(e,o);else if(_.isNumber(t.length)){for(var i=0,r=t.length;r>i;i++)if(e.call(o,t[i],i,t)===n)return}else for(var s in t)if(c.call(t,s)&&e.call(o,t[s],s,t)===n)return};_.map=function(t,e,n){var o=[];return null==t?o:d&&t.map===d?t.map(e,n):(x(t,function(t,i,r){o[o.length]=e.call(n,t,i,r)}),o)},_.reduce=_.foldl=_.inject=function(t,e,n,o){var i=void 0!==n;if(null==t&&(t=[]),h&&t.reduce===h)return o&&(e=_.bind(e,o)),i?t.reduce(e,n):t.reduce(e);if(x(t,function(t,r,s){i||0!==r?n=e.call(o,n,t,r,s):(n=t,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},_.reduceRight=_.foldr=function(t,e,n,o){if(null==t&&(t=[]),p&&t.reduceRight===p)return o&&(e=_.bind(e,o)),void 0!==n?t.reduceRight(e,n):t.reduceRight(e);var i=(_.isArray(t)?t.slice():_.toArray(t)).reverse();return _.reduce(i,e,n,o)},_.find=_.detect=function(t,e,n){var o;return k(t,function(t,i,r){return e.call(n,t,i,r)?(o=t,!0):void 0}),o},_.filter=_.select=function(t,e,n){var o=[];return null==t?o:f&&t.filter===f?t.filter(e,n):(x(t,function(t,i,r){e.call(n,t,i,r)&&(o[o.length]=t)}),o)},_.reject=function(t,e,n){var o=[];return null==t?o:(x(t,function(t,i,r){e.call(n,t,i,r)||(o[o.length]=t)}),o)},_.every=_.all=function(t,e,o){var i=!0;return null==t?i:m&&t.every===m?t.every(e,o):(x(t,function(t,r,s){return(i=i&&e.call(o,t,r,s))?void 0:n}),i)};var k=_.some=_.any=function(t,e,o){e||(e=_.identity);var i=!1;return null==t?i:g&&t.some===g?t.some(e,o):(x(t,function(t,r,s){return(i=e.call(o,t,r,s))?n:void 0}),i)};_.include=_.contains=function(t,e){var n=!1;return null==t?n:v&&t.indexOf===v?-1!=t.indexOf(e):(k(t,function(t){return(n=t===e)?!0:void 0}),n)},_.invoke=function(t,e){var n=s.call(arguments,2);return _.map(t,function(t){return(e.call?e||t:t[e]).apply(t,n)})},_.pluck=function(t,e){return _.map(t,function(t){return t[e]})},_.max=function(t,e,n){if(!e&&_.isArray(t))return Math.max.apply(Math,t);var o={computed:-1/0};return x(t,function(t,i,r){var s=e?e.call(n,t,i,r):t;s>=o.computed&&(o={value:t,computed:s})}),o.value},_.min=function(t,e,n){if(!e&&_.isArray(t))return Math.min.apply(Math,t);var o={computed:1/0};return x(t,function(t,i,r){var s=e?e.call(n,t,i,r):t;s<o.computed&&(o={value:t,computed:s})}),o.value},_.sortBy=function(t,e,n){return _.pluck(_.map(t,function(t,o,i){return{value:t,criteria:e.call(n,t,o,i)}}).sort(function(t,e){var n=t.criteria,o=e.criteria;return o>n?-1:n>o?1:0}),"value")},_.sortedIndex=function(t,e,n){n||(n=_.identity);for(var o=0,i=t.length;i>o;){var r=o+i>>1;n(t[r])<n(e)?o=r+1:i=r}return o},_.toArray=function(t){return t?t.toArray?t.toArray():_.isArray(t)?t:_.isArguments(t)?s.call(t):_.values(t):[]},_.size=function(t){return _.toArray(t).length},_.first=_.head=function(t,e,n){return null==e||n?t[0]:s.call(t,0,e)},_.rest=_.tail=function(t,e,n){return s.call(t,null==e||n?1:e)},_.last=function(t){return t[t.length-1]},_.compact=function(t){return _.filter(t,function(t){return!!t})},_.flatten=function(t){return _.reduce(t,function(t,e){return _.isArray(e)?t.concat(_.flatten(e)):(t[t.length]=e,t)},[])},_.without=function(t){var e=s.call(arguments,1);return _.filter(t,function(t){return!_.include(e,t)})},_.uniq=_.unique=function(t,e){return _.reduce(t,function(t,n,o){return 0!=o&&(e===!0?_.last(t)==n:_.include(t,n))||(t[t.length]=n),t},[])},_.intersect=function(t){var e=s.call(arguments,1);return _.filter(_.uniq(t),function(t){return _.every(e,function(e){return _.indexOf(e,t)>=0})})},_.zip=function(){for(var t=s.call(arguments),e=_.max(_.pluck(t,"length")),n=new Array(e),o=0;e>o;o++)n[o]=_.pluck(t,""+o);return n},_.indexOf=function(t,e,n){if(null==t)return-1;var o,i;if(n)return o=_.sortedIndex(t,e),t[o]===e?o:-1;if(v&&t.indexOf===v)return t.indexOf(e);for(o=0,i=t.length;i>o;o++)if(t[o]===e)return o;return-1},_.lastIndexOf=function(t,e){if(null==t)return-1;if(y&&t.lastIndexOf===y)return t.lastIndexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1},_.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var o=Math.max(Math.ceil((e-t)/n),0),i=0,r=new Array(o);o>i;)r[i++]=t,t+=n;return r},_.bind=function(t,e){if(t.bind===C&&C)return C.apply(t,s.call(arguments,1));var n=s.call(arguments,2);return function(){return t.apply(e,n.concat(s.call(arguments)))}},_.bindAll=function(t){var e=s.call(arguments,1);return 0==e.length&&(e=_.functions(t)),x(e,function(e){t[e]=_.bind(t[e],t)}),t},_.memoize=function(t,e){var n={};return e||(e=_.identity),function(){var o=e.apply(this,arguments);return c.call(n,o)?n[o]:n[o]=t.apply(this,arguments)}},_.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(t,n)},e)},_.defer=function(t){return _.delay.apply(_,[t,1].concat(s.call(arguments,1)))};var S=function(t,e,n){var o;return function(){var i=this,r=arguments,s=function(){o=null,t.apply(i,r)};n&&clearTimeout(o),(n||!o)&&(o=setTimeout(s,e))}};_.throttle=function(t,e){return S(t,e,!1)},_.debounce=function(t,e){return S(t,e,!0)},_.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}},_.wrap=function(t,e){return function(){var n=[t].concat(s.call(arguments));return e.apply(this,n)}},_.compose=function(){var t=s.call(arguments);return function(){for(var e=s.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},_.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},_.keys=b||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)c.call(t,n)&&(e[e.length]=n);return e},_.values=function(t){return _.map(t,_.identity)},_.functions=_.methods=function(t){return _.filter(_.keys(t),function(e){return _.isFunction(t[e])}).sort()},_.extend=function(t){return x(s.call(arguments,1),function(e){for(var n in e)void 0!==e[n]&&(t[n]=e[n])}),t},_.defaults=function(t){return x(s.call(arguments,1),function(e){for(var n in e)null==t[n]&&(t[n]=e[n])}),t},_.clone=function(t){return _.isArray(t)?t.slice():_.extend({},t)},_.tap=function(t,e){return e(t),t},_.isEqual=function(t,e){if(t===e)return!0;var n=typeof t,o=typeof e;if(n!=o)return!1;if(t==e)return!0;if(!t&&e||t&&!e)return!1;if(t._chain&&(t=t._wrapped),e._chain&&(e=e._wrapped),t.isEqual)return t.isEqual(e);if(_.isDate(t)&&_.isDate(e))return t.getTime()===e.getTime();if(_.isNaN(t)&&_.isNaN(e))return!1;if(_.isRegExp(t)&&_.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline;if("object"!==n)return!1;if(t.length&&t.length!==e.length)return!1;var i=_.keys(t),r=_.keys(e);if(i.length!=r.length)return!1;for(var s in t)if(!(s in e&&_.isEqual(t[s],e[s])))return!1;return!0},_.isEmpty=function(t){if(_.isArray(t)||_.isString(t))return 0===t.length;for(var e in t)if(c.call(t,e))return!1;return!0},_.isElement=function(t){return!(!t||1!=t.nodeType)},_.isArray=w||function(t){return"[object Array]"===l.call(t)},_.isArguments=function(t){return!(!t||!c.call(t,"callee"))},_.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_.isString=function(t){return!!(""===t||t&&t.charCodeAt&&t.substr)},_.isNumber=function(t){return!!(0===t||t&&t.toExponential&&t.toFixed)},_.isNaN=function(t){return t!==t},_.isBoolean=function(t){return t===!0||t===!1},_.isDate=function(t){return!!(t&&t.getTimezoneOffset&&t.setUTCFullYear)},_.isRegExp=function(t){return!(!(t&&t.test&&t.exec)||!t.ignoreCase&&t.ignoreCase!==!1)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.noConflict=function(){return t._=e,this},_.identity=function(t){return t},_.times=function(t,e,n){for(var o=0;t>o;o++)e.call(n,o)},_.mixin=function(t){x(_.functions(t),function(e){D(e,_[e]=t[e])})};var T=0;_.uniqueId=function(t){var e=T++;return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},_.template=function(t,e){var n=_.templateSettings,o="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(n.interpolate,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"}).replace(n.evaluate||null,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",o);return e?i(e):i};var $=function(t){this._wrapped=t};_.prototype=$.prototype;var E=function(t,e){return e?_(t).chain():t},D=function(t,e){$.prototype[t]=function(){var t=s.call(arguments);return a.call(t,this._wrapped),E(e.apply(_,t),this._chain)}};_.mixin(_),x(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];$.prototype[t]=function(){return e.apply(this._wrapped,arguments),E(this._wrapped,this._chain)}}),x(["concat","join","slice"],function(t){var e=o[t];$.prototype[t]=function(){return E(e.apply(this._wrapped,arguments),this._chain)}}),$.prototype.chain=function(){return this._chain=!0,this
},$.prototype.value=function(){return this._wrapped}}(),function(){var t,e=this,n=e.Backbone;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.5.0";var o=e._;o||"undefined"==typeof require||(o=require("underscore")._);var i=e.jQuery||e.Zepto;t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1,t.Events={bind:function(t,e){var n=this._callbacks||(this._callbacks={}),o=n[t]||(n[t]=[]);return o.push(e),this},unbind:function(t,e){var n;if(t){if(n=this._callbacks)if(e){var o=n[t];if(!o)return this;for(var i=0,r=o.length;r>i;i++)if(e===o[i]){o[i]=null;break}}else n[t]=[]}else this._callbacks={};return this},trigger:function(t){var e,n,o,i,r,s=2;if(!(n=this._callbacks))return this;for(;s--;)if(o=s?t:"all",e=n[o])for(var a=0,l=e.length;l>a;a++)(i=e[a])?(r=s?Array.prototype.slice.call(arguments,1):arguments,i.apply(this,r)):(e.splice(a,1),a--,l--);return this}},t.Model=function(t,e){var n;t||(t={}),(n=this.defaults)&&(o.isFunction(n)&&(n=n()),t=o.extend({},n,t)),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.set(t,{silent:!0}),this._changed=!1,this._previousAttributes=o.clone(this.attributes),e&&e.collection&&(this.collection=e.collection),this.initialize.apply(this,arguments)},o.extend(t.Model.prototype,t.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var n=this.attributes[t];return this._escapedAttributes[t]=_(null==n?"":""+n)},has:function(t){return null!=this.attributes[t]},set:function(t,e){if(e||(e={}),!t)return this;t.attributes&&(t=t.attributes);var n=this.attributes,i=this._escapedAttributes;if(!e.silent&&this.validate&&!this._performValidation(t,e))return!1;this.idAttribute in t&&(this.id=t[this.idAttribute]);var r=this._changing;this._changing=!0;for(var s in t){var a=t[s];o.isEqual(n[s],a)||(n[s]=a,delete i[s],this._changed=!0,e.silent||this.trigger("change:"+s,this,a,e))}return r||e.silent||!this._changed||this.change(e),this._changing=!1,this},unset:function(t,e){if(!(t in this.attributes))return this;e||(e={});var n=(this.attributes[t],{});return n[t]=void 0,e.silent||!this.validate||this._performValidation(n,e)?(delete this.attributes[t],delete this._escapedAttributes[t],t==this.idAttribute&&delete this.id,this._changed=!0,e.silent||(this.trigger("change:"+t,this,void 0,e),this.change(e)),this):!1},clear:function(t){t||(t={});var e,n=this.attributes,o={};for(e in n)o[e]=void 0;if(!t.silent&&this.validate&&!this._performValidation(o,t))return!1;if(this.attributes={},this._escapedAttributes={},this._changed=!0,!t.silent){for(e in n)this.trigger("change:"+e,this,void 0,t);this.change(t)}return this},fetch:function(e){e||(e={});var n=this,o=e.success;return e.success=function(t,i,r){return n.set(n.parse(t,r),e)?void(o&&o(n,t)):!1},e.error=C(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,n){if(n||(n={}),e&&!this.set(e,n))return!1;var o=this,i=n.success;n.success=function(t,e,r){return o.set(o.parse(t,r),n)?void(i&&i(o,t,r)):!1},n.error=C(n.error,o,n);var r=this.isNew()?"create":"update";return(this.sync||t.sync).call(this,r,this,n)},destroy:function(e){if(e||(e={}),this.isNew())return this.trigger("destroy",this,this.collection,e);var n=this,o=e.success;return e.success=function(t){n.trigger("destroy",n,n.collection,e),o&&o(n,t)},e.error=C(e.error,n,e),(this.sync||t.sync).call(this,"delete",this,e)},url:function(){var t=w(this.collection)||this.urlRoot||b();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this)},isNew:function(){return null==this.id},change:function(t){this.trigger("change",this,t),this._previousAttributes=o.clone(this.attributes),this._changed=!1},hasChanged:function(t){return t?this._previousAttributes[t]!=this.attributes[t]:this._changed},changedAttributes:function(t){t||(t=this.attributes);var e=this._previousAttributes,n=!1;for(var i in t)o.isEqual(e[i],t[i])||(n=n||{},n[i]=t[i]);return n},previous:function(t){return t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},_performValidation:function(t,e){var n=this.validate(t);return n?(e.error?e.error(this,n,e):this.trigger("error",this,n,e),!1):!0}}),t.Collection=function(t,e){e||(e={}),e.comparator&&(this.comparator=e.comparator),o.bindAll(this,"_onModelEvent","_removeReference"),this._reset(),t&&this.reset(t,{silent:!0}),this.initialize.apply(this,arguments)},o.extend(t.Collection.prototype,t.Events,{model:t.Model,initialize:function(){},toJSON:function(){return this.map(function(t){return t.toJSON()})},add:function(t,e){if(o.isArray(t))for(var n=0,i=t.length;i>n;n++)this._add(t[n],e);else this._add(t,e);return this},remove:function(t,e){if(o.isArray(t))for(var n=0,i=t.length;i>n;n++)this._remove(t[n],e);else this._remove(t,e);return this},get:function(t){return null==t?null:this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},sort:function(t){if(t||(t={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");return this.models=this.sortBy(this.comparator),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return o.map(this.models,function(e){return e.get(t)})},reset:function(t,e){return t||(t=[]),e||(e={}),this.each(this._removeReference),this._reset(),this.add(t,{silent:!0}),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e||(e={});var n=this,o=e.success;return e.success=function(t,i,r){n[e.add?"add":"reset"](n.parse(t,r),e),o&&o(n,t)},e.error=C(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var n=this;if(e||(e={}),t=this._prepareModel(t,e),!t)return!1;var o=e.success;return e.success=function(t,i,r){n.add(t,e),o&&o(t,i,r)},t.save(null,e),t},parse:function(t){return t},chain:function(){return o(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,n){if(e instanceof t.Model)e.collection||(e.collection=this);else{var o=e;e=new this.model(o,{collection:this}),e.validate&&!e._performValidation(o,n)&&(e=!1)}return e},_add:function(t,e){if(e||(e={}),t=this._prepareModel(t,e),!t)return!1;var n=this.getByCid(t)||this.get(t);if(n)throw new Error(["Can't add the same model to a set twice",n.id]);this._byId[t.id]=t,this._byCid[t.cid]=t;var o=null!=e.at?e.at:this.comparator?this.sortedIndex(t,this.comparator):this.length;return this.models.splice(o,0,t),t.bind("all",this._onModelEvent),this.length++,e.silent||t.trigger("add",t,this,e),t},_remove:function(t,e){return e||(e={}),(t=this.getByCid(t)||this.get(t))?(delete this._byId[t.id],delete this._byCid[t.cid],this.models.splice(this.indexOf(t),1),this.length--,e.silent||t.trigger("remove",t,this,e),this._removeReference(t),t):null},_removeReference:function(t){this==t.collection&&delete t.collection,t.unbind("all",this._onModelEvent)},_onModelEvent:function(t,e,n,o){("add"!=t&&"remove"!=t||n==this)&&("destroy"==t&&this._remove(e,o),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"];o.each(r,function(e){t.Collection.prototype[e]=function(){return o[e].apply(o,[this.models].concat(o.toArray(arguments)))}}),t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var s=/:([\w\d]+)/g,a=/\*([\w\d]+)/g,l=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(t.Router.prototype,t.Events,{initialize:function(){},route:function(e,n,i){t.history||(t.history=new t.History),o.isRegExp(e)||(e=this._routeToRegExp(e)),t.history.route(e,o.bind(function(t){var o=this._extractParameters(e,t);i.apply(this,o),this.trigger.apply(this,["route:"+n].concat(o))},this))},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var n=0,o=t.length;o>n;n++)this.route(t[n][0],t[n][1],this[t[n][1]])}},_routeToRegExp:function(t){return t=t.replace(l,"\\$&").replace(s,"([^/]*)").replace(a,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}}),t.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")};var c=/^#*!?/,u=/msie [\w.]+/,d=!1;o.extend(t.History.prototype,{interval:50,getFragment:function(t,e){if(null==t)if(this._hasPushState||e){t=window.location.pathname;var n=window.location.search;n&&(t+=n),0==t.indexOf(this.options.root)&&(t=t.substr(this.options.root.length))}else t=window.location.hash;return t.replace(c,"")},start:function(t){if(d)throw new Error("Backbone.history has already been started");this.options=o.extend({},{root:"/"},this.options,t),this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),n=document.documentMode,r=u.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);r&&(this.iframe=i('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?i(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!r?i(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval),this.fragment=e,d=!0;var s=this.loadUrl()||this.loadUrl(window.location.hash),a=window.location.pathname==this.options.root;if(!this._wantsPushState||this._hasPushState||a){if(!(this._wantsPushState&&this._hasPushState&&a&&window.location.hash))return s;this.navigate(window.location.hash)}else this.fragment=this.getFragment(null,!0),window.location=this.options.root+"#"+this.fragment},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.iframe.location.hash)),t==this.fragment||t==decodeURIComponent(this.fragment)?!1:(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(window.location.hash)))},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=o.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(t=(t||"").replace(c,""),this.fragment!=t&&this.fragment!=decodeURIComponent(t)){if(this._hasPushState){var n=window.location;0!=t.indexOf(this.options.root)&&(t=this.options.root+t),this.fragment=t,window.history.pushState({},document.title,n.protocol+"//"+n.host+t)}else window.location.hash=this.fragment=t,this.iframe&&t!=this.getFragment(this.iframe.location.hash)&&(this.iframe.document.open().close(),this.iframe.location.hash=t);e&&this.loadUrl(t)}}}),t.View=function(t){this.cid=o.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.delegateEvents(),this.initialize.apply(this,arguments)};var h=function(t){return i(t,this.el)},p=/^(\S+)\s*(.*)$/,f=["model","collection","el","id","attributes","className","tagName"];o.extend(t.View.prototype,t.Events,{tagName:"div",$:h,initialize:function(){},render:function(){return this},remove:function(){return i(this.el).remove(),this},make:function(t,e,n){var o=document.createElement(t);return e&&i(o).attr(e),n&&i(o).html(n),o},delegateEvents:function(t){if(t||(t=this.events)){i(this.el).unbind(".delegateEvents"+this.cid);for(var e in t){var n=this[t[e]];if(!n)throw new Error('Event "'+t[e]+'" does not exist');var r=e.match(p),s=r[1],a=r[2];n=o.bind(n,this),s+=".delegateEvents"+this.cid,""===a?i(this.el).bind(s,n):i(this.el).delegate(a,s,n)}}},_configure:function(t){this.options&&(t=o.extend({},this.options,t));for(var e=0,n=f.length;n>e;e++){var i=f[e];t[i]&&(this[i]=t[i])}this.options=t},_ensureElement:function(){if(this.el)o.isString(this.el)&&(this.el=i(this.el).get(0));else{var t=this.attributes||{};this.id&&(t.id=this.id),this.className&&(t["class"]=this.className),this.el=this.make(this.tagName,t)}}});var m=function(t,e){var n=y(this,t,e);return n.extend=this.extend,n};t.Model.extend=t.Collection.extend=t.Router.extend=t.View.extend=m;var g={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};t.sync=function(e,n,r){var s=g[e],a=o.extend({type:s,dataType:"json",processData:!1},r);return a.url||(a.url=w(n)||b()),a.data||!n||"create"!=e&&"update"!=e||(a.contentType="application/json",a.data=JSON.stringify(n.toJSON())),t.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.processData=!0,a.data=a.data?{model:a.data}:{}),t.emulateHTTP&&("PUT"===s||"DELETE"===s)&&(t.emulateJSON&&(a.data._method=s),a.type="POST",a.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",s)}),i.ajax(a)};var v=function(){},y=function(t,e,n){var i;return i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},o.extend(i,t),v.prototype=t.prototype,i.prototype=new v,e&&o.extend(i.prototype,e),n&&o.extend(i,n),i.prototype.constructor=i,i.__super__=t.prototype,i},w=function(t){return t&&t.url?o.isFunction(t.url)?t.url():t.url:null},b=function(){throw new Error('A "url" property or function must be specified')},C=function(t,e,n){return function(o){t?t(e,o,n):e.trigger("error",e,o,n)}},_=function(t){return t.replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")}}.call(this),function(){var t={create:"POST",update:"PUT","delete":"DELETE",read:"GET"},e=function(t){return t&&t.url?_.isFunction(t.url)?t.url():t.url:null},n=function(){throw new Error("A 'url' property or function must be specified")};Backbone.sync=function(o,i,r){var s=t[o],a=_.extend({type:s,dataType:"json",processData:!1,beforeSend:function(t){var e=$('meta[name="csrf-token"]').attr("content");e&&t.setRequestHeader("X-CSRF-Token",e)}},r);if(a.url||(a.url=e(i)||n()),!a.data&&i&&("create"==o||"update"==o)){a.contentType="application/json";var l={};i.paramRoot?l[i.paramRoot]=i.toJSON():l=i.toJSON(),a.data=JSON.stringify(l)}return $.ajax(a)}}.call(this),function(t){return t.extend(t.fn,{backboneLink:function(e){return t(this).find(":input").each(function(){var n,o;return n=t(this),o=n.attr("name"),e.bind("change:"+o,function(){return n.val(e.get(o))}),t(this).bind("change",function(){var o;return n=t(this),o={},o[n.attr("name")]=n.val(),e.set(o)})})}})}(jQuery),/*
  backgrid
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
function(t,e,n,o){"use strict";function i(t){return String.fromCharCode(t.charCodeAt(0)-32)+t.slice(1)}function r(t,e,n){var o=e-(t+"").length;o=0>o?0:o;for(var i="",r=0;o>r;r++)i+=n;return i+t}/*
  backgrid
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
var s="	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||s.trim()){s="["+s+"]";var a=new RegExp("^"+s+s+"*"),l=new RegExp(s+s+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(a,"").replace(l,"")}}var c=t.Backgrid={VERSION:"0.2.6",Extension:{},requireOptions:function(t,e){for(var o=0;o<e.length;o++){var i=e[o];if(n.isUndefined(t[i]))throw new TypeError("'"+i+"' is required")}},resolveNameToClass:function(t,e){if(n.isString(t)){var o=n.map(t.split("-"),function(t){return i(t)}).join("")+e,r=c[o]||c.Extension[o];if(n.isUndefined(r))throw new ReferenceError("Class '"+o+"' not found");return r}return t}};n.extend(c,o.Events);var u=c.Command=function(t){n.extend(this,{altKey:!!t.altKey,"char":t.char,charCode:t.charCode,ctrlKey:!!t.ctrlKey,key:t.key,keyCode:t.keyCode,locale:t.locale,location:t.location,metaKey:!!t.metaKey,repeat:!!t.repeat,shiftKey:!!t.shiftKey,which:t.which})};n.extend(u.prototype,{moveUp:function(){return 38==this.keyCode},moveDown:function(){return 40===this.keyCode},moveLeft:function(){return this.shiftKey&&9===this.keyCode},moveRight:function(){return!this.shiftKey&&9===this.keyCode},save:function(){return 13===this.keyCode},cancel:function(){return 27===this.keyCode},passThru:function(){return!(this.moveUp()||this.moveDown()||this.moveLeft()||this.moveRight()||this.save()||this.cancel())}});/*
  backgrid
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
var d=c.CellFormatter=function(){};n.extend(d.prototype,{fromRaw:function(t){return t},toRaw:function(t){return t}});var h=c.NumberFormatter=function(t){if(t=t?n.clone(t):{},n.extend(this,this.defaults,t),this.decimals<0||this.decimals>20)throw new RangeError("decimals must be between 0 and 20")};h.prototype=new d,n.extend(h.prototype,{defaults:{decimals:2,decimalSeparator:".",orderSeparator:","},HUMANIZED_NUM_RE:/(\d)(?=(?:\d{3})+$)/g,fromRaw:function(t){if(n.isNull(t)||n.isUndefined(t))return"";t=t.toFixed(~~this.decimals);var e=t.split("."),o=e[0],i=e[1]?(this.decimalSeparator||".")+e[1]:"";return o.replace(this.HUMANIZED_NUM_RE,"$1"+this.orderSeparator)+i},toRaw:function(t){for(var e="",o=t.trim().split(this.orderSeparator),i=0;i<o.length;i++)e+=o[i];var r=e.split(this.decimalSeparator);e="";for(var i=0;i<r.length;i++)e=e+r[i]+".";"."===e[e.length-1]&&(e=e.slice(0,e.length-1));var s=1*(1*e).toFixed(~~this.decimals);return n.isNumber(s)&&!n.isNaN(s)?s:void 0}});var p=c.DatetimeFormatter=function(t){if(t=t?n.clone(t):{},n.extend(this,this.defaults,t),!this.includeDate&&!this.includeTime)throw new Error("Either includeDate or includeTime must be true")};p.prototype=new d,n.extend(p.prototype,{defaults:{includeDate:!0,includeTime:!0,includeMilli:!1},DATE_RE:/^([+\-]?\d{4})-(\d{2})-(\d{2})$/,TIME_RE:/^(\d{2}):(\d{2}):(\d{2})(\.(\d{3}))?$/,ISO_SPLITTER_RE:/T|Z| +/,_convert:function(t,e){var o,i=null;if(n.isNumber(t)){var s=new Date(t);o=r(s.getUTCFullYear(),4,0)+"-"+r(s.getUTCMonth()+1,2,0)+"-"+r(s.getUTCDate(),2,0),i=r(s.getUTCHours(),2,0)+":"+r(s.getUTCMinutes(),2,0)+":"+r(s.getUTCSeconds(),2,0)}else{t=t.trim();var a=t.split(this.ISO_SPLITTER_RE)||[];o=this.DATE_RE.test(a[0])?a[0]:"",i=o&&a[1]?a[1]:this.TIME_RE.test(a[0])?a[0]:""}var l=this.DATE_RE.exec(o)||[],c=this.TIME_RE.exec(i)||[];if(e){if(this.includeDate&&n.isUndefined(l[0]))return;if(this.includeTime&&n.isUndefined(c[0]))return;if(!this.includeDate&&o)return;if(!this.includeTime&&i)return}var s=new Date(Date.UTC(1*l[1]||0,1*l[2]-1||0,1*l[3]||0,1*c[1]||null,1*c[2]||null,1*c[3]||null,1*c[5]||null)),u="";return this.includeDate&&(u=r(s.getUTCFullYear(),4,0)+"-"+r(s.getUTCMonth()+1,2,0)+"-"+r(s.getUTCDate(),2,0)),this.includeTime&&(u=u+(this.includeDate?"T":"")+r(s.getUTCHours(),2,0)+":"+r(s.getUTCMinutes(),2,0)+":"+r(s.getUTCSeconds(),2,0),this.includeMilli&&(u=u+"."+r(s.getUTCMilliseconds(),3,0))),this.includeDate&&this.includeTime&&(u+="Z"),u},fromRaw:function(t){return n.isNull(t)||n.isUndefined(t)?"":this._convert(t)},toRaw:function(t){return this._convert(t,!0)}});var f=c.StringFormatter=function(){};f.prototype=new d,n.extend(f.prototype,{fromRaw:function(t){return n.isUndefined(t)||n.isNull(t)?"":t+""}});var m=c.EmailFormatter=function(){};m.prototype=new d,n.extend(m.prototype,{toRaw:function(t){var e=t.trim().split("@");return 2===e.length&&n.all(e)?t:void 0}});var g=c.SelectFormatter=function(){};g.prototype=new d,n.extend(g.prototype,{fromRaw:function(t){return n.isArray(t)?t:null!=t?[t]:[]}});/*
  backgrid
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
{var v=c.CellEditor=o.View.extend({initialize:function(t){c.requireOptions(t,["formatter","column","model"]),this.formatter=t.formatter,this.column=t.column,this.column instanceof S||(this.column=new S(this.column)),this.listenTo(this.model,"backgrid:editing",this.postRender)},postRender:function(t,e){return(null==e||e.get("name")==this.column.get("name"))&&this.$el.focus(),this}}),y=c.InputCellEditor=v.extend({tagName:"input",attributes:{type:"text"},events:{blur:"saveOrCancel",keydown:"saveOrCancel"},initialize:function(t){v.prototype.initialize.apply(this,arguments),t.placeholder&&this.$el.attr("placeholder",t.placeholder)},render:function(){return this.$el.val(this.formatter.fromRaw(this.model.get(this.column.get("name")))),this},saveOrCancel:function(t){var e=this.formatter,o=this.model,i=this.column,r=new u(t),s="blur"===t.type;if(r.moveUp()||r.moveDown()||r.moveLeft()||r.moveRight()||r.save()||s){t.preventDefault(),t.stopPropagation();var a=this.$el.val(),l=e.toRaw(a);n.isUndefined(l)?o.trigger("backgrid:error",o,i,a):(o.set(i.get("name"),l),o.trigger("backgrid:edited",o,i,r))}else r.cancel()&&(t.stopPropagation(),o.trigger("backgrid:edited",o,i,r))},postRender:function(t,e){if(null==e||e.get("name")==this.column.get("name"))if("right"===this.$el.css("text-align")){var n=this.$el.val();this.$el.focus().val(null).val(n)}else this.$el.focus();return this}}),w=c.Cell=o.View.extend({tagName:"td",formatter:new d,editor:y,events:{click:"enterEditMode"},initialize:function(t){c.requireOptions(t,["model","column"]),this.column=t.column,this.column instanceof S||(this.column=new S(this.column)),this.formatter=c.resolveNameToClass(this.column.get("formatter")||this.formatter,"Formatter"),this.editor=c.resolveNameToClass(this.editor,"CellEditor"),this.listenTo(this.model,"change:"+this.column.get("name"),function(){this.$el.hasClass("editor")||this.render()}),this.listenTo(this.model,"backgrid:error",this.renderError)},render:function(){return this.$el.empty(),this.$el.text(this.formatter.fromRaw(this.model.get(this.column.get("name")))),this.delegateEvents(),this},enterEditMode:function(){var t=this.model,e=this.column;e.get("editable")&&(this.currentEditor=new this.editor({column:this.column,model:this.model,formatter:this.formatter}),t.trigger("backgrid:edit",t,e,this,this.currentEditor),this.undelegateEvents(),this.$el.empty(),this.$el.append(this.currentEditor.$el),this.currentEditor.render(),this.$el.addClass("editor"),t.trigger("backgrid:editing",t,e,this,this.currentEditor))},renderError:function(t,e){(null==e||e.get("name")==this.column.get("name"))&&this.$el.addClass("error")},exitEditMode:function(){this.$el.removeClass("error"),this.currentEditor.remove(),this.stopListening(this.currentEditor),delete this.currentEditor,this.$el.removeClass("editor"),this.render()},remove:function(){return this.currentEditor&&(this.currentEditor.remove.apply(this,arguments),delete this.currentEditor),o.View.prototype.remove.apply(this,arguments)}}),b=c.StringCell=w.extend({className:"string-cell",formatter:new f}),C=(c.UriCell=w.extend({className:"uri-cell",render:function(){this.$el.empty();var t=this.formatter.fromRaw(this.model.get(this.column.get("name")));return this.$el.append(e("<a>",{tabIndex:-1,href:t,title:t,target:"_blank"}).text(t)),this.delegateEvents(),this}}),c.EmailCell=b.extend({className:"email-cell",formatter:new m,render:function(){this.$el.empty();var t=this.formatter.fromRaw(this.model.get(this.column.get("name")));return this.$el.append(e("<a>",{tabIndex:-1,href:"mailto:"+t,title:t}).text(t)),this.delegateEvents(),this}}),c.NumberCell=w.extend({className:"number-cell",decimals:h.prototype.defaults.decimals,decimalSeparator:h.prototype.defaults.decimalSeparator,orderSeparator:h.prototype.defaults.orderSeparator,formatter:h,initialize:function(){w.prototype.initialize.apply(this,arguments),this.formatter=new this.formatter({decimals:this.decimals,decimalSeparator:this.decimalSeparator,orderSeparator:this.orderSeparator})}})),_=(c.IntegerCell=C.extend({className:"integer-cell",decimals:0}),c.DatetimeCell=w.extend({className:"datetime-cell",includeDate:p.prototype.defaults.includeDate,includeTime:p.prototype.defaults.includeTime,includeMilli:p.prototype.defaults.includeMilli,formatter:p,initialize:function(){w.prototype.initialize.apply(this,arguments),this.formatter=new this.formatter({includeDate:this.includeDate,includeTime:this.includeTime,includeMilli:this.includeMilli});var t=this.includeDate?"YYYY-MM-DD":"";t+=this.includeDate&&this.includeTime?"T":"",t+=this.includeTime?"HH:mm:ss":"",t+=this.includeTime&&this.includeMilli?".SSS":"",this.editor=this.editor.extend({attributes:n.extend({},this.editor.prototype.attributes,this.editor.attributes,{placeholder:t})})}})),x=(c.DateCell=_.extend({className:"date-cell",includeTime:!1}),c.TimeCell=_.extend({className:"time-cell",includeDate:!1}),c.BooleanCellEditor=v.extend({tagName:"input",attributes:{tabIndex:-1,type:"checkbox"},events:{mousedown:function(){this.mouseDown=!0},blur:"enterOrExitEditMode",mouseup:function(){this.mouseDown=!1},change:"saveOrCancel",keydown:"saveOrCancel"},render:function(){var t=this.formatter.fromRaw(this.model.get(this.column.get("name")));return this.$el.prop("checked",t),this},enterOrExitEditMode:function(t){if(!this.mouseDown){var e=this.model;e.trigger("backgrid:edited",e,this.column,new u(t))}},saveOrCancel:function(t){var e=this.model,n=this.column,o=this.formatter,i=new u(t);if(i.passThru()&&"change"!=t.type)return!0;i.cancel()&&(t.stopPropagation(),e.trigger("backgrid:edited",e,n,i));var r=this.$el;if(i.save()||i.moveLeft()||i.moveRight()||i.moveUp()||i.moveDown()){t.preventDefault(),t.stopPropagation();var s=o.toRaw(r.prop("checked"));e.set(n.get("name"),s),e.trigger("backgrid:edited",e,n,i)}else if("change"==t.type){var s=o.toRaw(r.prop("checked"));e.set(n.get("name"),s),r.focus()}}})),k=(c.BooleanCell=w.extend({className:"boolean-cell",editor:x,events:{click:"enterEditMode"},render:function(){return this.$el.empty(),this.$el.append(e("<input>",{tabIndex:-1,type:"checkbox",checked:this.formatter.fromRaw(this.model.get(this.column.get("name")))})),this.delegateEvents(),this}}),c.SelectCellEditor=v.extend({tagName:"select",events:{change:"save",blur:"close",keydown:"close"},template:n.template('<option value="<%- value %>" <%= selected ? \'selected="selected"\' : "" %>><%- text %></option>'),setOptionValues:function(t){this.optionValues=t},setMultiple:function(t){this.multiple=t,this.$el.prop("multiple",t)},_renderOptions:function(t,e){for(var n="",o=0;o<t.length;o++)n+=this.template({text:t[o][0],value:t[o][1],selected:e.indexOf(t[o][1])>-1});return n},render:function(){this.$el.empty();var t=n.result(this,"optionValues"),o=this.formatter.fromRaw(this.model.get(this.column.get("name")));if(!n.isArray(t))throw TypeError("optionValues must be an array");for(var i=null,r=null,i=null,s=null,a=null,l=0;l<t.length;l++){var i=t[l];if(n.isArray(i))r=i[0],i=i[1],this.$el.append(this.template({text:r,value:i,selected:o.indexOf(i)>-1}));else{if(!n.isObject(i))throw TypeError("optionValues elements must be a name-value pair or an object hash of { name: 'optgroup label', value: [option name-value pairs] }");s=i.name,a=e("<optgroup></optgroup>",{label:s}),a.append(this._renderOptions(i.values,o)),this.$el.append(a)}}return this.delegateEvents(),this},save:function(t){var e=this.model,n=this.column;e.set(n.get("name"),this.formatter.toRaw(this.$el.val())),e.trigger("backgrid:edited",e,n,new u(t))},close:function(t){var e=this.model,n=this.column,o=new u(t);o.cancel()?(t.stopPropagation(),e.trigger("backgrid:edited",e,n,new u(t))):(o.save()||o.moveLeft()||o.moveRight()||o.moveUp()||o.moveDown()||"blur"==t.type)&&(t.preventDefault(),t.stopPropagation(),"blur"==t.type&&1===this.$el.find("option").length&&e.set(n.get("name"),this.formatter.toRaw(this.$el.val())),e.trigger("backgrid:edited",e,n,new u(t)))}})),S=(c.SelectCell=w.extend({className:"select-cell",editor:k,multiple:!1,formatter:new g,optionValues:void 0,delimiter:", ",initialize:function(){w.prototype.initialize.apply(this,arguments),c.requireOptions(this,["optionValues"]),this.listenTo(this.model,"backgrid:edit",function(t,e,n,o){e.get("name")==this.column.get("name")&&(o.setOptionValues(this.optionValues),o.setMultiple(this.multiple))})},render:function(){this.$el.empty();var t=this.optionValues,e=this.formatter.fromRaw(this.model.get(this.column.get("name"))),o=[];try{if(!n.isArray(t)||n.isEmpty(t))throw new TypeError;for(var i=0;i<e.length;i++)for(var r=e[i],s=0;s<t.length;s++){var a=t[s];if(n.isArray(a)){var l=a[0],a=a[1];a==r&&o.push(l)}else{if(!n.isObject(a))throw new TypeError;for(var c=a.values,u=0;u<c.length;u++){var d=c[u];d[1]==r&&o.push(d[0])}}}this.$el.append(o.join(this.delimiter))}catch(h){if(h instanceof TypeError)throw TypeError("'optionValues' must be of type {Array.<Array>|Array.<{name: string, values: Array.<Array>}>}");throw h}return this.delegateEvents(),this}}),c.Column=o.Model.extend({defaults:{name:void 0,label:void 0,sortable:!0,editable:!0,renderable:!0,formatter:void 0,cell:void 0,headerCell:void 0},initialize:function(t){c.requireOptions(t,["cell","name"]),this.has("label")||this.set({label:this.get("name")},{silent:!0});var e=c.resolveNameToClass(this.get("headerCell"),"HeaderCell"),n=c.resolveNameToClass(this.get("cell"),"Cell");this.set({cell:n,headerCell:e},{silent:!0})}})),T=c.Columns=o.Collection.extend({model:S}),$=c.Row=o.View.extend({tagName:"tr",requiredOptions:["columns","model"],initialize:function(t){c.requireOptions(t,this.requiredOptions);var e=this.columns=t.columns;e instanceof o.Collection||(e=this.columns=new T(e));for(var n=this.cells=[],i=0;i<e.length;i++)n.push(this.makeCell(e.at(i),t));this.listenTo(e,"change:renderable",function(t,e){for(var o=0;o<n.length;o++){var i=n[o];i.column.get("name")==t.get("name")&&(e?i.$el.show():i.$el.hide())}}),this.listenTo(e,"add",function(e,o){var i=o.indexOf(e),r=this.makeCell(e,t);n.splice(i,0,r),r.column.get("renderable")||r.$el.hide();var s=this.$el;0===i?s.prepend(r.render().$el):i===o.length-1?s.append(r.render().$el):s.children().eq(i).before(r.render().$el)}),this.listenTo(e,"remove",function(t,e,o){n[o.index].remove(),n.splice(o.index,1)})},makeCell:function(t){return new(t.get("cell"))({column:t,model:this.model})},render:function(){this.$el.empty();for(var t=document.createDocumentFragment(),e=0;e<this.cells.length;e++){var n=this.cells[e];t.appendChild(n.render().el),n.column.get("renderable")||n.$el.hide()}return this.el.appendChild(t),this.delegateEvents(),this},remove:function(){for(var t=0;t<this.cells.length;t++){var e=this.cells[t];e.remove.apply(e,arguments)}return o.View.prototype.remove.apply(this,arguments)}}),E=c.EmptyRow=o.View.extend({tagName:"tr",emptyText:null,initialize:function(t){c.requireOptions(t,["emptyText","columns"]),this.emptyText=t.emptyText,this.columns=t.columns},render:function(){this.$el.empty();var t=document.createElement("td");return t.setAttribute("colspan",this.columns.length),t.textContent=this.emptyText,this.el.setAttribute("class","empty"),this.el.appendChild(t),this}}),D=c.HeaderCell=o.View.extend({tagName:"th",events:{"click a":"onClick"},_direction:null,initialize:function(t){c.requireOptions(t,["column","collection"]),this.column=t.column,this.column instanceof S||(this.column=new S(this.column)),this.listenTo(this.collection,"backgrid:sort",this._resetCellDirection)},direction:function(t){return arguments.length&&(this._direction&&this.$el.removeClass(this._direction),t&&this.$el.addClass(t),this._direction=t),this._direction},_resetCellDirection:function(t,e,n,o){o==this.collection&&this.direction(t!==this.column.get("name")?null:e)},onClick:function(t){t.preventDefault();var e=this.column.get("name");this.column.get("sortable")&&("ascending"===this.direction()?this.sort(e,"descending",function(t,n){var o=t.get(e),i=n.get(e);return o===i?0:o>i?-1:1}):"descending"===this.direction()?this.sort(e,null):this.sort(e,"ascending",function(t,n){var o=t.get(e),i=n.get(e);return o===i?0:i>o?-1:1}))},sort:function(t,e,n){n=n||this._cidComparator;var i=this.collection;if(o.PageableCollection&&i instanceof o.PageableCollection){var r;r="ascending"===e?-1:"descending"===e?1:null,i.setSorting(r?t:null,r),"client"==i.mode?(i.fullCollection.comparator||(i.fullCollection.comparator=n),i.fullCollection.sort()):i.fetch({reset:!0})}else i.comparator=n,i.sort();this.collection.trigger("backgrid:sort",t,e,n,this.collection)},_cidComparator:function(t,e){var o=t.cid,i=e.cid;if(!n.isUndefined(o)&&!n.isUndefined(i)){if(o=1*o.slice(1),i=1*i.slice(1),i>o)return-1;if(o>i)return 1}return 0},render:function(){this.$el.empty();var t=e("<a>").text(this.column.get("label")).append("<b class='sort-caret'></b>");return this.$el.append(t),this.delegateEvents(),this}}),M=(c.HeaderRow=c.Row.extend({requiredOptions:["columns","collection"],initialize:function(){c.Row.prototype.initialize.apply(this,arguments)},makeCell:function(t,e){var n=t.get("headerCell")||e.headerCell||D;return n=new n({column:t,collection:this.collection})}}),c.Header=o.View.extend({tagName:"thead",initialize:function(t){c.requireOptions(t,["columns","collection"]),this.columns=t.columns,this.columns instanceof o.Collection||(this.columns=new T(this.columns)),this.row=new c.HeaderRow({columns:this.columns,collection:this.collection})},render:function(){return this.$el.append(this.row.render().$el),this.delegateEvents(),this},remove:function(){return this.row.remove.apply(this.row,arguments),o.View.prototype.remove.apply(this,arguments)}})),R=c.Body=o.View.extend({tagName:"tbody",initialize:function(t){c.requireOptions(t,["columns","collection"]),this.columns=t.columns,this.columns instanceof o.Collection||(this.columns=new T(this.columns)),this.row=t.row||$,this.rows=this.collection.map(function(t){var e=new this.row({columns:this.columns,model:t});return e},this),this.emptyText=t.emptyText,this._unshiftEmptyRowMayBe();var e=this.collection;this.listenTo(e,"add",this.insertRow),this.listenTo(e,"remove",this.removeRow),this.listenTo(e,"sort",this.refresh),this.listenTo(e,"reset",this.refresh),this.listenTo(e,"backgrid:edited",this.moveToNextCell)},_unshiftEmptyRowMayBe:function(){0===this.rows.length&&null!=this.emptyText&&this.rows.unshift(new E({emptyText:this.emptyText,columns:this.columns}))},insertRow:function(t,e,i){if(this.rows[0]instanceof E&&this.rows.pop().remove(),!(e instanceof o.Collection||i))return void this.collection.add(t,i=e);i=n.extend({render:!0},i||{});var r=new this.row({columns:this.columns,model:t}),s=e.indexOf(t);this.rows.splice(s,0,r);var a=this.$el,l=a.children(),c=r.render().$el;i.render&&(s>=l.length?a.append(c):l.eq(s).before(c))},removeRow:function(t,e,o){return o?((n.isUndefined(o.render)||o.render)&&this.rows[o.index].remove(),this.rows.splice(o.index,1),void this._unshiftEmptyRowMayBe()):(this.collection.remove(t,o=e),void this._unshiftEmptyRowMayBe())},refresh:function(){for(var t=0;t<this.rows.length;t++)this.rows[t].remove();return this.rows=this.collection.map(function(t){var e=new this.row({columns:this.columns,model:t});return e},this),this._unshiftEmptyRowMayBe(),this.render(),this.collection.trigger("backgrid:refresh",this),this},render:function(){this.$el.empty();for(var t=document.createDocumentFragment(),e=0;e<this.rows.length;e++){var n=this.rows[e];t.appendChild(n.render().el)}return this.el.appendChild(t),this.delegateEvents(),this},remove:function(){for(var t=0;t<this.rows.length;t++){var e=this.rows[t];e.remove.apply(e,arguments)}return o.View.prototype.remove.apply(this,arguments)},moveToNextCell:function(t,e,n){var o=this.collection.indexOf(t),i=this.columns.indexOf(e);if(n.moveUp()||n.moveDown()||n.moveLeft()||n.moveRight()||n.save()){var r=this.columns.length,s=r*this.collection.length;if(n.moveUp()||n.moveDown()){var a=this.rows[o+(n.moveUp()?-1:1)];a&&a.cells[i].enterEditMode()}else if(n.moveLeft()||n.moveRight())for(var l=n.moveRight(),c=o*r+i+(l?1:-1);c>=0&&s>c;l?c++:c--){var u=~~(c/r),d=c-u*r,h=this.rows[u].cells[d];if(h.column.get("renderable")&&h.column.get("editable")){h.enterEditMode();break}}}this.rows[o].cells[i].exitEditMode()}});c.Footer=o.View.extend({tagName:"tfoot",initialize:function(t){c.requireOptions(t,["columns","collection"]),this.columns=t.columns,this.columns instanceof o.Collection||(this.columns=new c.Columns(this.columns))}}),c.Grid=o.View.extend({tagName:"table",className:"backgrid",header:M,body:R,footer:null,initialize:function(t){c.requireOptions(t,["columns","collection"]),t.columns instanceof o.Collection||(t.columns=new T(t.columns)),this.columns=t.columns;var e=n.omit(t,["el","id","attributes","className","tagName","events"]);this.header=t.header||this.header,this.header=new this.header(e),this.body=t.body||this.body,this.body=new this.body(e),this.footer=t.footer||this.footer,this.footer&&(this.footer=new this.footer(e)),this.listenTo(this.columns,"reset",function(){this.header=new(this.header.remove().constructor)(e),this.body=new(this.body.remove().constructor)(e),this.footer&&(this.footer=new(this.footer.remove().constructor)(e)),this.render()})},insertRow:function(t,e,n){return this.body.insertRow(t,e,n)},removeRow:function(t,e,n){return this.body.removeRow(t,e,n)},insertColumn:function(t,e){return e=e||{render:!0},this.columns.add(t,e),this},removeColumn:function(t,e){return this.columns.remove(t,e),this},render:function(){return this.$el.empty(),this.$el.append(this.header.render().$el),this.footer&&this.$el.append(this.footer.render().$el),this.$el.append(this.body.render().$el),this.delegateEvents(),this.trigger("backgrid:rendered",this),this},remove:function(){return this.header.remove.apply(this.header,arguments),this.body.remove.apply(this.body,arguments),this.footer&&this.footer.remove.apply(this.footer,arguments),o.View.prototype.remove.apply(this,arguments)}})}}(this,jQuery,_,Backbone),/* =============================================================
 * bootstrap-typeahead.js v2.3.1-j6
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.options.target&&(this.$target=t(this.options.target)),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.strict=this.options.strict,this.$menu=t(this.options.menu),this.shown=!1,"string"==typeof this.source&&(this.url=this.source,this.source=this.searchAjax),"SELECT"==e.nodeName&&this.replaceSelect(),this.text=this.$element.val(),this.$element.attr("data-text",this.value).attr("autocomplete","off"),"undefined"!=typeof this.$target?this.$element.attr("data-value",this.$target.val()):"undefined"==typeof this.$element.attr("data-value")&&this.$element.attr("data-value",this.strict?"":this.value),this.$menu.css("min-width",this.$element.width()+12),this.listen()};e.prototype={constructor:e,replaceSelect:function(){this.$target=this.$element,this.$element=t('<input type="text" />'),this.source={},this.strict=!0;for(var e,n=this.$target.find("option"),o=0;o<n.length;o++)e=t(n[o]),""!==e.val()?(this.source[e.val()]=e.html(),this.$target.val()==e.val()&&this.$element.val(e.html())):this.$element.attr("placeholder",e.html());var i=this.$target[0].attributes;for(o=0;o<i.length;o++)"type"==i[o].nodeName||"name"==i[o].nodeName||"id"==i[o].nodeName||"data-provide"==i[o].nodeName||i[o].nodeName.match(/^on/)||this.$element.attr(i[o].nodeName,i[o].nodeValue);this.$element.insertAfter(this.$target),this.$target.attr("autofocus")&&this.$element.trigger("focus").select(),this.$target.attr("autofocus",!1),this.$target.hide()},destroyReplacement:function(){"undefined"!=typeof this.$target&&"SELECT"==this.$target[0].nodeName&&this.$element.replaceWith("")},select:function(){var t=this.$menu.find(".active"),e=t.attr("data-value"),n=t.find(".item-text").length>0?t.find(".item-text").text():t.text();return e=this.updater(e,"value"),n=this.updater(n,"text"),this.$element.val(n).attr("data-value",e),this.text=n,"undefined"!=typeof this.$target&&this.$target.val(e).trigger("change"),this.$element.trigger("change"),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){return t.isArray(e)?this.processArray(e):this.processObject(e)},processArray:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},processObject:function(e){var n=this,o={},i=0;return t.each(e,function(t,e){n.matcher(e)&&(o[t]=e)}),o=this.sorter(o),t.isEmptyObject(o)?this.shown?this.hide():this:(t.each(o,function(t){i++>=n.options.items&&delete o[t]}),this.render(o).show())},searchAjax:function(e,n){var o=this;this.ajaxTimeout&&clearTimeout(this.ajaxTimeout),this.ajaxTimeout=setTimeout(function(){return o.ajaxTimeout&&clearTimeout(o.ajaxTimeout),""===e?void o.hide():void t.get(o.url,{q:e,limit:o.options.items},function(t){"string"==typeof t&&(t=JSON.parse(t)),n(t)})},this.options.ajaxdelay)},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){return t.isArray(e)?this.sortArray(e):this.sortObject(e)},sortArray:function(t){for(var e,n=[],o=[],i=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?o.push(e):i.push(e):n.push(e);return n.concat(o,i)},sortObject:function(t){var e,n={};for(e in t)t[e].toLowerCase().indexOf(this.query.toLowerCase())||(n[e]=t[e],delete t[e]);for(e in t)~t[e].indexOf(this.query)&&(n[e]=t[e],delete t[e]);for(e in t)n[e]=t[e];return n},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this,o=t([]);return t.map(e,function(i,r){if(!(o.length>=n.options.items)){var s,a;t.isArray(e)&&(r=i),s=t(n.options.item),a=s.find("a").length?s.find("a"):s,a.html(n.highlighter(i)),s.attr("data-value",r),0===s.find("a").length&&s.addClass("dropdown-header"),o.push(s[0])}}),o.not(".dropdown-header").first().addClass("active"),this.$menu.html(o),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),n=e.nextAll("li:not(.dropdown-header)").first();n.length||(n=t(this.$menu.find("li:not(.dropdown-header)")[0])),n.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prevAll("li:not(.dropdown-header)").first();e.length||(e=this.$menu.find("li:not(.dropdown-header)").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("change",t.proxy(this.change,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this)),t(window).on("unload",t.proxy(this.destroyReplacement,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},change:function(){var t;this.$element.val()!=this.text&&(t=""===this.$element.val()||this.strict?"":this.$element.val(),this.$element.val(t),this.$element.attr("data-value",t),this.text=t,"undefined"!=typeof this.$target&&this.$target.val(t))},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var o=t(this),i=o.data("typeahead"),r="object"==typeof n&&n;i||o.data("typeahead",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',ajaxdelay:400,minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).off("focus.typeahead.data-api").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var n=t(this);n.data("typeahead")||(n.is("select")&&n.attr("autofocus",!0),e.preventDefault(),n.typeahead(n.data()))})}(window.jQuery),/* ===========================================================
 * bootstrap-inputmask.js j2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Based on Masked Input plugin by Josh Bush (digitalbush.com)
 * ===========================================================
 * Copyright 2012 Jasny BV, Netherlands.
 *
 * Licensed under the Apache License, Version 2.0 (the "License")
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=void 0!==window.orientation,n=navigator.userAgent.toLowerCase().indexOf("android")>-1,o=function(e,o){n||(this.$element=t(e),this.options=t.extend({},t.fn.inputmask.defaults,o),this.mask=String(o.mask),this.init(),this.listen(),this.checkVal())};o.prototype={init:function(){var e=this.options.definitions,n=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,t.each(this.mask.split(""),t.proxy(function(t,o){"?"==o?(n--,this.partialPosition=t):e[o]?(this.tests.push(new RegExp(e[o])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=t.map(this.mask.split(""),t.proxy(function(t){return"?"!=t?e[t]?this.options.placeholder:t:void 0},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",t.proxy(function(){return t.map(this.buffer,function(t,e){return this.tests[e]&&t!=this.options.placeholder?t:null}).join("")},this))},listen:function(){if(!this.$element.attr("readonly")){var e=(navigator.userAgent.match(/msie/i)?"paste":"input")+".mask";this.$element.on("unmask",t.proxy(this.unmask,this)).on("focus.mask",t.proxy(this.focusEvent,this)).on("blur.mask",t.proxy(this.blurEvent,this)).on("keydown.mask",t.proxy(this.keydownEvent,this)).on("keypress.mask",t.proxy(this.keypressEvent,this)).on(e,t.proxy(this.pasteEvent,this))}},caret:function(t,e){if(0!==this.$element.length){if("number"==typeof t)return e="number"==typeof e?e:t,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(t,e);else if(this.createTextRange){var n=this.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()}});if(this.$element[0].setSelectionRange)t=this.$element[0].selectionStart,e=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var n=document.selection.createRange();t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length}return{begin:t,end:e}}},seekNext:function(t){for(var e=this.mask.length;++t<=e&&!this.tests[t];);return t},seekPrev:function(t){for(;--t>=0&&!this.tests[t];);return t},shiftL:function(t,e){var n=this.mask.length;if(!(0>t)){for(var o=t,i=this.seekNext(e);n>o;o++)if(this.tests[o]){if(!(n>i&&this.tests[o].test(this.buffer[i])))break;this.buffer[o]=this.buffer[i],this.buffer[i]=this.options.placeholder,i=this.seekNext(i)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}},shiftR:function(t){for(var e=this.mask.length,n=t,o=this.options.placeholder;e>n;n++)if(this.tests[n]){var i=this.seekNext(n),r=this.buffer[n];if(this.buffer[n]=o,!(e>i&&this.tests[i].test(r)))break;o=r}},unmask:function(){this.$element.unbind(".mask").removeData("inputmask")},focusEvent:function(){this.focusText=this.$element.val();var e=this.mask.length,n=this.checkVal();this.writeBuffer();var o=this,i=function(){n==e?o.caret(0,n):o.caret(n)};t.browser.msie?i():setTimeout(i,0)},blurEvent:function(){this.checkVal(),this.$element.val()!=this.focusText&&this.$element.trigger("change")},keydownEvent:function(t){var n=t.which;if(8==n||46==n||e&&127==n){var o=this.caret(),i=o.begin,r=o.end;return r-i===0&&(i=46!=n?this.seekPrev(i):r=this.seekNext(i-1),r=46==n?this.seekNext(r):r),this.clearBuffer(i,r),this.shiftL(i,r-1),!1}return 27==n?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},keypressEvent:function(t){var e=this.mask.length,n=t.which,o=this.caret();if(t.ctrlKey||t.altKey||t.metaKey||32>n)return!0;if(n){o.end-o.begin!==0&&(this.clearBuffer(o.begin,o.end),this.shiftL(o.begin,o.end-1));var i=this.seekNext(o.begin-1);if(e>i){var r=String.fromCharCode(n);if(this.tests[i].test(r)){this.shiftR(i),this.buffer[i]=r,this.writeBuffer();var s=this.seekNext(i);this.caret(s)}}return!1}},pasteEvent:function(){var t=this;setTimeout(function(){t.caret(t.checkVal(!0))},0)},clearBuffer:function(t,e){for(var n=this.mask.length,o=t;e>o&&n>o;o++)this.tests[o]&&(this.buffer[o]=this.options.placeholder)},writeBuffer:function(){return this.$element.val(this.buffer.join("")).val()},checkVal:function(t){for(var e=this.mask.length,n=this.$element.val(),o=-1,i=0,r=0;e>i;i++)if(this.tests[i]){for(this.buffer[i]=this.options.placeholder;r++<n.length;){var s=n.charAt(r-1);if(this.tests[i].test(s)){this.buffer[i]=s,o=i;break}}if(r>n.length)break}else this.buffer[i]==n.charAt(r)&&i!=this.partialPosition&&(r++,o=i);return!t&&o+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,e)):(t||o+1>=this.partialPosition)&&(this.writeBuffer(),t||this.$element.val(this.$element.val().substring(0,o+1))),this.partialPosition?i:this.firstNonMaskPos}},t.fn.inputmask=function(e){return this.each(function(){var n=t(this),i=n.data("inputmask");i||n.data("inputmask",i=new o(this,e))})},t.fn.inputmask.defaults={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}},t.fn.inputmask.Constructor=o,t(document).on("focus.inputmask.data-api","[data-mask]",function(e){var n=t(this);n.data("inputmask")||(e.preventDefault(),n.inputmask(n.data()))})}(window.jQuery),/* ============================================================
 * bootstrap-rowlink.js j1
 * http://jasny.github.com/bootstrap/javascript.html#rowlink
 * ============================================================
 * Copyright 2012 Jasny BV, Netherlands.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){n=t.extend({},t.fn.rowlink.defaults,n);var o="tr"==e.nodeName.toLowerCase()?t(e):t(e).find("tr:has(td)");o.each(function(){var e=t(this).find(n.target).first();if(e.length){var o=e.attr("href");t(this).find("td").not(".nolink").click(function(){window.location=o}),t(this).addClass("rowlink"),e.replaceWith(e.html())}})};t.fn.rowlink=function(n){return this.each(function(){var o=t(this),i=o.data("rowlink");i||o.data("rowlink",i=new e(this,n))})},t.fn.rowlink.defaults={target:"a"},t.fn.rowlink.Constructor=e,t(function(){t('[data-provide="rowlink"],[data-provides="rowlink"]').each(function(){t(this).rowlink(t(this).data())})})}(window.jQuery),/* ===========================================================
 * bootstrap-fileupload.js j2
 * http://jasny.github.com/bootstrap/javascript.html#fileupload
 * ===========================================================
 * Copyright 2012 Jasny BV, Netherlands.
 *
 * Licensed under the Apache License, Version 2.0 (the "License")
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(e,n){if(this.$element=t(e),this.type=this.$element.data("uploadtype")||(this.$element.find(".thumbnail").length>0?"image":"file"),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||n.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=t('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileupload-preview");var o=this.$preview.css("height");"inline"!=this.$preview.css("display")&&"0px"!=o&&"none"!=o&&this.$preview.css("line-height",o),this.original={exists:this.$element.hasClass("fileupload-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.$remove=this.$element.find('[data-dismiss="fileupload"]'),this.$element.find('[data-trigger="fileupload"]').on("click.fileupload",t.proxy(this.trigger,this)),this.listen()}};e.prototype={listen:function(){this.$input.on("change.fileupload",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.fileupload",t.proxy(this.reset,this)),this.$remove&&this.$remove.on("click.fileupload",t.proxy(this.clear,this))},change:function(t,e){if("clear"!==e){var n=void 0!==t.target.files?t.target.files[0]:t.target.value?{name:t.target.value.replace(/^.+\\/,"")}:null;if(!n)return void this.clear();if(this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name),"image"===this.type&&this.$preview.length>0&&("undefined"!=typeof n.type?n.type.match("image.*"):n.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var o=new FileReader,i=this.$preview,r=this.$element;o.onload=function(t){i.html('<img src="'+t.target.result+'" '+("none"!=i.css("max-height")?'style="max-height: '+i.css("max-height")+';"':"")+" />"),r.addClass("fileupload-exists").removeClass("fileupload-new")},o.readAsDataURL(n)}else this.$preview.text(n.name),this.$element.addClass("fileupload-exists").removeClass("fileupload-new")}},clear:function(t){if(this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),navigator.userAgent.match(/msie/i)){var e=this.$input.clone(!0);this.$input.after(e),this.$input.remove(),this.$input=e}else this.$input.val("");this.$preview.html(""),this.$element.addClass("fileupload-new").removeClass("fileupload-exists"),t&&(this.$input.trigger("change",["clear"]),t.preventDefault())},reset:function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.original.exists?this.$element.addClass("fileupload-exists").removeClass("fileupload-new"):this.$element.addClass("fileupload-new").removeClass("fileupload-exists")},trigger:function(t){this.$input.trigger("click"),t.preventDefault()}},t.fn.fileupload=function(n){return this.each(function(){var o=t(this),i=o.data("fileupload");i||o.data("fileupload",i=new e(this,n)),"string"==typeof n&&i[n]()})},t.fn.fileupload.Constructor=e,t(document).on("click.fileupload.data-api",'[data-provides="fileupload"]',function(e){var n=t(this);if(!n.data("fileupload")){n.fileupload(n.data());var o=t(e.target).closest('[data-dismiss="fileupload"],[data-trigger="fileupload"]');o.length>0&&(o.trigger("click.fileupload"),e.preventDefault())}})}(window.jQuery),!function(t){"use strict";t.fn.bootstrapSwitch=function(e){var n='input[type!="hidden"]',o={init:function(){return this.each(function(){var e,o,i,r,s,a,l=t(this),c=l.closest("form"),u="",d=l.attr("class"),h="ON",p="OFF",f=!1,m=!1;t.each(["switch-mini","switch-small","switch-large"],function(t,e){d.indexOf(e)>=0&&(u=e)}),l.addClass("has-switch"),void 0!==l.data("on")&&(s="switch-"+l.data("on")),void 0!==l.data("on-label")&&(h=l.data("on-label")),void 0!==l.data("off-label")&&(p=l.data("off-label")),void 0!==l.data("label-icon")&&(f=l.data("label-icon")),void 0!==l.data("text-label")&&(m=l.data("text-label")),o=t("<span>").addClass("switch-left").addClass(u).addClass(s).html(h),s="",void 0!==l.data("off")&&(s="switch-"+l.data("off")),i=t("<span>").addClass("switch-right").addClass(u).addClass(s).html(p),r=t("<label>").html("&nbsp;").addClass(u).attr("for",l.find(n).attr("id")),f&&r.html('<i class="icon '+f+'"></i>'),m&&r.html(""+m),e=l.find(n).wrap(t("<div>")).parent().data("animated",!1),l.data("animated")!==!1&&e.addClass("switch-animate").data("animated",!0),e.append(o).append(r).append(i),l.find(">div").addClass(l.find(n).is(":checked")?"switch-on":"switch-off"),l.find(n).is(":disabled")&&t(this).addClass("deactivate");var g=function(t){l.parent("label").is(".label-change-switch")||t.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};l.on("keydown",function(e){32===e.keyCode&&(e.stopImmediatePropagation(),e.preventDefault(),g(t(e.target).find("span:first")))}),o.on("click",function(){g(t(this))}),i.on("click",function(){g(t(this))}),l.find(n).on("change",function(e,n){var o=t(this),i=o.parent(),r=o.is(":checked"),s=i.is(".switch-off");if(e.preventDefault(),i.css("left",""),s===r){if(r?i.removeClass("switch-off").addClass("switch-on"):i.removeClass("switch-on").addClass("switch-off"),i.data("animated")!==!1&&i.addClass("switch-animate"),"boolean"==typeof n&&n)return;i.parent().trigger("switch-change",{el:o,value:r})}}),l.find("label").on("mousedown touchstart",function(e){var n=t(this);a=!1,e.preventDefault(),e.stopImmediatePropagation(),n.closest("div").removeClass("switch-animate"),n.closest(".has-switch").is(".deactivate")?n.unbind("click"):n.closest(".switch-on").parent().is(".radio-no-uncheck")?n.unbind("click"):(n.on("mousemove touchmove",function(e){var n=t(this).closest(".make-switch"),o=(e.pageX||e.originalEvent.targetTouches[0].pageX)-n.offset().left,i=o/n.width()*100,r=25,s=75;a=!0,r>i?i=r:i>s&&(i=s),n.find(">div").css("left",i-s+"%")}),n.on("click touchend",function(e){var n=t(this),o=t(e.target),i=o.siblings("input");e.stopImmediatePropagation(),e.preventDefault(),n.unbind("mouseleave"),a?i.prop("checked",!(parseInt(n.parent().css("left"))<-25)):i.prop("checked",!i.is(":checked")),a=!1,i.trigger("change")}),n.on("mouseleave",function(e){var n=t(this),o=n.siblings("input");e.preventDefault(),e.stopImmediatePropagation(),n.unbind("mouseleave"),n.trigger("mouseup"),o.prop("checked",!(parseInt(n.parent().css("left"))<-25)).trigger("change")}),n.on("mouseup",function(e){e.stopImmediatePropagation(),e.preventDefault(),t(this).unbind("mousemove")}))}),"injected"!==c.data("bootstrapSwitch")&&(c.bind("reset",function(){setTimeout(function(){c.find(".make-switch").each(function(){var e=t(this).find(n);e.prop("checked",e.is(":checked")).trigger("change")})},1)}),c.data("bootstrapSwitch","injected"))})},toggleActivation:function(){var e=t(this);e.toggleClass("deactivate"),e.find(n).prop("disabled",e.is(".deactivate"))},isActive:function(){return!t(this).hasClass("deactivate")},setActive:function(e){var o=t(this);e?(o.removeClass("deactivate"),o.find(n).removeAttr("disabled")):(o.addClass("deactivate"),o.find(n).attr("disabled","disabled"))},toggleState:function(e){var n=t(this).find(":checkbox");n.prop("checked",!n.is(":checked")).trigger("change",e)},toggleRadioState:function(e){var n=t(this).find(":radio");n.not(":checked").prop("checked",!n.is(":checked")).trigger("change",e)},toggleRadioStateAllowUncheck:function(e,n){var o=t(this).find(":radio");e?o.not(":checked").trigger("change",n):o.not(":checked").prop("checked",!o.is(":checked")).trigger("change",n)},setState:function(e,o){t(this).find(n).prop("checked",e).trigger("change",o)},setOnLabel:function(e){var n=t(this).find(".switch-left");n.html(e)},setOffLabel:function(e){var n=t(this).find(".switch-right");n.html(e)},setOnClass:function(e){var n=t(this).find(".switch-left"),o="";void 0!==e&&(void 0!==t(this).attr("data-on")&&(o="switch-"+t(this).attr("data-on")),n.removeClass(o),o="switch-"+e,n.addClass(o))},setOffClass:function(e){var n=t(this).find(".switch-right"),o="";void 0!==e&&(void 0!==t(this).attr("data-off")&&(o="switch-"+t(this).attr("data-off")),n.removeClass(o),o="switch-"+e,n.addClass(o))},setAnimated:function(e){var o=t(this).find(n).parent();void 0===e&&(e=!1),o.data("animated",e),o.attr("data-animated",e),o.data("animated")!==!1?o.addClass("switch-animate"):o.removeClass("switch-animate")},setSizeClass:function(e){var n=t(this),o=n.find(".switch-left"),i=n.find(".switch-right"),r=n.find("label");t.each(["switch-mini","switch-small","switch-large"],function(t,n){n!==e?(o.removeClass(n),i.removeClass(n),r.removeClass(n)):(o.addClass(n),i.addClass(n),r.addClass(n))})},status:function(){return t(this).find(n).is(":checked")},destroy:function(){var e,n=t(this),o=n.find("div"),i=n.closest("form");return o.find(":not(input)").remove(),e=o.children(),e.unwrap().unwrap(),e.unbind("change"),i&&(i.unbind("reset"),i.removeData("bootstrapSwitch")),e}};return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist!"):o.init.apply(this,arguments)}}(jQuery),function(t){t(function(){t(".make-switch").bootstrapSwitch()})}(jQuery),function(t,e,n){function o(e,n){this.element=e,this.options=t.extend({},s,n),this._defaults=s,this._name=r,this.init()}function i(o){e.ko&&t(o).on("change",function(e){if(e.preventDefault(),e.originalEvent===n){var o=t(this).closest(".clearfix"),i=t(o).find("a"),r=o.find("input"),s=r.prop("checked");s===!0?i.addClass("checked"):i.removeClass("checked")}}),o.find("a, label").on("touchstart click",function(n){n.preventDefault();var o=t(this).closest(".clearfix"),i=o.find("input"),r=o.find("a");i.prop("disabled")!==!0&&("radio"===i.prop("type")&&t('input[name="'+i.attr("name")+'"]').each(function(e,n){t(n).prop("checked",!1).parent().find("a").removeClass("checked")}),e.ko?ko.utils.triggerEvent(i[0],"click"):i.prop("checked")?i.prop("checked",!1).change():i.prop("checked",!0).change(),r.toggleClass("checked"))}),o.find("a").on("keyup",function(e){32===e.keyCode&&t(this).click()})}var r="prettyCheckable",s=(e.document,{label:"",labelPosition:"right",customClass:"",color:"blue"});o.prototype.init=function(){var e=t(this.element);e.parent().addClass("has-pretty-child"),e.css("display","none");var o=e.data("type")!==n?e.data("type"):e.attr("type"),r=e.data("label")!==n?e.data("label"):this.options.label,s=e.data("labelposition")!==n?"label"+e.data("labelposition"):"label"+this.options.labelPosition,a=e.data("customclass")!==n?e.data("customclass"):this.options.customClass,l=e.data("color")!==n?e.data("color"):this.options.color,c=e.prop("disabled")===!0?"disabled":"",u=["pretty"+o,s,a,l,c].join(" ");e.wrap('<div class="clearfix '+u+'"></div>').parent().html();{var d=[],h=e.prop("checked")?"checked":"";e.prop("disabled")?!0:!1}"labelright"===s?(d.push('<a href="#" class="'+h+'"></a>'),d.push('<label for="'+e.attr("id")+'">'+r+"</label>")):(d.push('<label for="'+e.attr("id")+'">'+r+"</label>"),d.push('<a href="#" class="'+h+'"></a>')),e.parent().append(d.join("\n")),i(e.parent())},o.prototype.disableInput=function(){var e=t(this.element);e.parent().addClass("disabled"),e.prop("disabled",!0)},o.prototype.enableInput=function(){var e=t(this.element);e.parent().removeClass("disabled"),e.prop("disabled",!1)},t.fn[r]=function(e){var n=[];return this.each(function(){t.data(this,"plugin_"+r)||n.push(t.data(this,"plugin_"+r,new o(this,e)))}),n}}(jQuery,window),function(){window.Marino={Models:{},Collections:{},Routers:{},Views:{}}}.call(this),function(){var t=[].slice;window.HAML=function(){function e(){}return e.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;")},e.cleanValue=function(t){switch(t){case null:case void 0:return"";case!0:case!1:return"\x93"+t;default:return t}},e.extend=function(){var e,n,o,i,r,s,a;for(n=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],s=0,a=i.length;a>s;s++){o=i[s];for(e in o)r=o[e],n[e]=r}return n},e.globals=function(){return{}},e.context=function(t){return this.extend({},e.globals(),t)},e.preserve=function(t){return t.replace(/\n/g,"&#x000A;")},e.findAndPreserve=function(t){var e;return e="textarea,pre".split(",").join("|"),t=t.replace(/\r/g,"").replace(RegExp("<("+e+")>([\\s\\S]*?)</\\1>","g"),function(t,e,n){return"<"+e+">"+window.HAML.preserve(n)+"</"+e+">"})},e.surround=function(t,e,n){var o;return t+(null!=(o=n.call(this))?o.replace(/^\s+|\s+$/g,""):void 0)+e},e.succeed=function(t,e){var n;return(null!=(n=e.call(this))?n.replace(/\s+$/g,""):void 0)+t},e.precede=function(t,e){var n;return t+(null!=(n=e.call(this))?n.replace(/^\s+/g,""):void 0)},e.reference=function(t,e){var n,o,i,r;return o=e?e+"_":"",o+="function"==typeof t.hamlObjectRef?t.hamlObjectRef():((null!=(r=t.constructor)?r.name:void 0)||"object").replace(/\W+/g,"_").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase(),n="function"==typeof t.to_key?t.to_key():"function"==typeof t.id?t.id():t.id?t.id:t,i="class='"+o+"'",n?i+=" id='"+o+"_"+n+"'":void 0},e}()}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/comments/comment"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<td>\n  <time datetime='"+e(t(this.created_at))+"'></time>\n</td>\n<td>\n  <strong>"+this.author_name+": </strong>\n</td>\n<td>"+e(t(this.text))+"</td>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/comments/index"]=function(t){return function(){var t;return t=[],t.push("<div class='title'>\n  Discusion\n</div>\n<div class='messages'>\n  <table class='table table-striped'>\n    <tr>\n      <td style='width: 100px;'></td>\n      <td style='width: 100px;'></td>\n      <td></td>\n    </tr>\n  </table>\n</div>\n<form class='send'>\n  <i class='icon-comment'></i>\n  <input>\n</form>"),t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crop_controls/crop_control"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<td>"+e(t(Date.parse(this.fecha+"T00:00:00").toString("MMM-yy")))+"</td>\n<td>"+e(t(this.tipo_doc))+"</td>\n<td class='number'>"+e(t(accounting.formatNumber(this.entrada)))+"</td>\n<td class='number'>"+e(t(accounting.formatNumber(this.salida)))+"</td>\n<td class='number'>"+e(t(accounting.formatNumber(this.saldo)))+"</td>\n<td class='number' style='border-left: 3px dashed #2c3e50'>"+e(t(accounting.formatMoney(this.precio_unitario)))+"</td>\n<td class='number'>"+e(t(accounting.formatMoney(this.debe)))+"</td>\n<td class='number'>"+e(t(accounting.formatMoney(this.haber)))+"</td>\n<td class='number'>"+e(t(accounting.formatMoney(this.saldo_p)))+"</td>\n<td>"+e(t(this.updater_email))+"</td>\n<td>"+e(t(this.comentario))+"</td>\n<td style='font-size:1.5em;text-align:center'>\n  <a href='#/"+e(t(this._id))+"/edit'>\n    <span class='awe-pencil'></span>\n  </a>\n  &nbsp;&nbsp;&nbsp;\n  <a class='destroy' href='#/"+e(t(this._id))+"/destroy'>\n    <span class='awe-remove'></span>\n  </a>\n</td>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crop_controls/filters"]=function(t){return function(){var t,e,n,o,i,r,s,a,l,c,u;for(e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<ul class='data-header-actions'>\n  <li>\n    <button class='btn btn-alt btn-success' id='excel_crop_control'>Descargar Excel</button>\n  </li>\n  <li>\n    <div class='make-switch' id='switch-filter' data-on-label='Cont' data-off-label='Gest'>\n      <input type='checkbox'>\n    </div>\n  </li>\n  <li>\n    <select id='store-filter'>\n      <option value='all'>(Todos los Dep\xf3sitos)</option>"),c=this.stores,r=0,a=c.length;a>r;r++)i=c[r],n.push("      <option value='"+e(t(i._id))+"'>"+i.name+"</option>");for(n.push("    </select>\n  </li>\n  <li>\n    <select id='crop-filter'>"),u=this.crops,s=0,l=u.length;l>s;s++)o=u[s],n.push("      <option value='"+e(t(o._id))+"'>"+o.name+"  </option>");return n.push("    </select>\n  </li>\n  <li>\n    <button class='btn btn-alt btn-success' id='new_crop_control'>Nuevo</button>\n  </li>\n</ul>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crop_controls/form"]=function(t){return function(){var t,e,n,o,i,r,s,a,l,c,u,d,h,p,f;for(e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<form class='form-horizontal no-margin' name='crop_control'>\n  <fieldset>\n    <div class='control-group'>\n      <label class='control-label' for='fecha'>Fecha</label>\n      <div class='controls'>\n        <input type='date' name='fecha' required value='"+e(t(this.crop_control.fecha))+"'>\n      </div>\n    </div>\n    <div class='control-group'>\n      <label class='control-label' for='tipo_doc'>Tipo Doc</label>\n      <div class='controls'>\n        <select name='tipo_doc' required>"),h=this.tipo_docs,s=0,c=h.length;c>s;s++)r=h[s],n.push("          <option selected='"+e(t(this.crop_control.tipo_doc===r))+"'>"+r+"</option>");for(n.push("        </select>\n      </div>\n    </div>\n    <div class='control-group'>\n      <label class='control-label' for='store_id'>Dep\xf3sito</label>\n      <div class='controls'>\n        <select name='store_id' required>"),p=this.stores,a=0,u=p.length;u>a;a++)i=p[a],n.push("          <option selected='"+e(t(this.crop_control.store_id===i._id))+"' value='"+e(t(i._id))+"'>"+i.name+"</option>");for(n.push("        </select>\n      </div>\n    </div>\n    <div class='control-group'>\n      <label class='control-label' for='crop_id'>Grano</label>\n      <div class='controls'>\n        <select name='crop_id' required>"),f=this.crops,l=0,d=f.length;d>l;l++)o=f[l],n.push("          <option selected='"+e(t(this.crop_control.crop_id===o._id))+"' value='"+e(t(o._id))+"'>"+o.name+"</option>");return n.push("        </select>\n      </div>\n    </div>\n    <div class='control-group'>\n      <div class='controls'>\n        <label class='checkbox'>\n          <input class='checkbox' name='contabilidad' checked='"+e(t(this.crop_control.contabilidad))+"' data-label='Contabilidad' type='checkbox'>\n          <input class='checkbox' name='gestion' checked='"+e(t(this.crop_control.gestion))+"' data-label='Gestion' type='checkbox'>\n        </label>\n      </div>\n    </div>\n    <div class='control-group'>\n      <label class='control-label' for='entrada'>Entrada</label>\n      <div class='controls'>\n        <input name='entrada' value='"+e(t(this.crop_control.entrada))+"' required type='number' step='0.001' min='0'>\n      </div>\n    </div>\n    <div class='control-group'>\n      <label class='control-label' for='salida'>Salida</label>\n      <div class='controls'>\n        <input name='salida' value='"+e(t(this.crop_control.salida))+"' required type='number' step='0.001' min='0'>\n      </div>\n    </div>\n    <div class='control-group'>\n      <label class='control-label' for='precio_unitario'>Precio Unitario</label>\n      <div class='controls'>\n        <input name='precio_unitario' value='"+e(t(this.crop_control.precio_unitario))+"' required type='number' step='0.001' min='0.001'>\n      </div>\n    </div>\n    <div class='control-group'>\n      <label class='control-label' for='comentario'>Comentarios</label>\n      <div class='controls'>\n        <textarea name='comentario'>\x92"),n.push("        "+e(t(this.crop_control.comentario))),n.push("        \x91</textarea>\n      </div>\n    </div>\n    <div class='form-actions'>\n      <a class='btn btn-alt btn-large cancel' href='#index'>Volver al Listado</a>\n      <button class='btn btn-alt btn-large btn-primary' type='submit'>Guardar</button>\n      <a class='btn btn-alt btn-large save_and_add' href='#'>Guardar y nuevo</a>\n    </div>\n  </fieldset>\n</form>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"").replace(/[\s\n]*\u0091/gm,"").replace(/\u0092[\s\n]*/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crop_controls/index"]=function(t){return function(){var t;return t=[],t.push("<table class='table'>\n  <thead>\n    <tr>\n      <th>Fecha</th>\n      <th>Tipo Doc</th>\n      <th>Entrada (tn)</th>\n      <th>Salida (tn)</th>\n      <th>Saldo (tn)</th>\n      <th style='border-left: 3px dashed #2c3e50'>Precio ($/tn)</th>\n      <th>Debe ($)</th>\n      <th>Haber ($)</th>\n      <th>Saldo ($)</th>\n      <th>Actualizado por</th>\n      <th>Comentario</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody></tbody>\n</table>"),t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crop_controls/summary"]=function(t){return function(){var t;return t=[],t.push("<form class='form-horizontal'>\n  <div class='form-group'>\n    <label class='col-sm-2 control-label' for='balance_at'>Saldo al:</label>\n    <div class='col-sm-5'>\n      <input class='form-control' id='balance_at' type='date'>/</input>\n      <a class='btn btn-alt' id='download_excel'>\n        Descargar en Excel\n      </a>\n    </div>\n  </div>\n</form>\n<table class='table'>\n  <thead>\n    <tr>\n      <th></th>\n      <th colspan='3'>GESTI\xd3N</th>\n      <th colspan='3'>CONTABILIDAD</th>\n    </tr>\n    <tr>\n      <th>GRANO</th>\n      <th>TN</th>\n      <th>$ UNIT</th>\n      <th>$ TOTAL</th>\n      <th style='border-left: 3px dashed #2c3e50'>TN</th>\n      <th>$ UNIT</th>\n      <th>$ TOTAL</th>\n    </tr>\n  </thead>\n  <tfoot></tfoot>\n  <tbody></tbody>\n</table>"),t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crop_controls/summary_item"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<td>"+this.crop+"</td>\n<td class='number'>"+e(t(accounting.formatNumber(this.gestion.tn)))+"</td>\n<td class='number'>"+e(t(accounting.formatMoney(this.gestion.unit)))+"</td>\n<td class='number'>"+e(t(accounting.formatMoney(this.gestion.total)))+"</td>\n<td class='number'>"+e(t(accounting.formatNumber(this.contabilidad.tn)))+"</td>\n<td class='number'>"+e(t(accounting.formatMoney(this.contabilidad.unit)))+"</td>\n<td class='number'>"+e(t(accounting.formatMoney(this.contabilidad.total)))+"</td>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crop_controls/summary_totals"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<tr>	\n  <td colspan='3'>TOTALES</td>\n  <td class='number'>"+e(t(accounting.formatMoney(this.gestion_total)))+"</td>\n  <td colspan='2'></td>\n  <td class='number'>"+e(t(accounting.formatMoney(this.contabilidad_total)))+"</td>\n</tr>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crops/crop"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<td>"+e(t(this.name))+"</td>\n<!--\n  <td>"+e(t(this.market))+"</td>\n  <td>"+e(t(this.source))+"</td>\n  <td>"+e(t(this.unit))+"</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n  <td>0.00</td>\n-->\n<td style='font-size:1.5em;text-align:center'>\n  <a href='#/"+e(t(this._id))+"/edit'>\n    <span class='awe-pencil'></span>\n  </a>\n  &nbsp;&nbsp;&nbsp;\n  <a class='destroy' href='#/"+e(t(this._id))+"/destroy'>\n    <span class='awe-remove'></span>\n  </a>\n</td>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crops/form"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<form class='form-horizontal no-margin' name='crop'>\n  <fieldset>\n    <div class='control-group'>\n      <label class='control-label' for='name'>Nombre</label>\n      <div class='controls'>\n        <input name='name' required value='"+e(t(this.name))+"'>\n      </div>\n    </div>\n    <!--\n      <div class='control-group'>\n        <label class='control-label' for='market'>Mercado</label>\n        <div class='controls'>\n          <input name='market' value='"+e(t(this.market))+"'>\n        </div>\n      </div>\n      <div class='control-group'>\n        <label class='control-label' for='source'>Fuente</label>\n        <div class='controls'>\n          <input name='source' value='"+e(t(this.source))+"'>\n        </div>\n      </div>\n      <div class='control-group'>\n        <label class='control-label' for='unit'>Unidad</label>\n        <div class='controls'>\n          <input name='unit' value='"+e(t(this.unit))+"'>\n        </div>\n      </div>\n    -->\n    <div class='form-actions'>\n      <a class='btn btn-alt btn-large cancel' href='#index'>Volver al Listado</a>\n      <button class='btn btn-alt btn-large btn-primary' type='submit'>Guardar</button>\n    </div>\n  </fieldset>\n</form>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/crops/index"]=function(t){return function(){var t;return t=[],t.push("<table class='table'>\n  <thead>\n    <tr>\n      <th>Nombre</th>\n      <!--\n        <th>Mercado</th>\n        <th>Fuente</th>\n        <th>Unidad</th>\n        <th colspan='12'>\n          <span>Precios</span>\n          <select>\n            <option>2008</option>\n          </select>\n        </th>\n      -->\n      <th></th>\n    </tr>\n    <!--\n      <tr>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th>Ene</th>\n        <th>Feb</th>\n        <th>Mar</th>\n        <th>Abr</th>\n        <th>May</th>\n        <th>Jun</th>\n        <th>Jul</th>\n        <th>Ago</th>\n        <th>Sep</th>\n        <th>Oct</th>\n        <th>Nov</th>\n        <th>Dic</th>\n        <th></th>\n      </tr>\n    -->\n  </thead>\n  <tbody></tbody>\n</table>\n<a class='btn btn-alt btn-success' href='#/new'>Nuevo</a>"),t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/invoices/form"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<form class='form-horizontal no-margin' name='invoice'>\n  <fieldset>\n    <div class='control-group'>\n      <label class='control-label' for='name'>Nro Doc</label>\n      <div class='controls'>\n        <input name='nro_doc' required value='"+e(t(this.nro_doc))+"'>\n      </div>\n    </div>\n    <div class='form-actions'>\n      <a class='btn btn-alt btn-large cancel' href='#index'>Volver al Listado</a>\n      <button class='btn btn-alt btn-large btn-primary' type='submit'>Guardar</button>\n    </div>\n  </fieldset>\n</form>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/invoices/index"]=function(t){return function(){var t;return t=[],t.push("<table class='table'>\n  <thead>\n    <tr>\n      <th>N\xba Doc</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody></tbody>\n</table>\n<a class='btn btn-alt btn-success' href='#/new'>Nuevo</a>"),t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/invoices/invoice"]=function(t){return function(){var t,e,n;return e=window.HAML.escape,t=window.HAML.cleanValue,n=[],n.push("<td>"+e(t(this.nro_doc))+"</td>\n<td style='font-size:1.5em;text-align:center'>\n  <a target='_blank' href='"+e(t(Routes.pdf_admin_invoice_path(this._id)))+"'>\n    <span class='awe-file'></span>\n  </a>\n  &nbsp;&nbsp;&nbsp;\n  <a href='#/"+e(t(this._id))+"/edit'>\n    <span class='awe-pencil'></span>\n  </a>\n  &nbsp;&nbsp;&nbsp;\n  <a class='destroy' href='#/"+e(t(this._id))+"/destroy'>\n    <span class='awe-remove'></span>\n  </a>\n</td>"),n.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(t))}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/stores/edit"]=function(obj){var __p=[];with(obj||{})__p.push('<h1>Edit store</h1>\r\n\r\n<form id="edit-store" name="store">\r\n  <div class="field">\r\n    <label for="name"> name:</label>\r\n    <input type="text" name="name" id="name" value="',name,'" >\r\n  </div>\r\n\r\n  <div class="actions">\r\n    <input type="submit" value="Update Store" />\r\n  </div>\r\n\r\n</form>\r\n\r\n<a href="#/index">Back</a>\r\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/stores/index"]=function(obj){var __p=[];with(obj||{})__p.push('<h1>Listing stores</h1>\r\n\r\n<table id="stores-table">\r\n  <tr>\r\n    <th>Name</th>\r\n    <th></th>\r\n    <th></th>\r\n    <th></th>\r\n  </tr>\r\n</table>\r\n\r\n<br/>\r\n\r\n<a href="#/new">New Store</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/stores/new"]=function(obj){var __p=[];with(obj||{})__p.push('<h1>New store</h1>\r\n\r\n<form id="new-store" name="store">\r\n  <div class="field">\r\n    <label for="name"> name:</label>\r\n    <input type="text" name="name" id="name" value="',name,'" >\r\n  </div>\r\n\r\n  <div class="actions">\r\n    <input type="submit" value="Create Store" />\r\n  </div>\r\n\r\n</form>\r\n\r\n<a href="#/index">Back</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/stores/show"]=function(obj){var __p=[];with(obj||{})__p.push("<p>\r\n  <b>Name:</b>\r\n  ",name,'\r\n</p>\r\n\r\n\r\n<a href="#/index">Back</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["backbone/templates/stores/store"]=function(obj){var __p=[];with(obj||{})__p.push("<td>",name,'</td>\r\n\r\n<td><a href="#/',id,'">Show</td>\r\n<td><a href="#/',id,'/edit">Edit</td>\r\n<td><a href="#/',id,'/destroy" class="destroy">Destroy</a></td>\n');return __p.join("")}}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Models.Comment=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.idAttribute="_id",n.prototype.defaults={text:null},n}(Backbone.Model),Marino.Collections.CommentsCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Marino.Models.Comment,n.prototype.url=function(){return Routes.comment_company_path(app.options.company.slug)},n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Models.Crop=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.paramRoot="crop",n.prototype.idAttribute="_id",n}(Backbone.Model),Marino.Collections.CropsCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)
}return e(n,t),n.prototype.model=Marino.Models.Crop,n.prototype.url=function(){return Routes.admin_crops_path()},n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Models.CropControl=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.paramRoot="crop_control",n.prototype.idAttribute="_id",n.prototype.defaults={entrada:0,salida:0,precio_unitario:0,gestion:!0,contabilidad:!0,tipo_doc:"EX INIC"},n.prototype.isValuacion=function(){var t;return"VALUACION"===(t=this.get("tipo_doc"))},n.prototype.isEntrada=function(){var t;return"EX INIC"===(t=this.get("tipo_doc"))||"COSECHA"===t||"AJUSTE +"===t||"ALQUILER +"===t||"APARCERIA +"===t},n.prototype.isSalida=function(){var t;return"VENTAS"===(t=this.get("tipo_doc"))||"MERMAS"===t||"CONSUMOS"===t||"SEMILLA"===t||"AJUSTE -"===t||"ALQUILER -"===t||"APARCERIA -"===t},n.prototype.tn=function(){return parseFloat(this.get("entrada"))-parseFloat(this.get("salida"))},n.prototype.unit=function(){return parseFloat(this.get("precio_unitario"))},n}(Backbone.Model),Marino.Collections.CropControlsCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Marino.Models.CropControl,n.prototype.url="/crop_controls",n.prototype.params={},n.prototype.tipo_docs=["EX INIC","COSECHA","AJUSTE +","ALQUILER +","APARCERIA +","VENTAS","MERMAS","CONSUMOS","SEMILLA","AJUSTE -","ALQUILER -","APARCERIA -","VALUACION"],n.prototype.precio_unitario=function(){var t,e;return e=this.where(this.params),t=_.last(e),t?t.get("precio_unitario"):0},n.prototype.comparator=function(t){return t.get("fecha")},n.prototype.filteredIds=function(){var t;return t=this.where(this.params),_.pluck(t,"id")},n.prototype.calculate=function(){var t,e,n,o;return t=this.where(this.params),t=_.invoke(t,"toJSON"),e=0,n=0,o=0,_.each(t,function(t){var i;return n+=t.entrada-t.salida,t.saldo=Math.round(1e3*n)/1e3,"VALUACION"===t.tipo_doc?(i=(t.precio_unitario-e)*n,i=Math.round(1e3*i)/1e3,i>=0?(t.debe=i,t.haber=0):(t.debe=0,t.haber=-i)):(t.debe=Math.round(t.entrada*t.precio_unitario*1e3)/1e3,t.haber=Math.round(t.salida*t.precio_unitario*1e3)/1e3),o+=t.debe-t.haber,t.saldo_p=Math.round(1e3*o)/1e3,e=t.precio_unitario}),t},n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Models.Invoice=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.paramRoot="invoice",n.prototype.idAttribute="_id",n}(Backbone.Model),Marino.Collections.InvoicesCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Marino.Models.Invoice,n.prototype.url=function(){return Routes.admin_invoices_path()},n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Models.Post=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.paramRoot="post",n.prototype.defaults={title:null,content:null},n}(Backbone.Model),Marino.Collections.PostsCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Marino.Models.Post,n.prototype.url="/posts",n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Models.Store=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.paramRoot="store",n.prototype.idAttribute="_id",n}(Backbone.Model),Marino.Collections.StoresCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Marino.Models.Store,n.prototype.url="/stores",n}(Backbone.Collection)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Comments||(t.Comments={}),Marino.Views.Comments.CommentView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/comments/comment"],e.prototype.className="user_message message",e.prototype.tagName="tr",e.prototype.events={"click .destroy":"destroy"},e.prototype.destroy=function(){return this.model.destroy(),this.remove(),!1},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("time").timeago(),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Comments||(t.Comments={}),Marino.Views.Comments.EditView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/comments/edit"],e.prototype.events={"submit #edit-comment":"update"},e.prototype.update=function(t){return t.preventDefault(),t.stopPropagation(),this.model.save(null,{success:function(t){return function(e){return t.model=e,window.location.hash="/"+t.model.id}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,o=function(t,e){function o(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};(t=Marino.Views).Comments||(t.Comments={}),Marino.Views.Comments.IndexView=function(t){function n(){return this.render=e(this.render,this),this.addOne=e(this.addOne,this),this.addAll=e(this.addAll,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.template=JST["backbone/templates/comments/index"],n.prototype.el="#comments",n.prototype.events={"submit .send":"send_message"},n.prototype.cache={open:!1},n.prototype.initialize=function(){return this.options.comments.bind("reset",this.addAll),this.options.comments.bind("add",this.addOne),this.cache=store.get("chat-cache")||this.cache,$(window).unload(function(t){return function(){return store.set("chat-cache",t.cache)}}(this))},n.prototype.open=function(){return this.cache.open=!0},n.prototype.send_message=function(t){var e;return t.preventDefault(),(e=this.$(".send input").val())?(this.options.comments.create({text:e},{silent:!0,success:function(t){return function(e){return t.addOne(e)}}(this)}),this.$(".send input").val("").focus()):void 0},n.prototype.addAll=function(){return this.options.comments.each(this.addOne)},n.prototype.addOne=function(t){var e;return e=new Marino.Views.Comments.CommentView({model:t}),this.$(".messages table").append(e.render().el),this.$(".messages").get(0).scrollTop=1e7},n.prototype.render=function(){return this.$el.html(this.template({comments:this.options.comments.toJSON()})),this.addAll(),this},n}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Comments||(t.Comments={}),Marino.Views.Comments.NewView=function(t){function e(t){e.__super__.constructor.call(this,t),this.model=new this.collection.model,this.model.bind("change:errors",function(t){return function(){return t.render()}}(this))}return n(e,t),e.prototype.template=JST["backbone/templates/comments/new"],e.prototype.events={"submit #new-comment":"save"},e.prototype.save=function(t){return t.preventDefault(),t.stopPropagation(),this.model.unset("errors"),this.collection.create(this.model.toJSON(),{success:function(t){return function(e){return t.model=e,window.location.hash="/"+t.model.id}}(this),error:function(t){return function(e,n){return t.model.set({errors:$.parseJSON(n.responseText)})}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).CropControls||(t.CropControls={}),Marino.Views.CropControls.FormView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/crop_controls/form"],e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("input.checkbox").prettyCheckable(),this.$("form").backboneLink(this.model),this},e.prototype.fecha_changed=function(t){var e;t.preventDefault(),e=$(t.target).val(),!e},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).CropControls||(t.CropControls={}),Marino.Views.CropControls.CropControlView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/crop_controls/crop_control"],e.prototype.events={"click .destroy":"destroy"},e.prototype.tagName="tr",e.prototype.destroy=function(){return confirm("Est\xe1 seguro de querer eliminar este registro?")&&(this.model.destroy(),this.remove()),!1},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).CropControls||(t.CropControls={}),Marino.Views.CropControls.EditView=function(t){function e(t){e.__super__.constructor.call(this,t),this.collection=this.options.crop_controls}return n(e,t),e.prototype.template=JST["backbone/templates/crop_controls/form"],e.prototype.events={"click .save_and_add":"save_and_add","submit form":"update",'change select[name="tipo_doc"]':"tipo_doc_changed"},e.prototype.update=function(t){return t.preventDefault(),t.stopPropagation(),this.model.save(null,{success:function(t){return function(e){return t.model=e,window.location.hash="/index"}}(this)})},e.prototype.save_and_add=function(t){return t.preventDefault(),t.stopPropagation(),this.model.unset("errors"),this.model.save(null,{success:function(t){return function(e){return t.model=e.clone(),t.model.set({entrada:0,salida:0,comentario:""}),t.render()}}(this),error:function(t){return function(e,n){return t.model.set({errors:$.parseJSON(n.responseText)})}}(this)})},e.prototype.tipo_doc_changed=function(){return this.model.isEntrada()&&(this.$('input[name="entrada"]').prop("disabled",!1),this.$('input[name="salida"]').prop("disabled",!0),this.model.set("salida",0)),this.model.isSalida()&&(this.$('input[name="entrada"]').prop("disabled",!0),this.$('input[name="salida"]').prop("disabled",!1),this.model.set("entrada",0)),this.model.isValuacion()?(this.$('input[name="entrada"]').prop("disabled",!0),this.$('input[name="salida"]').prop("disabled",!0),this.model.set("entrada",0),this.model.set("salida",0)):void 0},e.prototype.render=function(){return this.$el.html(this.template({crop_control:this.model.toJSON(),stores:this.options.stores.toJSON(),crops:this.options.crops.toJSON(),tipo_docs:this.options.crop_controls.tipo_docs})),this.$("input.checkbox").prettyCheckable(),this.tipo_doc_changed(),this.$("form").backboneLink(this.model),$("#filters").hide(),this},e}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,o=function(t,e){function o(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};(t=Marino.Views).CropControls||(t.CropControls={}),Marino.Views.CropControls.FiltersView=function(t){function n(){return this.render=e(this.render,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.template=JST["backbone/templates/crop_controls/filters"],n.prototype.events={"change #store-filter":"store_filter_changed","change #crop-filter":"crop_filter_changed","switch-change #switch-filter":"switch_filter_changed","click #new_crop_control":"new_crop_control_click","click #excel_crop_control":"excel_crop_control_click"},n.prototype.initialize=function(){return this.options.crop_controls.params={crop_id:this.options.crops.first().id,gestion:!0}},n.prototype.switch_filter_changed=function(t,e){return e.value?(delete this.options.crop_controls.params.gestion,this.options.crop_controls.params.contabilidad=!0):(delete this.options.crop_controls.params.contabilidad,this.options.crop_controls.params.gestion=!0),this.options.crop_controls.trigger("filters_changed")},n.prototype.store_filter_changed=function(t){var e;switch(e=$(t.target).val()){case"all":return delete this.options.crop_controls.params.store_id,this.options.crop_controls.trigger("filters_changed");default:return this.options.crop_controls.params.store_id=e,this.options.crop_controls.trigger("filters_changed")}},n.prototype.crop_filter_changed=function(t){var e;return e=$(t.target).val(),this.options.crop_controls.params.crop_id=e,this.options.crop_controls.trigger("filters_changed")},n.prototype.new_crop_control_click=function(){return window.location.hash="new"},n.prototype.excel_crop_control_click=function(){var t,e,n;return e=this.options.crop_controls.params,n=e.contabilidad?"Contabilidad":"Gestion",n+="  -  "+this.$("#store-filter :selected").text()+" - "+this.$("#crop-filter :selected").text(),t={title:n,ids:this.options.crop_controls.filteredIds(),authenticity_token:$("meta[name=csrf-token]").attr("content")},$.form(Routes.excel_crop_controls_path(),t,"POST").submit()},n.prototype.render=function(){return this.$el.html(this.template({stores:this.options.stores.toJSON(),crops:this.options.crops.toJSON()})),this},n}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,o=function(t,e){function o(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};(t=Marino.Views).CropControls||(t.CropControls={}),Marino.Views.CropControls.IndexView=function(t){function n(){return this.render=e(this.render,this),this.addOne=e(this.addOne,this),this.addAll=e(this.addAll,this),this.filters_changed=e(this.filters_changed,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.template=JST["backbone/templates/crop_controls/index"],n.prototype.initialize=function(){return this.collection=this.options.crop_controls,this.shadowCollection=this.collection.clone(),this.listenTo(this.collection,"add",function(t){return function(e,n,o){return t.shadowCollection.add(e,o)}}(this)),this.listenTo(this.shadowCollection,"remove",function(t){return function(e,n,o){return t.collection.remove(e,o),t.collection.trigger("filters_changed")}}(this)),this.listenTo(this.collection,"reset",function(t){return function(e,n){return n=_.extend({reindex:!0},n||{}),n.reindex?t.shadowCollection.reset(e.models):void 0}}(this)),this.collection.bind("filters_changed",this.filters_changed),this.collection.trigger("filters_changed"),this.shadowCollection.bind("reset",this.addAll),this.shadowCollection.bind("add",this.addOne)},n.prototype.filters_changed=function(){var t;return this.shadowCollection.params=this.collection.params,t=this.collection.calculate(),this.shadowCollection.reset(t,{reindex:!1})},n.prototype.addAll=function(){return this.$("tbody").empty(),this.shadowCollection.each(this.addOne)},n.prototype.addOne=function(t){var e;return e=new Marino.Views.CropControls.CropControlView({model:t}),this.$("tbody").append(e.render().el)},n.prototype.render=function(){return this.$el.html(this.template()),this.addAll(),$("#filters").show(),this},n}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).CropControls||(t.CropControls={}),Marino.Views.CropControls.NewView=function(t){function e(t){e.__super__.constructor.call(this,t),this.collection=this.options.crop_controls,this.initModel()}return n(e,t),e.prototype.template=JST["backbone/templates/crop_controls/form"],e.prototype.events={"click .save_and_add":"save_and_add","submit form":"save",'change select[name="tipo_doc"]':"tipo_doc_changed"},e.prototype.initModel=function(){return this.model?(this.model=this.model.clone(),this.model.set({entrada:0,salida:0,comentario:""})):(this.model=new this.collection.model,this.model.set({store_id:this.options.stores.first().id,crop_id:this.options.crops.first().id}),this.model.set(this.collection.params),this.model.set({precio_unitario:this.collection.precio_unitario(),fecha:(new Date).toJSON().substring(0,10)})),this.model.bind("change:errors",function(t){return function(){return t.render()}}(this))},e.prototype.save=function(t){return t.preventDefault(),t.stopPropagation(),this.model.unset("errors"),this.collection.create(this.model.toJSON(),{success:function(t){return function(e){return t.model=e,window.location.hash="index"}}(this),error:function(t){return function(e,n){return t.model.set({errors:$.parseJSON(n.responseText)})}}(this)})},e.prototype.save_and_add=function(t){return t.preventDefault(),t.stopPropagation(),this.model.unset("errors"),this.collection.create(this.model.toJSON(),{success:function(t){return function(){return t.initModel(),t.render()}}(this),error:function(t){return function(e,n){return t.model.set({errors:$.parseJSON(n.responseText)})}}(this)})},e.prototype.tipo_doc_changed=function(){return this.model.isEntrada()&&(this.$('input[name="entrada"]').prop("disabled",!1),this.$('input[name="salida"]').prop("disabled",!0),this.model.set("salida",0)),this.model.isSalida()&&(this.$('input[name="entrada"]').prop("disabled",!0),this.$('input[name="salida"]').prop("disabled",!1),this.model.set("entrada",0)),this.model.isValuacion()?(this.$('input[name="entrada"]').prop("disabled",!0),this.$('input[name="salida"]').prop("disabled",!0),this.model.set("entrada",0),this.model.set("salida",0)):void 0},e.prototype.render=function(){return this.$el.html(this.template({crop_control:this.model.toJSON(),stores:this.options.stores.toJSON(),crops:this.options.crops.toJSON(),tipo_docs:this.options.crop_controls.tipo_docs})),this.$("input.checkbox").prettyCheckable(),this.tipo_doc_changed(),this.$("form").backboneLink(this.model),$("#filters").hide(),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).CropControls||(t.CropControls={}),Marino.Views.CropControls.SummaryItemView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/crop_controls/summary_item"],e.prototype.tagName="tr",e.prototype.initialize=function(t){return this.data=t},e.prototype.render=function(){return this.$el.html(this.template(this.data)),this},e}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,o=function(t,e){function o(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};(t=Marino.Views).CropControls||(t.CropControls={}),Marino.Views.CropControls.SummaryView=function(t){function n(){return this.render=e(this.render,this),this.addAll=e(this.addAll,this),this.download_excel_handler=e(this.download_excel_handler,this),this.date_changed_handler=e(this.date_changed_handler,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.template=JST["backbone/templates/crop_controls/summary"],n.prototype.totals_template=JST["backbone/templates/crop_controls/summary_totals"],n.prototype.el="#crop_controls_summary",n.prototype.events={"change #balance_at":"date_changed_handler","click #download_excel":"download_excel_handler"},n.prototype.initialize=function(){return this.collection=new Marino.Collections.CropControlsCollection,this.collection.reset(this.options.crop_controls),this.crops=new Marino.Collections.CropsCollection,this.crops.reset(this.options.crops),this.balance_at=Date.today().toString("yyyy-MM-dd")},n.prototype.date_changed_handler=function(){var t;return t=Date.parse(this.$("#balance_at").val()),this.balance_at=t.toString("yyyy-MM-dd"),this.addAll()},n.prototype.download_excel_handler=function(){return window.location=Routes.summary_crop_controls_path({format:"xlsx",balance_at:this.balance_at})},n.prototype.addAll=function(){var t,e,n,o,i,r,s,a,l,c,u;this.$("tbody").empty(),c=this.collection.sortBy(function(t){return t.get("fecha")}),r=c.filter(function(t){return function(e){return e.get("fecha")<=t.balance_at}}(this)),l=_.groupBy(r,function(t){return t.get("crop_id")}),a=0,n=0;for(o in l)t=l[o],i={crop:this.crops.get(o).get("name"),gestion:{},contabilidad:{}},s=_.filter(t,function(t){return t.get("gestion")}),e=_.filter(t,function(t){return t.get("contabilidad")}),i.gestion.tn=_.reduce(s,function(t,e){return t+e.tn()},0),i.gestion.unit=0,s.length>0&&(i.gestion.unit=_.last(s).unit()),i.gestion.total=i.gestion.tn*i.gestion.unit,i.contabilidad.tn=_.reduce(e,function(t,e){return t+e.tn()},0),i.contabilidad.unit=0,e.length>0&&(i.contabilidad.unit=_.last(e).unit()),i.contabilidad.total=i.contabilidad.tn*i.contabilidad.unit,a+=i.gestion.total,n+=i.contabilidad.total,u=new Marino.Views.CropControls.SummaryItemView(i),this.$("tbody").append(u.render().el);return this.$("tfoot").html(this.totals_template({gestion_total:a,contabilidad_total:n}))},n.prototype.render=function(){return this.$el.html(this.template()),this.addAll(),this.$("#balance_at").val(this.balance_at),this},n}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Crops||(t.Crops={}),Marino.Views.Crops.CropView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/crops/crop"],e.prototype.events={"click .destroy":"destroy"},e.prototype.tagName="tr",e.prototype.destroy=function(){return confirm("Est\xe1 seguro de querer eliminar este registro?")&&(this.model.destroy(),this.remove()),!1},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Crops||(t.Crops={}),Marino.Views.Crops.EditView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/crops/form"],e.prototype.events={"submit form":"update"},e.prototype.update=function(t){return t.preventDefault(),t.stopPropagation(),this.model.save(null,{success:function(t){return function(e){return t.model=e,window.location.hash="index"}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,o=function(t,e){function o(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};(t=Marino.Views).Crops||(t.Crops={}),Marino.Views.Crops.IndexView=function(t){function n(){return this.render=e(this.render,this),this.addOne=e(this.addOne,this),this.addAll=e(this.addAll,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.template=JST["backbone/templates/crops/index"],n.prototype.initialize=function(){return this.options.crops.bind("reset",this.addAll)},n.prototype.addAll=function(){return this.options.crops.each(this.addOne)},n.prototype.addOne=function(t){var e;return e=new Marino.Views.Crops.CropView({model:t}),this.$("tbody").append(e.render().el)},n.prototype.render=function(){return this.$el.html(this.template({crops:this.options.crops.toJSON()})),this.addAll(),this},n}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Crops||(t.Crops={}),Marino.Views.Crops.NewView=function(t){function e(t){e.__super__.constructor.call(this,t),this.model=new this.collection.model,this.model.bind("change:errors",function(t){return function(){return t.render()}}(this))}return n(e,t),e.prototype.template=JST["backbone/templates/crops/form"],e.prototype.events={"submit form":"save"},e.prototype.save=function(t){return t.preventDefault(),t.stopPropagation(),this.model.unset("errors"),this.collection.create(this.model.toJSON(),{success:function(t){return function(e){return t.model=e,window.location.hash="index"}}(this),error:function(t){return function(e,n){return t.model.set({errors:$.parseJSON(n.responseText)})}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Crops||(t.Crops={}),Marino.Views.Crops.ShowView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/crops/show"],e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Invoices||(t.Invoices={}),Marino.Views.Invoices.EditView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/invoices/form"],e.prototype.events={"submit form":"update"},e.prototype.update=function(t){return t.preventDefault(),t.stopPropagation(),this.model.save(null,{success:function(t){return function(e){return t.model=e,window.location.hash="index"}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,o=function(t,e){function o(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};(t=Marino.Views).Invoices||(t.Invoices={}),Marino.Views.Invoices.IndexView=function(t){function n(){return this.render=e(this.render,this),this.addOne=e(this.addOne,this),this.addAll=e(this.addAll,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.template=JST["backbone/templates/invoices/index"],n.prototype.initialize=function(){return this.options.invoices.bind("reset",this.addAll)},n.prototype.addAll=function(){return this.options.invoices.each(this.addOne)},n.prototype.addOne=function(t){var e;return e=new Marino.Views.Invoices.InvoiceView({model:t}),this.$("tbody").append(e.render().el)},n.prototype.render=function(){return this.$el.html(this.template({invoices:this.options.invoices.toJSON()})),this.addAll(),this},n}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Invoices||(t.Invoices={}),Marino.Views.Invoices.InvoiceView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/invoices/invoice"],e.prototype.events={"click .destroy":"destroy"},e.prototype.tagName="tr",e.prototype.destroy=function(){return confirm("Est\xe1 seguro de querer eliminar este registro?")&&(this.model.destroy(),this.remove()),!1},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Invoices||(t.Invoices={}),Marino.Views.Invoices.NewView=function(t){function e(t){e.__super__.constructor.call(this,t),this.model=new this.collection.model,this.model.bind("change:errors",function(t){return function(){return t.render()}}(this))}return n(e,t),e.prototype.template=JST["backbone/templates/invoices/form"],e.prototype.events={"submit form":"save"},e.prototype.save=function(t){return t.preventDefault(),t.stopPropagation(),this.model.unset("errors"),this.collection.create(this.model.toJSON(),{success:function(t){return function(e){return t.model=e,window.location.hash="index"}}(this),error:function(t){return function(e,n){return t.model.set({errors:$.parseJSON(n.responseText)})}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Crops||(t.Crops={}),Marino.Views.Crops.ShowView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/crops/show"],e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Stores||(t.Stores={}),Marino.Views.Stores.EditView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/stores/edit"],e.prototype.events={"submit #edit-store":"update"},e.prototype.update=function(t){return t.preventDefault(),t.stopPropagation(),this.model.save(null,{success:function(t){return function(e){return t.model=e,window.location.hash="/"+t.model.id}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,o=function(t,e){function o(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};(t=Marino.Views).Stores||(t.Stores={}),Marino.Views.Stores.IndexView=function(t){function n(){return this.render=e(this.render,this),this.addOne=e(this.addOne,this),this.addAll=e(this.addAll,this),n.__super__.constructor.apply(this,arguments)
}return o(n,t),n.prototype.template=JST["backbone/templates/stores/index"],n.prototype.initialize=function(){return this.options.stores.bind("reset",this.addAll)},n.prototype.addAll=function(){return this.options.stores.each(this.addOne)},n.prototype.addOne=function(t){var e;return e=new Marino.Views.Stores.StoreView({model:t}),this.$("tbody").append(e.render().el)},n.prototype.render=function(){return this.$el.html(this.template({stores:this.options.stores.toJSON()})),this.addAll(),this},n}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Stores||(t.Stores={}),Marino.Views.Stores.NewView=function(t){function e(t){e.__super__.constructor.call(this,t),this.model=new this.collection.model,this.model.bind("change:errors",function(t){return function(){return t.render()}}(this))}return n(e,t),e.prototype.template=JST["backbone/templates/stores/new"],e.prototype.events={"submit #new-store":"save"},e.prototype.save=function(t){return t.preventDefault(),t.stopPropagation(),this.model.unset("errors"),this.collection.create(this.model.toJSON(),{success:function(t){return function(e){return t.model=e,window.location.hash="/"+t.model.id}}(this),error:function(t){return function(e,n){return t.model.set({errors:$.parseJSON(n.responseText)})}}(this)})},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").backboneLink(this.model),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Stores||(t.Stores={}),Marino.Views.Stores.ShowView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/stores/show"],e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},e}(Backbone.View)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};(t=Marino.Views).Stores||(t.Stores={}),Marino.Views.Stores.StoreView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.template=JST["backbone/templates/stores/store"],e.prototype.events={"click .destroy":"destroy"},e.prototype.tagName="tr",e.prototype.destroy=function(){return this.model.destroy(),this.remove(),!1},e.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},e}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Routers.CommentsRouter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(t){return this.comments=new Marino.Collections.CommentsCollection,this.comments.reset(t.comments)},n.prototype.routes={"new":"newComment",index:"index",":id/edit":"edit",":id":"show",".*":"index"},n.prototype.newComment=function(){return this.view=new Marino.Views.Comments.NewView({collection:this.comments}),$("#comments").html(this.view.render().el)},n.prototype.index=function(){return this.view=new Marino.Views.Comments.IndexView({comments:this.comments}),$("#comments").html(this.view.render().el)},n.prototype.show=function(t){var e;return e=this.comments.get(t),this.view=new Marino.Views.Comments.ShowView({model:e}),$("#comments").html(this.view.render().el)},n.prototype.edit=function(t){var e;return e=this.comments.get(t),this.view=new Marino.Views.Comments.EditView({model:e}),$("#comments").html(this.view.render().el)},n}(Backbone.Router)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Routers.CropControlsRouter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(t){var e;return this.crop_controls=new Marino.Collections.CropControlsCollection,this.crop_controls.reset(t.crop_controls),this.stores=new Marino.Collections.StoresCollection,this.stores.reset(t.stores),this.crops=new Marino.Collections.CropsCollection,this.crops.reset(t.crops),e=new Marino.Views.CropControls.FiltersView({crop_controls:this.crop_controls,stores:this.stores,crops:this.crops}),$("#filters").html(e.render().el),$("#switch-filter").bootstrapSwitch()},n.prototype.routes={"new":"newCropControl",index:"index",":id/edit":"edit",".*":"index"},n.prototype.newCropControl=function(){return this.view=new Marino.Views.CropControls.NewView({collection:this.crop_controls,crop_controls:this.crop_controls,stores:this.stores,crops:this.crops}),$("#crop_controls").html(this.view.render().el)},n.prototype.index=function(){return this.view=new Marino.Views.CropControls.IndexView({crop_controls:this.crop_controls,stores:this.stores,crops:this.crops}),$("#crop_controls").html(this.view.render().el)},n.prototype.edit=function(t){var e;return e=this.crop_controls.get(t),this.view=new Marino.Views.CropControls.EditView({model:e,crop_controls:this.crop_controls,stores:this.stores,crops:this.crops}),$("#crop_controls").html(this.view.render().el)},n}(Backbone.Router)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Routers.CropsRouter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(t){return this.crops=new Marino.Collections.CropsCollection,this.crops.reset(t.crops)},n.prototype.routes={"new":"newCrop",index:"index",":id/edit":"edit",":id":"show",".*":"index"},n.prototype.newCrop=function(){return this.view=new Marino.Views.Crops.NewView({collection:this.crops}),$("#crops").html(this.view.render().el)},n.prototype.index=function(){return this.view=new Marino.Views.Crops.IndexView({crops:this.crops}),$("#crops").html(this.view.render().el)},n.prototype.show=function(t){var e;return e=this.crops.get(t),this.view=new Marino.Views.Crops.ShowView({model:e}),$("#crops").html(this.view.render().el)},n.prototype.edit=function(t){var e;return e=this.crops.get(t),this.view=new Marino.Views.Crops.EditView({model:e}),$("#crops").html(this.view.render().el)},n}(Backbone.Router)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Routers.InvoicesRouter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(t){return this.invoices=new Marino.Collections.InvoicesCollection,this.invoices.reset(t.invoices)},n.prototype.routes={"new":"newInvoice",index:"index",":id/pdf":"pdf",":id/edit":"edit",":id":"show",".*":"index"},n.prototype.newInvoice=function(){return this.view=new Marino.Views.Invoices.NewView({collection:this.invoices}),$("#invoices").html(this.view.render().el)},n.prototype.index=function(){return this.view=new Marino.Views.Invoices.IndexView({invoices:this.invoices}),$("#invoices").html(this.view.render().el)},n.prototype.show=function(t){var e;return e=this.invoices.get(t),this.view=new Marino.Views.Invoices.ShowView({model:e}),$("#invoices").html(this.view.render().el)},n.prototype.edit=function(t){var e;return e=this.invoices.get(t),this.view=new Marino.Views.Invoices.EditView({model:e}),$("#invoices").html(this.view.render().el)},n.prototype.pdf=function(t){var e;return e=Routes.get_pdf_admin_invoice_path(t),window.open(e)},n}(Backbone.Router)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};Marino.Routers.StoresRouter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(t){return this.stores=new Marino.Collections.StoresCollection,this.stores.reset(t.stores)},n.prototype.routes={"new":"newStore",index:"index",":id/edit":"edit",".*":"index"},n.prototype.newStore=function(){return this.view=new Marino.Views.Stores.NewView({collection:this.stores}),$("#stores").html(this.view.render().el)},n.prototype.index=function(){return this.view=new Marino.Views.Stores.IndexView({stores:this.stores}),$("#stores").html(this.view.render().el)},n.prototype.edit=function(t){var e;return e=this.stores.get(t),this.view=new Marino.Views.Stores.EditView({model:e}),$("#stores").html(this.view.render().el)},n}(Backbone.Router)}.call(this),function(){$.extend($.fn,{backboneLink:function(t){var e;return e=this,$(this).find(":input").each(function(){var e,n,o;return e=$(this),o=e.attr("name"),n=e.is(":checkbox"),t.bind("change:"+o,function(){var i;return i=t.get(o),n?e.prop({checked:!!i}):e.val(i)}),e.on("change",function(){var i;return i=n?e.prop("checked"):e.val(),t.set(o,i)})})}})}.call(this),function(){var t;t=function(){function t(){this.utils={num_to_s:function(t){return t+="",1===t.length&&(t="0"+t),t}},this.options={}}return t.prototype.load=function(t){var e,n,o;o=[];for(e in t)n=t[e],o.push(this.options[e]=n);return o},t.prototype.start=function(){return $(function(t){return function(){return t.onReadyLoad()}}(this))},t.prototype.onReadyLoad=function(){var t,e;return this.user_id=this.options.user_id,this.options.invoices_admin&&(window.router=new Marino.Routers.InvoicesRouter(this.options),Backbone.history.start()),this.options.crops_admin&&(window.router=new Marino.Routers.CropsRouter(this.options),Backbone.history.start()),this.options.crop_control&&(t=new Marino.Collections.CommentsCollection,t.reset(this.options.company_comments),e=new Marino.Views.Comments.IndexView({comments:t}),window.router=new Marino.Routers.CropControlsRouter(this.options),Backbone.history.start()),this.options.crop_controls_summary?(e=new Marino.Views.CropControls.SummaryView({company:this.options.company,crops:this.options.crops,crop_controls:this.options.crop_controls}),e.render()):void 0},t}(),window.app=new t}.call(this),function(){var t,e;accounting.settings={currency:{symbol:"$",format:"%s %v",decimal:".",thousand:" ",precision:2},number:{precision:3,thousand:" ",decimal:"."}},t=function(t,e,n){return accounting.formatMoney(n)},e=function(t,e,n){return accounting.formatNumber(n)}}.call(this),function(){$(function(){return $(document).ajaxStart(function(){return $("#ajax-indicator").addClass("on")}),$(document).ajaxStop(function(){return $("#ajax-indicator").removeClass("on")}),$(document).ajaxError(function(t){return alert(t)})})}.call(this);